{"mappings":"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","sources":["node_modules/interactjs/dist/node_modules/browser-pack-flat/_prelude","node_modules/interactjs/dist/packages/@interactjs/utils/isWindow.ts","node_modules/interactjs/dist/packages/@interactjs/utils/window.ts","node_modules/interactjs/dist/packages/@interactjs/utils/is.ts","node_modules/interactjs/dist/packages/@interactjs/actions/drag/plugin.ts","node_modules/interactjs/dist/packages/@interactjs/utils/domObjects.ts","node_modules/interactjs/dist/packages/@interactjs/utils/browser.ts","node_modules/interactjs/dist/packages/@interactjs/utils/domUtils.ts","node_modules/interactjs/dist/packages/@interactjs/utils/extend.ts","node_modules/interactjs/dist/packages/@interactjs/utils/rect.ts","node_modules/interactjs/dist/packages/@interactjs/utils/getOriginXY.ts","node_modules/interactjs/dist/packages/@interactjs/utils/normalizeListeners.ts","node_modules/interactjs/dist/packages/@interactjs/utils/hypot.ts","node_modules/interactjs/dist/packages/@interactjs/utils/pointerExtend.ts","node_modules/interactjs/dist/packages/@interactjs/utils/pointerUtils.ts","node_modules/interactjs/dist/packages/@interactjs/core/BaseEvent.ts","node_modules/interactjs/dist/packages/@interactjs/utils/arr.ts","node_modules/interactjs/dist/packages/@interactjs/actions/drop/DropEvent.ts","node_modules/interactjs/dist/packages/@interactjs/actions/drop/plugin.ts","node_modules/interactjs/dist/packages/@interactjs/actions/gesture/plugin.ts","node_modules/interactjs/dist/packages/@interactjs/actions/resize/plugin.ts","node_modules/interactjs/dist/packages/@interactjs/actions/plugin.ts","node_modules/interactjs/dist/packages/@interactjs/utils/raf.ts","node_modules/interactjs/dist/packages/@interactjs/auto-scroll/plugin.ts","node_modules/interactjs/dist/packages/@interactjs/utils/misc.ts","node_modules/interactjs/dist/packages/@interactjs/auto-start/InteractableMethods.ts","node_modules/interactjs/dist/packages/@interactjs/auto-start/base.ts","node_modules/interactjs/dist/packages/@interactjs/auto-start/dragAxis.ts","node_modules/interactjs/dist/packages/@interactjs/auto-start/hold.ts","node_modules/interactjs/dist/packages/@interactjs/auto-start/plugin.ts","node_modules/interactjs/dist/packages/@interactjs/core/interactablePreventDefault.ts","node_modules/interactjs/dist/packages/@interactjs/dev-tools/visualizer/plugin.ts","node_modules/interactjs/dist/packages/@interactjs/dev-tools/plugin.ts","node_modules/interactjs/dist/packages/@interactjs/utils/clone.ts","node_modules/interactjs/dist/packages/@interactjs/modifiers/Modification.ts","node_modules/interactjs/dist/packages/@interactjs/modifiers/base.ts","node_modules/interactjs/dist/packages/@interactjs/core/options.ts","node_modules/interactjs/dist/packages/@interactjs/core/InteractEvent.ts","node_modules/interactjs/dist/packages/@interactjs/core/PointerInfo.ts","node_modules/interactjs/dist/packages/@interactjs/core/Interaction.ts","node_modules/interactjs/dist/packages/@interactjs/offset/plugin.ts","node_modules/interactjs/dist/packages/@interactjs/inertia/plugin.ts","node_modules/interactjs/dist/packages/@interactjs/core/Eventable.ts","node_modules/interactjs/dist/packages/@interactjs/core/isNonNativeEvent.ts","node_modules/interactjs/dist/packages/@interactjs/core/InteractStatic.ts","node_modules/interactjs/dist/packages/@interactjs/core/Interactable.ts","node_modules/interactjs/dist/packages/@interactjs/core/InteractableSet.ts","node_modules/interactjs/dist/packages/@interactjs/core/events.ts","node_modules/interactjs/dist/packages/@interactjs/core/interactionFinder.ts","node_modules/interactjs/dist/packages/@interactjs/core/interactions.ts","node_modules/interactjs/dist/packages/@interactjs/core/scope.ts","node_modules/interactjs/dist/packages/@interactjs/interact/index.ts","node_modules/interactjs/dist/packages/@interactjs/snappers/edgeTarget.ts","node_modules/interactjs/dist/packages/@interactjs/snappers/elements.ts","node_modules/interactjs/dist/packages/@interactjs/snappers/grid.ts","node_modules/interactjs/dist/packages/@interactjs/snappers/plugin.ts","node_modules/interactjs/dist/packages/@interactjs/modifiers/aspectRatio.ts","node_modules/interactjs/dist/packages/@interactjs/modifiers/noop.ts","node_modules/interactjs/dist/packages/@interactjs/modifiers/restrict/pointer.ts","node_modules/interactjs/dist/packages/@interactjs/modifiers/restrict/edges.ts","node_modules/interactjs/dist/packages/@interactjs/modifiers/restrict/rect.ts","node_modules/interactjs/dist/packages/@interactjs/modifiers/restrict/size.ts","node_modules/interactjs/dist/packages/@interactjs/modifiers/snap/pointer.ts","node_modules/interactjs/dist/packages/@interactjs/modifiers/snap/size.ts","node_modules/interactjs/dist/packages/@interactjs/modifiers/snap/edges.ts","node_modules/interactjs/dist/packages/@interactjs/modifiers/all.ts","node_modules/interactjs/dist/packages/@interactjs/modifiers/plugin.ts","node_modules/interactjs/dist/packages/@interactjs/pointer-events/PointerEvent.ts","node_modules/interactjs/dist/packages/@interactjs/pointer-events/base.ts","node_modules/interactjs/dist/packages/@interactjs/pointer-events/holdRepeat.ts","node_modules/interactjs/dist/packages/@interactjs/pointer-events/interactableTargets.ts","node_modules/interactjs/dist/packages/@interactjs/pointer-events/plugin.ts","node_modules/interactjs/dist/packages/@interactjs/reflow/plugin.ts","node_modules/interactjs/dist/packages/@interactjs/interactjs/index.ts","node_modules/interactjs/dist/packages/interactjs/index.ts","node_modules/interactjs/dist/node_modules/browser-pack-flat/_postlude","js/printer.js","node_modules/fireworks-js/dist/fireworks.js","js/cardsPile.js","js/card.js","js/utils.js","js/column.js","js/pill.js","js/game.js","js/index.js"],"sourcesContent":["(function(f){if(typeof exports===\"object\"&&typeof module!==\"undefined\"){module.exports=f()}else if(typeof define===\"function\"&&define.amd){define([],f)}else{var g;if(typeof window!==\"undefined\"){g=window}else if(typeof global!==\"undefined\"){g=global}else if(typeof self!==\"undefined\"){g=self}else{g=this}g.interact = f()}})(function(){var define,module,exports;\n","export default (thing: any) => !!(thing && thing.Window) && thing instanceof thing.Window\n","import isWindow from './isWindow'\n\nexport let realWindow = undefined as Window\n\nlet win = undefined as Window\nexport { win as window }\n\nexport function init (window: Window & { wrap?: (...args: any[]) => any }) {\n  // get wrapped window if using Shadow DOM polyfill\n\n  realWindow = window\n\n  // create a TextNode\n  const el = window.document.createTextNode('')\n\n  // check if it's wrapped by a polyfill\n  if (el.ownerDocument !== window.document && typeof window.wrap === 'function' && window.wrap(el) === el) {\n    // use wrapped window\n    window = window.wrap(window)\n  }\n\n  win = window\n}\n\nif (typeof window !== 'undefined' && !!window) {\n  init(window)\n}\n\nexport function getWindow (node: any) {\n  if (isWindow(node)) {\n    return node\n  }\n\n  const rootNode = node.ownerDocument || node\n\n  return rootNode.defaultView || win.window\n}\n","import type { Element } from '@interactjs/types/index'\n\nimport isWindow from './isWindow'\nimport * as win from './window'\n\nconst window = (thing: any): thing is Window => thing === win.window || isWindow(thing)\n\nconst docFrag = (thing: any): thing is DocumentFragment => object(thing) && thing.nodeType === 11\n\nconst object = (thing: any): thing is { [index: string]: any } => !!thing && typeof thing === 'object'\n\nconst func = (thing: any): thing is (...args: any[]) => any => typeof thing === 'function'\n\nconst number = (thing: any): thing is number => typeof thing === 'number'\n\nconst bool = (thing: any): thing is boolean => typeof thing === 'boolean'\n\nconst string = (thing: any): thing is string => typeof thing === 'string'\n\nconst element = (thing: any): thing is Element => {\n  if (!thing || typeof thing !== 'object') {\n    return false\n  }\n\n  // eslint-disable-next-line import/no-named-as-default-member\n  const _window = win.getWindow(thing) || win.window\n\n  return /object|function/.test(typeof _window.Element)\n    ? thing instanceof _window.Element // DOM2\n    : thing.nodeType === 1 && typeof thing.nodeName === 'string'\n}\n\nconst plainObject: typeof object = (thing: any): thing is { [index: string]: any } =>\n  object(thing) && !!thing.constructor && /function Object\\b/.test(thing.constructor.toString())\n\nconst array = <T extends unknown>(thing: any): thing is T[] =>\n  object(thing) && typeof thing.length !== 'undefined' && func(thing.splice)\n\nexport default {\n  window,\n  docFrag,\n  object,\n  func,\n  number,\n  bool,\n  string,\n  element,\n  plainObject,\n  array,\n}\n","import type { InteractEvent } from '@interactjs/core/InteractEvent'\nimport type { Interactable } from '@interactjs/core/Interactable'\nimport type { Scope, Plugin } from '@interactjs/core/scope'\nimport type { ActionMethod, DraggableOptions, DropzoneOptions } from '@interactjs/types/index'\nimport is from '@interactjs/utils/is'\n\ndeclare module '@interactjs/core/Interactable' {\n  interface Interactable {\n    draggable: DraggableMethod\n  }\n}\n\ndeclare module '@interactjs/core/options' {\n  interface ActionDefaults {\n    drag: DraggableOptions\n  }\n}\n\ndeclare module '@interactjs/core/scope' {\n  interface ActionMap {\n    drag?: typeof drag\n  }\n}\n\nexport type DragEvent = InteractEvent<'drag'>\n\nexport type DraggableMethod = ActionMethod<DraggableOptions>\n\nfunction install (scope: Scope) {\n  const { actions, Interactable, defaults } = scope\n\n  Interactable.prototype.draggable = drag.draggable\n\n  actions.map.drag = drag\n  actions.methodDict.drag = 'draggable'\n\n  defaults.actions.drag = drag.defaults\n}\n\nfunction beforeMove ({ interaction }) {\n  if (interaction.prepared.name !== 'drag') return\n\n  const axis = interaction.prepared.axis\n\n  if (axis === 'x') {\n    interaction.coords.cur.page.y = interaction.coords.start.page.y\n    interaction.coords.cur.client.y = interaction.coords.start.client.y\n\n    interaction.coords.velocity.client.y = 0\n    interaction.coords.velocity.page.y = 0\n  } else if (axis === 'y') {\n    interaction.coords.cur.page.x = interaction.coords.start.page.x\n    interaction.coords.cur.client.x = interaction.coords.start.client.x\n\n    interaction.coords.velocity.client.x = 0\n    interaction.coords.velocity.page.x = 0\n  }\n}\n\nfunction move ({ iEvent, interaction }) {\n  if (interaction.prepared.name !== 'drag') return\n\n  const axis = interaction.prepared.axis\n\n  if (axis === 'x' || axis === 'y') {\n    const opposite = axis === 'x' ? 'y' : 'x'\n\n    iEvent.page[opposite] = interaction.coords.start.page[opposite]\n    iEvent.client[opposite] = interaction.coords.start.client[opposite]\n    iEvent.delta[opposite] = 0\n  }\n}\n\n/**\n * ```js\n * interact(element).draggable({\n *     onstart: function (event) {},\n *     onmove : function (event) {},\n *     onend  : function (event) {},\n *\n *     // the axis in which the first movement must be\n *     // for the drag sequence to start\n *     // 'xy' by default - any direction\n *     startAxis: 'x' || 'y' || 'xy',\n *\n *     // 'xy' by default - don't restrict to one axis (move in any direction)\n *     // 'x' or 'y' to restrict movement to either axis\n *     // 'start' to restrict movement to the axis the drag started in\n *     lockAxis: 'x' || 'y' || 'xy' || 'start',\n *\n *     // max number of drags that can happen concurrently\n *     // with elements of this Interactable. Infinity by default\n *     max: Infinity,\n *\n *     // max number of drags that can target the same element+Interactable\n *     // 1 by default\n *     maxPerElement: 2\n * })\n *\n * var isDraggable = interact('element').draggable(); // true\n * ```\n *\n * Get or set whether drag actions can be performed on the target\n *\n * @alias Interactable.prototype.draggable\n *\n * @param {boolean | object} [options] true/false or An object with event\n * listeners to be fired on drag events (object makes the Interactable\n * draggable)\n * @return {boolean | Interactable} boolean indicating if this can be the\n * target of drag events, or this Interctable\n */\nconst draggable: DraggableMethod = function draggable (\n  this: Interactable,\n  options?: DraggableOptions | boolean,\n): any {\n  if (is.object(options)) {\n    this.options.drag.enabled = options.enabled !== false\n    this.setPerAction('drag', options)\n    this.setOnEvents('drag', options)\n\n    if (/^(xy|x|y|start)$/.test(options.lockAxis)) {\n      this.options.drag.lockAxis = options.lockAxis\n    }\n    if (/^(xy|x|y)$/.test(options.startAxis)) {\n      this.options.drag.startAxis = options.startAxis\n    }\n\n    return this\n  }\n\n  if (is.bool(options)) {\n    this.options.drag.enabled = options\n\n    return this\n  }\n\n  return this.options.drag\n}\n\nconst drag: Plugin = {\n  id: 'actions/drag',\n  install,\n  listeners: {\n    'interactions:before-action-move': beforeMove,\n    'interactions:action-resume': beforeMove,\n\n    // dragmove\n    'interactions:action-move': move,\n    'auto-start:check': (arg) => {\n      const { interaction, interactable, buttons } = arg\n      const dragOptions = interactable.options.drag\n\n      if (\n        !(dragOptions && dragOptions.enabled) ||\n        // check mouseButton setting if the pointer is down\n        (interaction.pointerIsDown &&\n          /mouse|pointer/.test(interaction.pointerType) &&\n          (buttons & interactable.options.drag.mouseButtons) === 0)\n      ) {\n        return undefined\n      }\n\n      arg.action = {\n        name: 'drag',\n        axis: dragOptions.lockAxis === 'start' ? dragOptions.startAxis : dragOptions.lockAxis,\n      }\n\n      return false\n    },\n  },\n  draggable,\n  beforeMove,\n  move,\n  defaults: {\n    startAxis: 'xy',\n    lockAxis: 'xy',\n  } as DropzoneOptions,\n\n  getCursor () {\n    return 'move'\n  },\n}\n\nexport default drag\n","const domObjects: {\n  init: any\n  document: Document\n  DocumentFragment: typeof DocumentFragment\n  SVGElement: typeof SVGElement\n  SVGSVGElement: typeof SVGSVGElement\n  SVGElementInstance: any\n  Element: typeof Element\n  HTMLElement: typeof HTMLElement\n  Event: typeof Event\n  Touch: typeof Touch\n  PointerEvent: typeof PointerEvent\n} = {\n  init,\n  document: null,\n  DocumentFragment: null,\n  SVGElement: null,\n  SVGSVGElement: null,\n  SVGElementInstance: null,\n  Element: null,\n  HTMLElement: null,\n  Event: null,\n  Touch: null,\n  PointerEvent: null,\n}\n\nfunction blank () {}\n\nexport default domObjects\n\nfunction init (window: Window) {\n  const win = window as any\n\n  domObjects.document = win.document\n  domObjects.DocumentFragment = win.DocumentFragment || blank\n  domObjects.SVGElement = win.SVGElement || blank\n  domObjects.SVGSVGElement = win.SVGSVGElement || blank\n  domObjects.SVGElementInstance = win.SVGElementInstance || blank\n  domObjects.Element = win.Element || blank\n  domObjects.HTMLElement = win.HTMLElement || domObjects.Element\n\n  domObjects.Event = win.Event\n  domObjects.Touch = win.Touch || blank\n  domObjects.PointerEvent = win.PointerEvent || win.MSPointerEvent\n}\n","import domObjects from './domObjects'\nimport is from './is'\n\nconst browser = {\n  init,\n  supportsTouch: null as boolean,\n  supportsPointerEvent: null as boolean,\n  isIOS7: null as boolean,\n  isIOS: null as boolean,\n  isIe9: null as boolean,\n  isOperaMobile: null as boolean,\n  prefixedMatchesSelector: null as 'matches',\n  pEventTypes: null as {\n    up: string\n    down: string\n    over: string\n    out: string\n    move: string\n    cancel: string\n  },\n  wheelEvent: null as string,\n}\n\nfunction init (window: any) {\n  const Element = domObjects.Element\n  const navigator: Partial<Navigator> = window.navigator || {}\n\n  // Does the browser support touch input?\n  browser.supportsTouch =\n    'ontouchstart' in window ||\n    (is.func(window.DocumentTouch) && domObjects.document instanceof window.DocumentTouch)\n\n  // Does the browser support PointerEvents\n  browser.supportsPointerEvent = navigator.pointerEnabled !== false && !!domObjects.PointerEvent\n\n  browser.isIOS = /iP(hone|od|ad)/.test(navigator.platform)\n\n  // scrolling doesn't change the result of getClientRects on iOS 7\n  browser.isIOS7 = /iP(hone|od|ad)/.test(navigator.platform) && /OS 7[^\\d]/.test(navigator.appVersion)\n\n  browser.isIe9 = /MSIE 9/.test(navigator.userAgent)\n\n  // Opera Mobile must be handled differently\n  browser.isOperaMobile =\n    navigator.appName === 'Opera' && browser.supportsTouch && /Presto/.test(navigator.userAgent)\n\n  // prefix matchesSelector\n  browser.prefixedMatchesSelector = ('matches' in Element.prototype\n    ? 'matches'\n    : 'webkitMatchesSelector' in Element.prototype\n      ? 'webkitMatchesSelector'\n      : 'mozMatchesSelector' in Element.prototype\n        ? 'mozMatchesSelector'\n        : 'oMatchesSelector' in Element.prototype\n          ? 'oMatchesSelector'\n          : 'msMatchesSelector') as 'matches'\n\n  browser.pEventTypes = browser.supportsPointerEvent\n    ? domObjects.PointerEvent === window.MSPointerEvent\n      ? {\n        up: 'MSPointerUp',\n        down: 'MSPointerDown',\n        over: 'mouseover',\n        out: 'mouseout',\n        move: 'MSPointerMove',\n        cancel: 'MSPointerCancel',\n      }\n      : {\n        up: 'pointerup',\n        down: 'pointerdown',\n        over: 'pointerover',\n        out: 'pointerout',\n        move: 'pointermove',\n        cancel: 'pointercancel',\n      }\n    : null\n\n  // because Webkit and Opera still use 'mousewheel' event type\n  browser.wheelEvent = domObjects.document && 'onmousewheel' in domObjects.document ? 'mousewheel' : 'wheel'\n}\n\nexport default browser\n","import type { Rect, Target, Element } from '@interactjs/types/index'\n\nimport browser from './browser'\nimport domObjects from './domObjects'\nimport is from './is'\nimport * as win from './window'\n\nexport function nodeContains (parent: Node, child: Node) {\n  if (parent.contains) {\n    return parent.contains(child as Node)\n  }\n\n  while (child) {\n    if (child === parent) {\n      return true\n    }\n\n    child = (child as Node).parentNode\n  }\n\n  return false\n}\n\nexport function closest (element: Node, selector: string) {\n  while (is.element(element)) {\n    if (matchesSelector(element, selector)) {\n      return element\n    }\n\n    element = parentNode(element)\n  }\n\n  return null\n}\n\nexport function parentNode (node: Node | Document) {\n  let parent = node.parentNode\n\n  if (is.docFrag(parent)) {\n    // skip past #shado-root fragments\n    // tslint:disable-next-line\n    while ((parent = (parent as any).host) && is.docFrag(parent)) {\n      continue\n    }\n\n    return parent\n  }\n\n  return parent\n}\n\nexport function matchesSelector (element: Element, selector: string) {\n  // remove /deep/ from selectors if shadowDOM polyfill is used\n  if (win.window !== win.realWindow) {\n    selector = selector.replace(/\\/deep\\//g, ' ')\n  }\n\n  return element[browser.prefixedMatchesSelector](selector)\n}\n\nconst getParent = (el: Node | Document | ShadowRoot) => el.parentNode || (el as ShadowRoot).host\n\n// Test for the element that's \"above\" all other qualifiers\nexport function indexOfDeepestElement (elements: Element[] | NodeListOf<globalThis.Element>) {\n  let deepestNodeParents: Node[] = []\n  let deepestNodeIndex: number\n\n  for (let i = 0; i < elements.length; i++) {\n    const currentNode = elements[i]\n    const deepestNode: Node = elements[deepestNodeIndex]\n\n    // node may appear in elements array multiple times\n    if (!currentNode || i === deepestNodeIndex) {\n      continue\n    }\n\n    if (!deepestNode) {\n      deepestNodeIndex = i\n      continue\n    }\n\n    const currentNodeParent = getParent(currentNode)\n    const deepestNodeParent = getParent(deepestNode)\n\n    // check if the deepest or current are document.documentElement/rootElement\n    // - if the current node is, do nothing and continue\n    if (currentNodeParent === currentNode.ownerDocument) {\n      continue\n    }\n    // - if deepest is, update with the current node and continue to next\n    else if (deepestNodeParent === currentNode.ownerDocument) {\n      deepestNodeIndex = i\n      continue\n    }\n\n    // compare zIndex of siblings\n    if (currentNodeParent === deepestNodeParent) {\n      if (zIndexIsHigherThan(currentNode, deepestNode)) {\n        deepestNodeIndex = i\n      }\n\n      continue\n    }\n\n    // populate the ancestry array for the latest deepest node\n    deepestNodeParents = deepestNodeParents.length ? deepestNodeParents : getNodeParents(deepestNode)\n\n    let ancestryStart: Node\n\n    // if the deepest node is an HTMLElement and the current node is a non root svg element\n    if (\n      deepestNode instanceof domObjects.HTMLElement &&\n      currentNode instanceof domObjects.SVGElement &&\n      !(currentNode instanceof domObjects.SVGSVGElement)\n    ) {\n      // TODO: is this check necessary? Was this for HTML elements embedded in SVG?\n      if (currentNode === deepestNodeParent) {\n        continue\n      }\n\n      ancestryStart = currentNode.ownerSVGElement\n    } else {\n      ancestryStart = currentNode\n    }\n\n    const currentNodeParents = getNodeParents(ancestryStart, deepestNode.ownerDocument)\n    let commonIndex = 0\n\n    // get (position of closest common ancestor) + 1\n    while (\n      currentNodeParents[commonIndex] &&\n      currentNodeParents[commonIndex] === deepestNodeParents[commonIndex]\n    ) {\n      commonIndex++\n    }\n\n    const parents = [\n      currentNodeParents[commonIndex - 1],\n      currentNodeParents[commonIndex],\n      deepestNodeParents[commonIndex],\n    ]\n\n    if (parents[0]) {\n      let child = parents[0].lastChild\n\n      while (child) {\n        if (child === parents[1]) {\n          deepestNodeIndex = i\n          deepestNodeParents = currentNodeParents\n\n          break\n        } else if (child === parents[2]) {\n          break\n        }\n\n        child = child.previousSibling\n      }\n    }\n  }\n\n  return deepestNodeIndex\n}\n\nfunction getNodeParents (node: Node, limit?: Node) {\n  const parents: Node[] = []\n  let parent: Node = node\n  let parentParent: Node\n\n  while ((parentParent = getParent(parent)) && parent !== limit && parentParent !== parent.ownerDocument) {\n    parents.unshift(parent)\n    parent = parentParent\n  }\n\n  return parents\n}\n\nfunction zIndexIsHigherThan (higherNode: Node, lowerNode: Node) {\n  const higherIndex = parseInt(win.getWindow(higherNode).getComputedStyle(higherNode).zIndex, 10) || 0\n  const lowerIndex = parseInt(win.getWindow(lowerNode).getComputedStyle(lowerNode).zIndex, 10) || 0\n\n  return higherIndex >= lowerIndex\n}\n\nexport function matchesUpTo (element: Element, selector: string, limit: Node) {\n  while (is.element(element)) {\n    if (matchesSelector(element, selector)) {\n      return true\n    }\n\n    element = parentNode(element) as Element\n\n    if (element === limit) {\n      return matchesSelector(element, selector)\n    }\n  }\n\n  return false\n}\n\nexport function getActualElement (element: Element) {\n  return (element as SVGElement).correspondingUseElement || element\n}\n\nexport function getScrollXY (relevantWindow?: Window) {\n  relevantWindow = relevantWindow || win.window\n  return {\n    x: relevantWindow.scrollX || relevantWindow.document.documentElement.scrollLeft,\n    y: relevantWindow.scrollY || relevantWindow.document.documentElement.scrollTop,\n  }\n}\n\nexport function getElementClientRect (element: Element): Required<Rect> {\n  const clientRect =\n    element instanceof domObjects.SVGElement ? element.getBoundingClientRect() : element.getClientRects()[0]\n\n  return (\n    clientRect && {\n      left: clientRect.left,\n      right: clientRect.right,\n      top: clientRect.top,\n      bottom: clientRect.bottom,\n      width: clientRect.width || clientRect.right - clientRect.left,\n      height: clientRect.height || clientRect.bottom - clientRect.top,\n    }\n  )\n}\n\nexport function getElementRect (element: Element) {\n  const clientRect = getElementClientRect(element)\n\n  if (!browser.isIOS7 && clientRect) {\n    const scroll = getScrollXY(win.getWindow(element))\n\n    clientRect.left += scroll.x\n    clientRect.right += scroll.x\n    clientRect.top += scroll.y\n    clientRect.bottom += scroll.y\n  }\n\n  return clientRect\n}\n\nexport function getPath (node: Node | Document) {\n  const path = []\n\n  while (node) {\n    path.push(node)\n    node = parentNode(node)\n  }\n\n  return path\n}\n\nexport function trySelector (value: Target) {\n  if (!is.string(value)) {\n    return false\n  }\n\n  // an exception will be raised if it is invalid\n  domObjects.document.querySelector(value)\n  return true\n}\n","export default function extend<T, U extends object> (dest: U & Partial<T>, source: T): T & U {\n  for (const prop in source) {\n    ;((dest as unknown) as T)[prop] = source[prop]\n  }\n\n  const ret = dest as T & U\n\n  return ret\n}\n","import type {\n  HasGetRect,\n  RectResolvable,\n  Rect,\n  Element,\n  Point,\n  FullRect,\n  EdgeOptions,\n} from '@interactjs/types'\n\nimport { closest, getElementRect, parentNode } from './domUtils'\nimport extend from './extend'\nimport is from './is'\n\nexport function getStringOptionResult (value: any, target: HasGetRect, element: Node) {\n  if (value === 'parent') {\n    return parentNode(element)\n  }\n\n  if (value === 'self') {\n    return target.getRect(element as Element)\n  }\n\n  return closest(element, value)\n}\n\nexport function resolveRectLike<T extends any[]> (\n  value: RectResolvable<T>,\n  target?: HasGetRect,\n  element?: Node,\n  functionArgs?: T,\n) {\n  let returnValue: any = value\n  if (is.string(returnValue)) {\n    returnValue = getStringOptionResult(returnValue, target, element)\n  } else if (is.func(returnValue)) {\n    returnValue = returnValue(...functionArgs)\n  }\n\n  if (is.element(returnValue)) {\n    returnValue = getElementRect(returnValue)\n  }\n\n  return returnValue as Rect\n}\n\nexport function rectToXY (rect: Rect | Point) {\n  return (\n    rect && {\n      x: 'x' in rect ? rect.x : rect.left,\n      y: 'y' in rect ? rect.y : rect.top,\n    }\n  )\n}\n\nexport function xywhToTlbr<T extends Partial<Rect & Point>> (rect: T) {\n  if (rect && !('left' in rect && 'top' in rect)) {\n    rect = extend({}, rect)\n\n    rect.left = rect.x || 0\n    rect.top = rect.y || 0\n    rect.right = rect.right || rect.left + rect.width\n    rect.bottom = rect.bottom || rect.top + rect.height\n  }\n\n  return rect as Rect & T\n}\n\nexport function tlbrToXywh (rect: Rect & Partial<Point>) {\n  if (rect && !('x' in rect && 'y' in rect)) {\n    rect = extend({}, rect)\n\n    rect.x = rect.left || 0\n    rect.y = rect.top || 0\n    rect.width = rect.width || (rect.right || 0) - rect.x\n    rect.height = rect.height || (rect.bottom || 0) - rect.y\n  }\n\n  return rect as FullRect & Point\n}\n\nexport function addEdges (edges: EdgeOptions, rect: Rect, delta: Point) {\n  if (edges.left) {\n    rect.left += delta.x\n  }\n  if (edges.right) {\n    rect.right += delta.x\n  }\n  if (edges.top) {\n    rect.top += delta.y\n  }\n  if (edges.bottom) {\n    rect.bottom += delta.y\n  }\n\n  rect.width = rect.right - rect.left\n  rect.height = rect.bottom - rect.top\n}\n","import type { PerActionDefaults } from '@interactjs/core/options'\nimport type { ActionName } from '@interactjs/core/scope'\nimport type { HasGetRect } from '@interactjs/types/index'\n\nimport { rectToXY, resolveRectLike } from './rect'\n\nexport default function (\n  target: HasGetRect & { options: PerActionDefaults },\n  element: Node,\n  actionName?: ActionName,\n) {\n  const actionOptions = (target.options as any)[actionName]\n  const actionOrigin = actionOptions && actionOptions.origin\n  const origin = actionOrigin || target.options.origin\n\n  const originRect = resolveRectLike(origin, target, element, [target && element])\n\n  return rectToXY(originRect) || { x: 0, y: 0 }\n}\n","import type { EventTypes, Listener, ListenersArg } from '@interactjs/types/index'\n\nimport extend from './extend'\nimport is from './is'\n\nexport interface NormalizedListeners {\n  [type: string]: Listener[]\n}\n\nexport default function normalize (\n  type: EventTypes,\n  listeners?: ListenersArg | ListenersArg[],\n  result?: NormalizedListeners,\n): NormalizedListeners {\n  result = result || {}\n\n  if (is.string(type) && type.search(' ') !== -1) {\n    type = split(type)\n  }\n\n  if (is.array(type)) {\n    return type.reduce<NormalizedListeners>((acc, t) => extend(acc, normalize(t, listeners, result)), result)\n  }\n\n  // ({ type: fn }) -> ('', { type: fn })\n  if (is.object(type)) {\n    listeners = type\n    type = ''\n  }\n\n  if (is.func(listeners)) {\n    result[type] = result[type] || []\n    result[type].push(listeners)\n  } else if (is.array(listeners)) {\n    for (const l of listeners) {\n      normalize(type, l, result)\n    }\n  } else if (is.object(listeners)) {\n    for (const prefix in listeners) {\n      const combinedTypes = split(prefix).map((p) => `${type}${p}`)\n\n      normalize(combinedTypes, listeners[prefix], result)\n    }\n  }\n\n  return result as NormalizedListeners\n}\n\nfunction split (type: string) {\n  return type.trim().split(/ +/)\n}\n","export default (x: number, y: number) => Math.sqrt(x * x + y * y)\n","function pointerExtend<T> (dest: Partial<T>, source: T) {\n  for (const prop in source) {\n    const prefixedPropREs = pointerExtend.prefixedPropREs\n    let deprecated = false\n\n    // skip deprecated prefixed properties\n    for (const vendor in prefixedPropREs) {\n      if (prop.indexOf(vendor) === 0 && prefixedPropREs[vendor].test(prop)) {\n        deprecated = true\n        break\n      }\n    }\n\n    if (!deprecated && typeof source[prop] !== 'function') {\n      dest[prop] = source[prop]\n    }\n  }\n  return dest\n}\n\npointerExtend.prefixedPropREs = {\n  webkit: /(Movement[XY]|Radius[XY]|RotationAngle|Force)$/,\n  moz: /(Pressure)$/,\n} as { [prefix: string]: RegExp }\n\nexport default pointerExtend\n","import type { InteractEvent } from '@interactjs/core/InteractEvent'\nimport type { CoordsSetMember, PointerType, Point, PointerEventType, Element } from '@interactjs/types/index'\n\nimport browser from './browser'\nimport dom from './domObjects'\nimport * as domUtils from './domUtils'\nimport hypot from './hypot'\nimport is from './is'\nimport pointerExtend from './pointerExtend'\n\nexport function copyCoords (dest: CoordsSetMember, src: CoordsSetMember) {\n  dest.page = dest.page || ({} as any)\n  dest.page.x = src.page.x\n  dest.page.y = src.page.y\n\n  dest.client = dest.client || ({} as any)\n  dest.client.x = src.client.x\n  dest.client.y = src.client.y\n\n  dest.timeStamp = src.timeStamp\n}\n\nexport function setCoordDeltas (targetObj: CoordsSetMember, prev: CoordsSetMember, cur: CoordsSetMember) {\n  targetObj.page.x = cur.page.x - prev.page.x\n  targetObj.page.y = cur.page.y - prev.page.y\n  targetObj.client.x = cur.client.x - prev.client.x\n  targetObj.client.y = cur.client.y - prev.client.y\n  targetObj.timeStamp = cur.timeStamp - prev.timeStamp\n}\n\nexport function setCoordVelocity (targetObj: CoordsSetMember, delta: CoordsSetMember) {\n  const dt = Math.max(delta.timeStamp / 1000, 0.001)\n\n  targetObj.page.x = delta.page.x / dt\n  targetObj.page.y = delta.page.y / dt\n  targetObj.client.x = delta.client.x / dt\n  targetObj.client.y = delta.client.y / dt\n  targetObj.timeStamp = dt\n}\n\nexport function setZeroCoords (targetObj: CoordsSetMember) {\n  targetObj.page.x = 0\n  targetObj.page.y = 0\n  targetObj.client.x = 0\n  targetObj.client.y = 0\n}\n\nexport function isNativePointer (pointer: any) {\n  return pointer instanceof dom.Event || pointer instanceof dom.Touch\n}\n\n// Get specified X/Y coords for mouse or event.touches[0]\nexport function getXY (type: string, pointer: PointerType | InteractEvent, xy: Point) {\n  xy = xy || ({} as Point)\n  type = type || 'page'\n\n  xy.x = pointer[(type + 'X') as keyof PointerType]\n  xy.y = pointer[(type + 'Y') as keyof PointerType]\n\n  return xy\n}\n\nexport function getPageXY (pointer: PointerType | InteractEvent, page?: Point) {\n  page = page || { x: 0, y: 0 }\n\n  // Opera Mobile handles the viewport and scrolling oddly\n  if (browser.isOperaMobile && isNativePointer(pointer)) {\n    getXY('screen', pointer, page)\n\n    page.x += window.scrollX\n    page.y += window.scrollY\n  } else {\n    getXY('page', pointer, page)\n  }\n\n  return page\n}\n\nexport function getClientXY (pointer: PointerType, client: Point) {\n  client = client || ({} as any)\n\n  if (browser.isOperaMobile && isNativePointer(pointer)) {\n    // Opera Mobile handles the viewport and scrolling oddly\n    getXY('screen', pointer, client)\n  } else {\n    getXY('client', pointer, client)\n  }\n\n  return client\n}\n\nexport function getPointerId (pointer: { pointerId?: number, identifier?: number, type?: string }) {\n  return is.number(pointer.pointerId) ? pointer.pointerId! : pointer.identifier!\n}\n\nexport function setCoords (dest: CoordsSetMember, pointers: any[], timeStamp: number) {\n  const pointer = pointers.length > 1 ? pointerAverage(pointers) : pointers[0]\n\n  getPageXY(pointer, dest.page)\n  getClientXY(pointer, dest.client)\n\n  dest.timeStamp = timeStamp\n}\n\nexport function getTouchPair (event: TouchEvent | PointerType[]) {\n  const touches: PointerType[] = []\n\n  // array of touches is supplied\n  if (is.array(event)) {\n    touches[0] = event[0]\n    touches[1] = event[1]\n  }\n  // an event\n  else {\n    if (event.type === 'touchend') {\n      if (event.touches.length === 1) {\n        touches[0] = event.touches[0]\n        touches[1] = event.changedTouches[0]\n      } else if (event.touches.length === 0) {\n        touches[0] = event.changedTouches[0]\n        touches[1] = event.changedTouches[1]\n      }\n    } else {\n      touches[0] = event.touches[0]\n      touches[1] = event.touches[1]\n    }\n  }\n\n  return touches\n}\n\nexport function pointerAverage (pointers: PointerType[]) {\n  const average = {\n    pageX: 0,\n    pageY: 0,\n    clientX: 0,\n    clientY: 0,\n    screenX: 0,\n    screenY: 0,\n  }\n\n  type CoordKeys = keyof typeof average\n\n  for (const pointer of pointers) {\n    for (const prop in average) {\n      average[prop as CoordKeys] += pointer[prop as CoordKeys]\n    }\n  }\n  for (const prop in average) {\n    average[prop as CoordKeys] /= pointers.length\n  }\n\n  return average\n}\n\nexport function touchBBox (event: PointerType[]) {\n  if (!event.length) {\n    return null\n  }\n\n  const touches = getTouchPair(event)\n  const minX = Math.min(touches[0].pageX, touches[1].pageX)\n  const minY = Math.min(touches[0].pageY, touches[1].pageY)\n  const maxX = Math.max(touches[0].pageX, touches[1].pageX)\n  const maxY = Math.max(touches[0].pageY, touches[1].pageY)\n\n  return {\n    x: minX,\n    y: minY,\n    left: minX,\n    top: minY,\n    right: maxX,\n    bottom: maxY,\n    width: maxX - minX,\n    height: maxY - minY,\n  }\n}\n\nexport function touchDistance (event: PointerType[] | TouchEvent, deltaSource: string) {\n  const sourceX = (deltaSource + 'X') as 'pageX'\n  const sourceY = (deltaSource + 'Y') as 'pageY'\n  const touches = getTouchPair(event)\n\n  const dx = touches[0][sourceX] - touches[1][sourceX]\n  const dy = touches[0][sourceY] - touches[1][sourceY]\n\n  return hypot(dx, dy)\n}\n\nexport function touchAngle (event: PointerType[] | TouchEvent, deltaSource: string) {\n  const sourceX = (deltaSource + 'X') as 'pageX'\n  const sourceY = (deltaSource + 'Y') as 'pageY'\n  const touches = getTouchPair(event)\n  const dx = touches[1][sourceX] - touches[0][sourceX]\n  const dy = touches[1][sourceY] - touches[0][sourceY]\n  const angle = (180 * Math.atan2(dy, dx)) / Math.PI\n\n  return angle\n}\n\nexport function getPointerType (pointer: { pointerType?: string, identifier?: number, type?: string }) {\n  return is.string(pointer.pointerType)\n    ? pointer.pointerType\n    : is.number(pointer.pointerType)\n      ? [undefined, undefined, 'touch', 'pen', 'mouse'][pointer.pointerType]!\n      : // if the PointerEvent API isn't available, then the \"pointer\" must\n    // be either a MouseEvent, TouchEvent, or Touch object\n      /touch/.test(pointer.type || '') || pointer instanceof dom.Touch\n        ? 'touch'\n        : 'mouse'\n}\n\n// [ event.target, event.currentTarget ]\nexport function getEventTargets (event: Event) {\n  const path = is.func(event.composedPath)\n    ? (event.composedPath() as Element[])\n    : ((event as unknown) as { path: Element[] }).path\n\n  return [\n    domUtils.getActualElement(path ? path[0] : (event.target as Element)),\n    domUtils.getActualElement(event.currentTarget as Element),\n  ]\n}\n\nexport function newCoords (): CoordsSetMember {\n  return {\n    page: { x: 0, y: 0 },\n    client: { x: 0, y: 0 },\n    timeStamp: 0,\n  }\n}\n\nexport function coordsToEvent (coords: MockCoords) {\n  const event = {\n    coords,\n    get page () {\n      return this.coords.page\n    },\n    get client () {\n      return this.coords.client\n    },\n    get timeStamp () {\n      return this.coords.timeStamp\n    },\n    get pageX () {\n      return this.coords.page.x\n    },\n    get pageY () {\n      return this.coords.page.y\n    },\n    get clientX () {\n      return this.coords.client.x\n    },\n    get clientY () {\n      return this.coords.client.y\n    },\n    get pointerId () {\n      return this.coords.pointerId\n    },\n    get target () {\n      return this.coords.target\n    },\n    get type () {\n      return this.coords.type\n    },\n    get pointerType () {\n      return this.coords.pointerType\n    },\n    get buttons () {\n      return this.coords.buttons\n    },\n    preventDefault () {},\n  }\n\n  return event as typeof event & PointerType & PointerEventType\n}\n\nexport interface MockCoords {\n  page: Point\n  client: Point\n  timeStamp?: number\n  pointerId?: any\n  target?: any\n  type?: string\n  pointerType?: string\n  buttons?: number\n}\n\nexport { pointerExtend }\n","import type { Interactable } from '@interactjs/core/Interactable'\nimport type { Interaction, InteractionProxy } from '@interactjs/core/Interaction'\nimport type { ActionName } from '@interactjs/core/scope'\n\nexport class BaseEvent<T extends ActionName | null = never> {\n  type: string\n  target: EventTarget\n  currentTarget: Node\n  interactable: Interactable\n  _interaction: Interaction<T>\n  timeStamp: any\n  immediatePropagationStopped = false\n  propagationStopped = false\n\n  constructor (interaction: Interaction<T>) {\n    this._interaction = interaction\n  }\n\n  preventDefault () {}\n\n  /**\n   * Don't call any other listeners (even on the current target)\n   */\n  stopPropagation () {\n    this.propagationStopped = true\n  }\n\n  /**\n   * Don't call listeners on the remaining targets\n   */\n  stopImmediatePropagation () {\n    this.immediatePropagationStopped = this.propagationStopped = true\n  }\n}\n\n// defined outside of class definition to avoid assignment of undefined during\n// construction\nexport interface BaseEvent<T extends ActionName> {\n  interaction: InteractionProxy<T>\n}\n\n// getters and setters defined here to support typescript 3.6 and below which\n// don't support getter and setters in .d.ts files\nObject.defineProperty(BaseEvent.prototype, 'interaction', {\n  get (this: BaseEvent) {\n    return this._interaction._proxy\n  },\n  set (this: BaseEvent) {},\n})\n","type Filter<T> = (element: T, index: number, array: T[]) => boolean\n\nexport const contains = <T>(array: T[], target: T) => array.indexOf(target) !== -1\n\nexport const remove = <T>(array: T[], target: T) => array.splice(array.indexOf(target), 1)\n\nexport const merge = <T, U>(target: Array<T | U>, source: U[]) => {\n  for (const item of source) {\n    target.push(item)\n  }\n\n  return target\n}\n\nexport const from = <T = any>(source: ArrayLike<T>) => merge([] as T[], source as T[])\n\nexport const findIndex = <T>(array: T[], func: Filter<T>) => {\n  for (let i = 0; i < array.length; i++) {\n    if (func(array[i], i, array)) {\n      return i\n    }\n  }\n\n  return -1\n}\n\nexport const find = <T = any>(array: T[], func: Filter<T>) => array[findIndex(array, func)]\n","import { BaseEvent } from '@interactjs/core/BaseEvent'\nimport type { InteractEvent } from '@interactjs/core/InteractEvent'\nimport type { Interactable } from '@interactjs/core/Interactable'\nimport type { Element } from '@interactjs/types/index'\nimport * as arr from '@interactjs/utils/arr'\n\nimport type { DropState } from './plugin'\n\nexport class DropEvent extends BaseEvent<'drag'> {\n  target: Element\n  dropzone: Interactable\n  dragEvent: InteractEvent<'drag'>\n  relatedTarget: Element\n  draggable: Interactable\n  timeStamp: number\n  propagationStopped = false\n  immediatePropagationStopped = false\n\n  /**\n   * Class of events fired on dropzones during drags with acceptable targets.\n   */\n  constructor (dropState: DropState, dragEvent: InteractEvent<'drag'>, type: string) {\n    super(dragEvent._interaction)\n\n    const { element, dropzone } = type === 'dragleave' ? dropState.prev : dropState.cur\n\n    this.type = type\n    this.target = element\n    this.currentTarget = element\n    this.dropzone = dropzone\n    this.dragEvent = dragEvent\n    this.relatedTarget = dragEvent.target\n    this.draggable = dragEvent.interactable\n    this.timeStamp = dragEvent.timeStamp\n  }\n\n  /**\n   * If this is a `dropactivate` event, the dropzone element will be\n   * deactivated.\n   *\n   * If this is a `dragmove` or `dragenter`, a `dragleave` will be fired on the\n   * dropzone element and more.\n   */\n  reject () {\n    const { dropState } = this._interaction\n\n    if (\n      this.type !== 'dropactivate' &&\n      (!this.dropzone || dropState.cur.dropzone !== this.dropzone || dropState.cur.element !== this.target)\n    ) {\n      return\n    }\n\n    dropState.prev.dropzone = this.dropzone\n    dropState.prev.element = this.target\n\n    dropState.rejected = true\n    dropState.events.enter = null\n\n    this.stopImmediatePropagation()\n\n    if (this.type === 'dropactivate') {\n      const activeDrops = dropState.activeDrops\n      const index = arr.findIndex(\n        activeDrops,\n        ({ dropzone, element }) => dropzone === this.dropzone && element === this.target,\n      )\n\n      dropState.activeDrops.splice(index, 1)\n\n      const deactivateEvent = new DropEvent(dropState, this.dragEvent, 'dropdeactivate')\n\n      deactivateEvent.dropzone = this.dropzone\n      deactivateEvent.target = this.target\n\n      this.dropzone.fire(deactivateEvent)\n    } else {\n      this.dropzone.fire(new DropEvent(dropState, this.dragEvent, 'dragleave'))\n    }\n  }\n\n  preventDefault () {}\n\n  stopPropagation () {\n    this.propagationStopped = true\n  }\n\n  stopImmediatePropagation () {\n    this.immediatePropagationStopped = this.propagationStopped = true\n  }\n}\n","import type { EventPhase, InteractEvent } from '@interactjs/core/InteractEvent'\nimport type { Interactable } from '@interactjs/core/Interactable'\nimport type { Interaction, DoPhaseArg } from '@interactjs/core/Interaction'\nimport type { Scope, Plugin } from '@interactjs/core/scope'\nimport type { DropzoneOptions, Element, PointerEventType, Rect } from '@interactjs/types/index'\nimport * as domUtils from '@interactjs/utils/domUtils'\nimport extend from '@interactjs/utils/extend'\nimport getOriginXY from '@interactjs/utils/getOriginXY'\nimport is from '@interactjs/utils/is'\nimport normalizeListeners from '@interactjs/utils/normalizeListeners'\nimport * as pointerUtils from '@interactjs/utils/pointerUtils'\n\nimport type { DragEvent } from '../drag/plugin'\nimport drag from '../drag/plugin'\n\nimport { DropEvent } from './DropEvent'\n\nexport interface DropzoneMethod {\n  (this: Interactable, options: DropzoneOptions | boolean): Interactable\n  (): DropzoneOptions\n}\n\ndeclare module '@interactjs/core/Interactable' {\n  interface Interactable {\n    dropzone: DropzoneMethod\n    dropCheck: (\n      dragEvent: InteractEvent,\n      event: PointerEventType,\n      draggable: Interactable,\n      draggableElement: Element,\n      dropElemen: Element,\n      rect: any,\n    ) => boolean\n  }\n}\n\ndeclare module '@interactjs/core/Interaction' {\n  interface Interaction {\n    dropState?: DropState\n  }\n}\n\ndeclare module '@interactjs/core/InteractEvent' {\n  interface InteractEvent {\n    prevDropzone?: Interactable\n    dropzone?: Interactable\n    dragEnter?: Element\n    dragLeave?: Element\n  }\n}\n\ndeclare module '@interactjs/core/options' {\n  interface ActionDefaults {\n    drop: DropzoneOptions\n  }\n}\n\ndeclare module '@interactjs/core/scope' {\n  interface ActionMap {\n    drop?: typeof drop\n  }\n\n  interface Scope {\n    dynamicDrop?: boolean\n  }\n\n  interface SignalArgs {\n    'actions/drop:start': DropSignalArg\n    'actions/drop:move': DropSignalArg\n    'actions/drop:end': DropSignalArg\n  }\n}\n\ndeclare module '@interactjs/core/InteractStatic' {\n  interface InteractStatic {\n    dynamicDrop: (this: InteractStatic, newValue?: boolean) => boolean | this\n  }\n}\n\ninterface DropSignalArg {\n  interaction: Interaction<'drag'>\n  dragEvent: DragEvent\n}\n\nexport interface ActiveDrop {\n  dropzone: Interactable\n  element: Element\n  rect: Rect\n}\n\nexport interface DropState {\n  cur: {\n    // the dropzone a drag target might be dropped into\n    dropzone: Interactable\n    // the element at the time of checking\n    element: Element\n  }\n  prev: {\n    // the dropzone that was recently dragged away from\n    dropzone: Interactable\n    // the element at the time of checking\n    element: Element\n  }\n  // wheather the potential drop was rejected from a listener\n  rejected: boolean\n  // the drop events related to the current drag event\n  events: FiredDropEvents\n  activeDrops: ActiveDrop[]\n}\n\nfunction install (scope: Scope) {\n  const {\n    actions,\n    /** @lends module:interact */\n    interactStatic: interact,\n    /** @lends Interactable */\n    Interactable,\n    defaults,\n  } = scope\n\n  scope.usePlugin(drag)\n\n  /**\n   *\n   * ```js\n   * interact('.drop').dropzone({\n   *   accept: '.can-drop' || document.getElementById('single-drop'),\n   *   overlap: 'pointer' || 'center' || zeroToOne\n   * }\n   * ```\n   *\n   * Returns or sets whether draggables can be dropped onto this target to\n   * trigger drop events\n   *\n   * Dropzones can receive the following events:\n   *  - `dropactivate` and `dropdeactivate` when an acceptable drag starts and ends\n   *  - `dragenter` and `dragleave` when a draggable enters and leaves the dropzone\n   *  - `dragmove` when a draggable that has entered the dropzone is moved\n   *  - `drop` when a draggable is dropped into this dropzone\n   *\n   * Use the `accept` option to allow only elements that match the given CSS\n   * selector or element. The value can be:\n   *\n   *  - **an Element** - only that element can be dropped into this dropzone.\n   *  - **a string**, - the element being dragged must match it as a CSS selector.\n   *  - **`null`** - accept options is cleared - it accepts any element.\n   *\n   * Use the `overlap` option to set how drops are checked for. The allowed\n   * values are:\n   *\n   *   - `'pointer'`, the pointer must be over the dropzone (default)\n   *   - `'center'`, the draggable element's center must be over the dropzone\n   *   - a number from 0-1 which is the `(intersection area) / (draggable area)`.\n   *   e.g. `0.5` for drop to happen when half of the area of the draggable is\n   *   over the dropzone\n   *\n   * Use the `checker` option to specify a function to check if a dragged element\n   * is over this Interactable.\n   *\n   * @param {boolean | object | null} [options] The new options to be set.\n   * @return {object | Interactable} The current setting or this Interactable\n   */\n  Interactable.prototype.dropzone = function (this: Interactable, options?: DropzoneOptions | boolean) {\n    return dropzoneMethod(this, options)\n  } as Interactable['dropzone']\n\n  /**\n   * ```js\n   * interact(target)\n   * .dropChecker(function(dragEvent,         // related dragmove or dragend event\n   *                       event,             // TouchEvent/PointerEvent/MouseEvent\n   *                       dropped,           // bool result of the default checker\n   *                       dropzone,          // dropzone Interactable\n   *                       dropElement,       // dropzone elemnt\n   *                       draggable,         // draggable Interactable\n   *                       draggableElement) {// draggable element\n   *\n   *   return dropped && event.target.hasAttribute('allow-drop')\n   * }\n   * ```\n   */\n  Interactable.prototype.dropCheck = function (\n    this: Interactable,\n    dragEvent,\n    event,\n    draggable,\n    draggableElement,\n    dropElement,\n    rect,\n  ) {\n    return dropCheckMethod(this, dragEvent, event, draggable, draggableElement, dropElement, rect)\n  }\n\n  /**\n   * Returns or sets whether the dimensions of dropzone elements are calculated\n   * on every dragmove or only on dragstart for the default dropChecker\n   *\n   * @param {boolean} [newValue] True to check on each move. False to check only\n   * before start\n   * @return {boolean | interact} The current setting or interact\n   */\n  interact.dynamicDrop = function (newValue?: boolean) {\n    if (is.bool(newValue)) {\n      // if (dragging && scope.dynamicDrop !== newValue && !newValue) {\n      //  calcRects(dropzones)\n      // }\n\n      scope.dynamicDrop = newValue\n\n      return interact\n    }\n    return scope.dynamicDrop\n  }\n\n  extend(actions.phaselessTypes, {\n    dragenter: true,\n    dragleave: true,\n    dropactivate: true,\n    dropdeactivate: true,\n    dropmove: true,\n    drop: true,\n  })\n  actions.methodDict.drop = 'dropzone'\n\n  scope.dynamicDrop = false\n\n  defaults.actions.drop = drop.defaults\n}\n\nfunction collectDrops ({ interactables }: Scope, draggableElement: Element) {\n  const drops: ActiveDrop[] = []\n\n  // collect all dropzones and their elements which qualify for a drop\n  for (const dropzone of interactables.list) {\n    if (!dropzone.options.drop.enabled) {\n      continue\n    }\n\n    const accept = dropzone.options.drop.accept\n\n    // test the draggable draggableElement against the dropzone's accept setting\n    if (\n      (is.element(accept) && accept !== draggableElement) ||\n      (is.string(accept) && !domUtils.matchesSelector(draggableElement, accept)) ||\n      (is.func(accept) && !accept({ dropzone, draggableElement }))\n    ) {\n      continue\n    }\n\n    // query for new elements if necessary\n    const dropElements = (is.string(dropzone.target)\n      ? dropzone._context.querySelectorAll(dropzone.target)\n      : is.array(dropzone.target)\n        ? dropzone.target\n        : [dropzone.target]) as Element[]\n\n    for (const dropzoneElement of dropElements) {\n      if (dropzoneElement !== draggableElement) {\n        drops.push({\n          dropzone,\n          element: dropzoneElement,\n          rect: dropzone.getRect(dropzoneElement),\n        })\n      }\n    }\n  }\n\n  return drops\n}\n\nfunction fireActivationEvents (activeDrops: ActiveDrop[], event: DropEvent) {\n  // loop through all active dropzones and trigger event\n  for (const { dropzone, element } of activeDrops.slice()) {\n    event.dropzone = dropzone\n\n    // set current element as event target\n    event.target = element\n    dropzone.fire(event)\n    event.propagationStopped = event.immediatePropagationStopped = false\n  }\n}\n\n// return a new array of possible drops. getActiveDrops should always be\n// called when a drag has just started or a drag event happens while\n// dynamicDrop is true\nfunction getActiveDrops (scope: Scope, dragElement: Element) {\n  // get dropzones and their elements that could receive the draggable\n  const activeDrops = collectDrops(scope, dragElement)\n\n  for (const activeDrop of activeDrops) {\n    activeDrop.rect = activeDrop.dropzone.getRect(activeDrop.element)\n  }\n\n  return activeDrops\n}\n\nfunction getDrop (\n  { dropState, interactable: draggable, element: dragElement }: Partial<Interaction>,\n  dragEvent,\n  pointerEvent,\n) {\n  const validDrops = []\n\n  // collect all dropzones and their elements which qualify for a drop\n  for (const { dropzone, element: dropzoneElement, rect } of dropState.activeDrops) {\n    validDrops.push(\n      dropzone.dropCheck(dragEvent, pointerEvent, draggable, dragElement, dropzoneElement, rect)\n        ? dropzoneElement\n        : null,\n    )\n  }\n\n  // get the most appropriate dropzone based on DOM depth and order\n  const dropIndex = domUtils.indexOfDeepestElement(validDrops)\n\n  return dropState.activeDrops[dropIndex] || null\n}\n\nfunction getDropEvents (interaction: Interaction, _pointerEvent, dragEvent: DragEvent) {\n  const { dropState } = interaction\n  const dropEvents = {\n    enter: null,\n    leave: null,\n    activate: null,\n    deactivate: null,\n    move: null,\n    drop: null,\n  }\n\n  if (dragEvent.type === 'dragstart') {\n    dropEvents.activate = new DropEvent(dropState, dragEvent, 'dropactivate')\n\n    dropEvents.activate.target = null\n    dropEvents.activate.dropzone = null\n  }\n  if (dragEvent.type === 'dragend') {\n    dropEvents.deactivate = new DropEvent(dropState, dragEvent, 'dropdeactivate')\n\n    dropEvents.deactivate.target = null\n    dropEvents.deactivate.dropzone = null\n  }\n\n  if (dropState.rejected) {\n    return dropEvents\n  }\n\n  if (dropState.cur.element !== dropState.prev.element) {\n    // if there was a previous dropzone, create a dragleave event\n    if (dropState.prev.dropzone) {\n      dropEvents.leave = new DropEvent(dropState, dragEvent, 'dragleave')\n\n      dragEvent.dragLeave = dropEvents.leave.target = dropState.prev.element\n      dragEvent.prevDropzone = dropEvents.leave.dropzone = dropState.prev.dropzone\n    }\n    // if dropzone is not null, create a dragenter event\n    if (dropState.cur.dropzone) {\n      dropEvents.enter = new DropEvent(dropState, dragEvent, 'dragenter')\n\n      dragEvent.dragEnter = dropState.cur.element\n      dragEvent.dropzone = dropState.cur.dropzone\n    }\n  }\n\n  if (dragEvent.type === 'dragend' && dropState.cur.dropzone) {\n    dropEvents.drop = new DropEvent(dropState, dragEvent, 'drop')\n\n    dragEvent.dropzone = dropState.cur.dropzone\n    dragEvent.relatedTarget = dropState.cur.element\n  }\n  if (dragEvent.type === 'dragmove' && dropState.cur.dropzone) {\n    dropEvents.move = new DropEvent(dropState, dragEvent, 'dropmove')\n\n    dropEvents.move.dragmove = dragEvent\n    dragEvent.dropzone = dropState.cur.dropzone\n  }\n\n  return dropEvents\n}\n\ntype FiredDropEvents = Partial<\nRecord<'leave' | 'enter' | 'move' | 'drop' | 'activate' | 'deactivate', DropEvent>\n>\n\nfunction fireDropEvents (interaction: Interaction, events: FiredDropEvents) {\n  const { dropState } = interaction\n  const { activeDrops, cur, prev } = dropState\n\n  if (events.leave) {\n    prev.dropzone.fire(events.leave)\n  }\n  if (events.enter) {\n    cur.dropzone.fire(events.enter)\n  }\n  if (events.move) {\n    cur.dropzone.fire(events.move)\n  }\n  if (events.drop) {\n    cur.dropzone.fire(events.drop)\n  }\n\n  if (events.deactivate) {\n    fireActivationEvents(activeDrops, events.deactivate)\n  }\n\n  dropState.prev.dropzone = cur.dropzone\n  dropState.prev.element = cur.element\n}\n\nfunction onEventCreated ({ interaction, iEvent, event }: DoPhaseArg<'drag', EventPhase>, scope: Scope) {\n  if (iEvent.type !== 'dragmove' && iEvent.type !== 'dragend') {\n    return\n  }\n\n  const { dropState } = interaction\n\n  if (scope.dynamicDrop) {\n    dropState.activeDrops = getActiveDrops(scope, interaction.element)\n  }\n\n  const dragEvent = iEvent\n  const dropResult = getDrop(interaction, dragEvent, event)\n\n  // update rejected status\n  dropState.rejected =\n    dropState.rejected &&\n    !!dropResult &&\n    dropResult.dropzone === dropState.cur.dropzone &&\n    dropResult.element === dropState.cur.element\n\n  dropState.cur.dropzone = dropResult && dropResult.dropzone\n  dropState.cur.element = dropResult && dropResult.element\n\n  dropState.events = getDropEvents(interaction, event, dragEvent)\n}\n\nfunction dropzoneMethod(interactable: Interactable): DropzoneOptions\nfunction dropzoneMethod(interactable: Interactable, options: DropzoneOptions | boolean): Interactable\nfunction dropzoneMethod (interactable: Interactable, options?: DropzoneOptions | boolean) {\n  if (is.object(options)) {\n    interactable.options.drop.enabled = options.enabled !== false\n\n    if (options.listeners) {\n      const normalized = normalizeListeners(options.listeners)\n      // rename 'drop' to '' as it will be prefixed with 'drop'\n      const corrected = Object.keys(normalized).reduce((acc, type) => {\n        const correctedType = /^(enter|leave)/.test(type)\n          ? `drag${type}`\n          : /^(activate|deactivate|move)/.test(type)\n            ? `drop${type}`\n            : type\n\n        acc[correctedType] = normalized[type]\n\n        return acc\n      }, {})\n\n      interactable.off(interactable.options.drop.listeners)\n      interactable.on(corrected)\n      interactable.options.drop.listeners = corrected\n    }\n\n    if (is.func(options.ondrop)) {\n      interactable.on('drop', options.ondrop)\n    }\n    if (is.func(options.ondropactivate)) {\n      interactable.on('dropactivate', options.ondropactivate)\n    }\n    if (is.func(options.ondropdeactivate)) {\n      interactable.on('dropdeactivate', options.ondropdeactivate)\n    }\n    if (is.func(options.ondragenter)) {\n      interactable.on('dragenter', options.ondragenter)\n    }\n    if (is.func(options.ondragleave)) {\n      interactable.on('dragleave', options.ondragleave)\n    }\n    if (is.func(options.ondropmove)) {\n      interactable.on('dropmove', options.ondropmove)\n    }\n\n    if (/^(pointer|center)$/.test(options.overlap as string)) {\n      interactable.options.drop.overlap = options.overlap\n    } else if (is.number(options.overlap)) {\n      interactable.options.drop.overlap = Math.max(Math.min(1, options.overlap), 0)\n    }\n    if ('accept' in options) {\n      interactable.options.drop.accept = options.accept\n    }\n    if ('checker' in options) {\n      interactable.options.drop.checker = options.checker\n    }\n\n    return interactable\n  }\n\n  if (is.bool(options)) {\n    interactable.options.drop.enabled = options\n\n    return interactable\n  }\n\n  return interactable.options.drop\n}\n\nfunction dropCheckMethod (\n  interactable: Interactable,\n  dragEvent: InteractEvent,\n  event: PointerEventType,\n  draggable: Interactable,\n  draggableElement: Element,\n  dropElement: Element,\n  rect: any,\n) {\n  let dropped = false\n\n  // if the dropzone has no rect (eg. display: none)\n  // call the custom dropChecker or just return false\n  if (!(rect = rect || interactable.getRect(dropElement))) {\n    return interactable.options.drop.checker\n      ? interactable.options.drop.checker(\n        dragEvent,\n        event,\n        dropped,\n        interactable,\n        dropElement,\n        draggable,\n        draggableElement,\n      )\n      : false\n  }\n\n  const dropOverlap = interactable.options.drop.overlap\n\n  if (dropOverlap === 'pointer') {\n    const origin = getOriginXY(draggable, draggableElement, 'drag')\n    const page = pointerUtils.getPageXY(dragEvent)\n\n    page.x += origin.x\n    page.y += origin.y\n\n    const horizontal = page.x > rect.left && page.x < rect.right\n    const vertical = page.y > rect.top && page.y < rect.bottom\n\n    dropped = horizontal && vertical\n  }\n\n  const dragRect = draggable.getRect(draggableElement)\n\n  if (dragRect && dropOverlap === 'center') {\n    const cx = dragRect.left + dragRect.width / 2\n    const cy = dragRect.top + dragRect.height / 2\n\n    dropped = cx >= rect.left && cx <= rect.right && cy >= rect.top && cy <= rect.bottom\n  }\n\n  if (dragRect && is.number(dropOverlap)) {\n    const overlapArea =\n      Math.max(0, Math.min(rect.right, dragRect.right) - Math.max(rect.left, dragRect.left)) *\n      Math.max(0, Math.min(rect.bottom, dragRect.bottom) - Math.max(rect.top, dragRect.top))\n\n    const overlapRatio = overlapArea / (dragRect.width * dragRect.height)\n\n    dropped = overlapRatio >= dropOverlap\n  }\n\n  if (interactable.options.drop.checker) {\n    dropped = interactable.options.drop.checker(\n      dragEvent,\n      event,\n      dropped,\n      interactable,\n      dropElement,\n      draggable,\n      draggableElement,\n    )\n  }\n\n  return dropped\n}\n\nconst drop: Plugin = {\n  id: 'actions/drop',\n  install,\n  listeners: {\n    'interactions:before-action-start': ({ interaction }) => {\n      if (interaction.prepared.name !== 'drag') {\n        return\n      }\n\n      interaction.dropState = {\n        cur: {\n          dropzone: null,\n          element: null,\n        },\n        prev: {\n          dropzone: null,\n          element: null,\n        },\n        rejected: null,\n        events: null,\n        activeDrops: [],\n      }\n    },\n\n    'interactions:after-action-start': (\n      { interaction, event, iEvent: dragEvent }: DoPhaseArg<'drag', EventPhase>,\n      scope,\n    ) => {\n      if (interaction.prepared.name !== 'drag') {\n        return\n      }\n\n      const { dropState } = interaction\n\n      // reset active dropzones\n      dropState.activeDrops = null\n      dropState.events = null\n      dropState.activeDrops = getActiveDrops(scope, interaction.element)\n      dropState.events = getDropEvents(interaction, event, dragEvent)\n\n      if (dropState.events.activate) {\n        fireActivationEvents(dropState.activeDrops, dropState.events.activate)\n        scope.fire('actions/drop:start', { interaction, dragEvent })\n      }\n    },\n\n    'interactions:action-move': onEventCreated,\n\n    'interactions:after-action-move': (\n      { interaction, iEvent: dragEvent }: DoPhaseArg<'drag', EventPhase>,\n      scope,\n    ) => {\n      if (interaction.prepared.name !== 'drag') {\n        return\n      }\n\n      fireDropEvents(interaction, interaction.dropState.events)\n\n      scope.fire('actions/drop:move', { interaction, dragEvent })\n      interaction.dropState.events = {}\n    },\n\n    'interactions:action-end': (arg: DoPhaseArg<'drag', EventPhase>, scope) => {\n      if (arg.interaction.prepared.name !== 'drag') {\n        return\n      }\n\n      const { interaction, iEvent: dragEvent } = arg\n\n      onEventCreated(arg, scope)\n      fireDropEvents(interaction, interaction.dropState.events)\n      scope.fire('actions/drop:end', { interaction, dragEvent })\n    },\n\n    'interactions:stop': ({ interaction }) => {\n      if (interaction.prepared.name !== 'drag') {\n        return\n      }\n\n      const { dropState } = interaction\n\n      if (dropState) {\n        dropState.activeDrops = null\n        dropState.events = null\n        dropState.cur.dropzone = null\n        dropState.cur.element = null\n        dropState.prev.dropzone = null\n        dropState.prev.element = null\n        dropState.rejected = false\n      }\n    },\n  },\n  getActiveDrops,\n  getDrop,\n  getDropEvents,\n  fireDropEvents,\n  defaults: {\n    enabled: false,\n    accept: null,\n    overlap: 'pointer',\n  } as DropzoneOptions,\n}\n\nexport default drop\n","import type { InteractEvent, EventPhase } from '@interactjs/core/InteractEvent'\nimport type { Interaction, DoPhaseArg } from '@interactjs/core/Interaction'\nimport type { Options } from '@interactjs/core/options'\nimport type { Scope, Plugin } from '@interactjs/core/scope'\nimport type { ActionMethod, GesturableOptions, Rect, PointerType } from '@interactjs/types/index'\nimport is from '@interactjs/utils/is'\nimport * as pointerUtils from '@interactjs/utils/pointerUtils'\n\nexport type GesturableMethod = ActionMethod<GesturableOptions>\n\ndeclare module '@interactjs/core/Interaction' {\n  interface Interaction {\n    gesture?: {\n      angle: number // angle from first to second touch\n      distance: number\n      scale: number // gesture.distance / gesture.startDistance\n      startAngle: number // angle of line joining two touches\n      startDistance: number // distance between two touches of touchStart\n    }\n  }\n}\n\ndeclare module '@interactjs/core/Interactable' {\n  interface Interactable {\n    gesturable: GesturableMethod\n  }\n}\n\ndeclare module '@interactjs/core/options' {\n  interface ActionDefaults {\n    gesture: GesturableOptions\n  }\n}\n\ndeclare module '@interactjs/core/scope' {\n  interface ActionMap {\n    gesture?: typeof gesture\n  }\n}\n\nexport interface GestureEvent extends InteractEvent<'gesture'> {\n  distance: number\n  angle: number\n  da: number // angle change\n  scale: number // ratio of distance start to current event\n  ds: number // scale change\n  box: Rect // enclosing box of all points\n  touches: PointerType[]\n}\n\nexport interface GestureSignalArg extends DoPhaseArg<'gesture', EventPhase> {\n  iEvent: GestureEvent\n  interaction: Interaction<'gesture'>\n}\n\nfunction install (scope: Scope) {\n  const { actions, Interactable, defaults } = scope\n\n  /**\n   * ```js\n   * interact(element).gesturable({\n   *     onstart: function (event) {},\n   *     onmove : function (event) {},\n   *     onend  : function (event) {},\n   *\n   *     // limit multiple gestures.\n   *     // See the explanation in {@link Interactable.draggable} example\n   *     max: Infinity,\n   *     maxPerElement: 1,\n   * })\n   *\n   * var isGestureable = interact(element).gesturable()\n   * ```\n   *\n   * Gets or sets whether multitouch gestures can be performed on the target\n   *\n   * @param {boolean | object} [options] true/false or An object with event\n   * listeners to be fired on gesture events (makes the Interactable gesturable)\n   * @return {boolean | Interactable} A boolean indicating if this can be the\n   * target of gesture events, or this Interactable\n   */\n  Interactable.prototype.gesturable = function (\n    this: InstanceType<typeof Interactable>,\n    options: GesturableOptions | boolean,\n  ) {\n    if (is.object(options)) {\n      this.options.gesture.enabled = options.enabled !== false\n      this.setPerAction('gesture', options)\n      this.setOnEvents('gesture', options)\n\n      return this\n    }\n\n    if (is.bool(options)) {\n      this.options.gesture.enabled = options\n\n      return this\n    }\n\n    return this.options.gesture as Options\n  } as GesturableMethod\n\n  actions.map.gesture = gesture\n  actions.methodDict.gesture = 'gesturable'\n\n  defaults.actions.gesture = gesture.defaults\n}\n\nfunction updateGestureProps ({ interaction, iEvent, phase }: GestureSignalArg) {\n  if (interaction.prepared.name !== 'gesture') return\n\n  const pointers = interaction.pointers.map((p) => p.pointer)\n  const starting = phase === 'start'\n  const ending = phase === 'end'\n  const deltaSource = interaction.interactable.options.deltaSource\n\n  iEvent.touches = [pointers[0], pointers[1]]\n\n  if (starting) {\n    iEvent.distance = pointerUtils.touchDistance(pointers, deltaSource)\n    iEvent.box = pointerUtils.touchBBox(pointers)\n    iEvent.scale = 1\n    iEvent.ds = 0\n    iEvent.angle = pointerUtils.touchAngle(pointers, deltaSource)\n    iEvent.da = 0\n\n    interaction.gesture.startDistance = iEvent.distance\n    interaction.gesture.startAngle = iEvent.angle\n  } else if (ending) {\n    const prevEvent = interaction.prevEvent as GestureEvent\n\n    iEvent.distance = prevEvent.distance\n    iEvent.box = prevEvent.box\n    iEvent.scale = prevEvent.scale\n    iEvent.ds = 0\n    iEvent.angle = prevEvent.angle\n    iEvent.da = 0\n  } else {\n    iEvent.distance = pointerUtils.touchDistance(pointers, deltaSource)\n    iEvent.box = pointerUtils.touchBBox(pointers)\n    iEvent.scale = iEvent.distance / interaction.gesture.startDistance\n    iEvent.angle = pointerUtils.touchAngle(pointers, deltaSource)\n\n    iEvent.ds = iEvent.scale - interaction.gesture.scale\n    iEvent.da = iEvent.angle - interaction.gesture.angle\n  }\n\n  interaction.gesture.distance = iEvent.distance\n  interaction.gesture.angle = iEvent.angle\n\n  if (is.number(iEvent.scale) && iEvent.scale !== Infinity && !isNaN(iEvent.scale)) {\n    interaction.gesture.scale = iEvent.scale\n  }\n}\n\nconst gesture: Plugin = {\n  id: 'actions/gesture',\n  before: ['actions/drag', 'actions/resize'],\n  install,\n  listeners: {\n    'interactions:action-start': updateGestureProps,\n    'interactions:action-move': updateGestureProps,\n    'interactions:action-end': updateGestureProps,\n\n    'interactions:new': ({ interaction }) => {\n      interaction.gesture = {\n        angle: 0,\n        distance: 0,\n        scale: 1,\n        startAngle: 0,\n        startDistance: 0,\n      }\n    },\n\n    'auto-start:check': (arg) => {\n      if (arg.interaction.pointers.length < 2) {\n        return undefined\n      }\n\n      const gestureOptions = arg.interactable.options.gesture\n\n      if (!(gestureOptions && gestureOptions.enabled)) {\n        return undefined\n      }\n\n      arg.action = { name: 'gesture' }\n\n      return false\n    },\n  },\n\n  defaults: {},\n\n  getCursor () {\n    return ''\n  },\n}\n\nexport default gesture\n","import type { EventPhase, InteractEvent } from '@interactjs/core/InteractEvent'\nimport type { Interactable } from '@interactjs/core/Interactable'\nimport type { ActionProps, Interaction } from '@interactjs/core/Interaction'\nimport type { Scope, Plugin } from '@interactjs/core/scope'\nimport type {\n  ActionMethod,\n  ResizableOptions,\n  FullRect,\n  OrBoolean,\n  Point,\n  Rect,\n} from '@interactjs/types/index'\nimport * as dom from '@interactjs/utils/domUtils'\nimport extend from '@interactjs/utils/extend'\nimport is from '@interactjs/utils/is'\n\nexport type EdgeName = 'top' | 'left' | 'bottom' | 'right'\n\nexport type ResizableMethod = ActionMethod<ResizableOptions>\n\ndeclare module '@interactjs/core/Interactable' {\n  interface Interactable {\n    resizable: ResizableMethod\n  }\n}\n\ndeclare module '@interactjs/core/Interaction' {\n  interface Interaction {\n    resizeAxes: 'x' | 'y' | 'xy'\n    resizeStartAspectRatio: number\n  }\n}\n\ndeclare module '@interactjs/core/options' {\n  interface ActionDefaults {\n    resize: ResizableOptions\n  }\n}\n\ndeclare module '@interactjs/core/scope' {\n  interface ActionMap {\n    resize?: typeof resize\n  }\n}\n\nexport interface ResizeEvent<P extends EventPhase = EventPhase> extends InteractEvent<'resize', P> {\n  deltaRect?: FullRect\n  edges?: ActionProps['edges']\n}\n\nfunction install (scope: Scope) {\n  const {\n    actions,\n    browser,\n    /** @lends Interactable */\n    Interactable, // tslint:disable-line no-shadowed-variable\n    defaults,\n  } = scope\n\n  // Less Precision with touch input\n\n  resize.cursors = initCursors(browser)\n  resize.defaultMargin = browser.supportsTouch || browser.supportsPointerEvent ? 20 : 10\n\n  /**\n   * ```js\n   * interact(element).resizable({\n   *   onstart: function (event) {},\n   *   onmove : function (event) {},\n   *   onend  : function (event) {},\n   *\n   *   edges: {\n   *     top   : true,       // Use pointer coords to check for resize.\n   *     left  : false,      // Disable resizing from left edge.\n   *     bottom: '.resize-s',// Resize if pointer target matches selector\n   *     right : handleEl    // Resize if pointer target is the given Element\n   *   },\n   *\n   *     // Width and height can be adjusted independently. When `true`, width and\n   *     // height are adjusted at a 1:1 ratio.\n   *     square: false,\n   *\n   *     // Width and height can be adjusted independently. When `true`, width and\n   *     // height maintain the aspect ratio they had when resizing started.\n   *     preserveAspectRatio: false,\n   *\n   *   // a value of 'none' will limit the resize rect to a minimum of 0x0\n   *   // 'negate' will allow the rect to have negative width/height\n   *   // 'reposition' will keep the width/height positive by swapping\n   *   // the top and bottom edges and/or swapping the left and right edges\n   *   invert: 'none' || 'negate' || 'reposition'\n   *\n   *   // limit multiple resizes.\n   *   // See the explanation in the {@link Interactable.draggable} example\n   *   max: Infinity,\n   *   maxPerElement: 1,\n   * })\n   *\n   * var isResizeable = interact(element).resizable()\n   * ```\n   *\n   * Gets or sets whether resize actions can be performed on the target\n   *\n   * @param {boolean | object} [options] true/false or An object with event\n   * listeners to be fired on resize events (object makes the Interactable\n   * resizable)\n   * @return {boolean | Interactable} A boolean indicating if this can be the\n   * target of resize elements, or this Interactable\n   */\n  Interactable.prototype.resizable = function (this: Interactable, options: ResizableOptions | boolean) {\n    return resizable(this, options, scope)\n  } as ResizableMethod\n\n  actions.map.resize = resize\n  actions.methodDict.resize = 'resizable'\n\n  defaults.actions.resize = resize.defaults\n}\n\nfunction resizeChecker (arg) {\n  const { interaction, interactable, element, rect, buttons } = arg\n\n  if (!rect) {\n    return undefined\n  }\n\n  const page = extend({}, interaction.coords.cur.page)\n  const resizeOptions = interactable.options.resize\n\n  if (\n    !(resizeOptions && resizeOptions.enabled) ||\n    // check mouseButton setting if the pointer is down\n    (interaction.pointerIsDown &&\n      /mouse|pointer/.test(interaction.pointerType) &&\n      (buttons & resizeOptions.mouseButtons) === 0)\n  ) {\n    return undefined\n  }\n\n  // if using resize.edges\n  if (is.object(resizeOptions.edges)) {\n    const resizeEdges = {\n      left: false,\n      right: false,\n      top: false,\n      bottom: false,\n    }\n\n    for (const edge in resizeEdges) {\n      resizeEdges[edge] = checkResizeEdge(\n        edge,\n        resizeOptions.edges[edge],\n        page,\n        interaction._latestPointer.eventTarget,\n        element,\n        rect,\n        resizeOptions.margin || resize.defaultMargin,\n      )\n    }\n\n    resizeEdges.left = resizeEdges.left && !resizeEdges.right\n    resizeEdges.top = resizeEdges.top && !resizeEdges.bottom\n\n    if (resizeEdges.left || resizeEdges.right || resizeEdges.top || resizeEdges.bottom) {\n      arg.action = {\n        name: 'resize',\n        edges: resizeEdges,\n      }\n    }\n  } else {\n    const right = resizeOptions.axis !== 'y' && page.x > rect.right - resize.defaultMargin\n    const bottom = resizeOptions.axis !== 'x' && page.y > rect.bottom - resize.defaultMargin\n\n    if (right || bottom) {\n      arg.action = {\n        name: 'resize',\n        axes: (right ? 'x' : '') + (bottom ? 'y' : ''),\n      }\n    }\n  }\n\n  return arg.action ? false : undefined\n}\n\nfunction resizable (interactable: Interactable, options: OrBoolean<ResizableOptions> | boolean, scope: Scope) {\n  if (is.object(options)) {\n    interactable.options.resize.enabled = options.enabled !== false\n    interactable.setPerAction('resize', options)\n    interactable.setOnEvents('resize', options)\n\n    if (is.string(options.axis) && /^x$|^y$|^xy$/.test(options.axis)) {\n      interactable.options.resize.axis = options.axis\n    } else if (options.axis === null) {\n      interactable.options.resize.axis = scope.defaults.actions.resize.axis\n    }\n\n    if (is.bool(options.preserveAspectRatio)) {\n      interactable.options.resize.preserveAspectRatio = options.preserveAspectRatio\n    } else if (is.bool(options.square)) {\n      interactable.options.resize.square = options.square\n    }\n\n    return interactable\n  }\n  if (is.bool(options)) {\n    interactable.options.resize.enabled = options\n\n    return interactable\n  }\n  return interactable.options.resize\n}\n\nfunction checkResizeEdge (\n  name: string,\n  value: any,\n  page: Point,\n  element: Node,\n  interactableElement: Element,\n  rect: Rect,\n  margin: number,\n) {\n  // false, '', undefined, null\n  if (!value) {\n    return false\n  }\n\n  // true value, use pointer coords and element rect\n  if (value === true) {\n    // if dimensions are negative, \"switch\" edges\n    const width = is.number(rect.width) ? rect.width : rect.right - rect.left\n    const height = is.number(rect.height) ? rect.height : rect.bottom - rect.top\n\n    // don't use margin greater than half the relevent dimension\n    margin = Math.min(margin, Math.abs((name === 'left' || name === 'right' ? width : height) / 2))\n\n    if (width < 0) {\n      if (name === 'left') {\n        name = 'right'\n      } else if (name === 'right') {\n        name = 'left'\n      }\n    }\n    if (height < 0) {\n      if (name === 'top') {\n        name = 'bottom'\n      } else if (name === 'bottom') {\n        name = 'top'\n      }\n    }\n\n    if (name === 'left') {\n      return page.x < (width >= 0 ? rect.left : rect.right) + margin\n    }\n    if (name === 'top') {\n      return page.y < (height >= 0 ? rect.top : rect.bottom) + margin\n    }\n\n    if (name === 'right') {\n      return page.x > (width >= 0 ? rect.right : rect.left) - margin\n    }\n    if (name === 'bottom') {\n      return page.y > (height >= 0 ? rect.bottom : rect.top) - margin\n    }\n  }\n\n  // the remaining checks require an element\n  if (!is.element(element)) {\n    return false\n  }\n\n  return is.element(value)\n    ? // the value is an element to use as a resize handle\n    value === element\n    : // otherwise check if element matches value as selector\n    dom.matchesUpTo(element, value, interactableElement)\n}\n\n/* eslint-disable multiline-ternary */\n// eslint-disable-next-line @typescript-eslint/consistent-type-imports\nfunction initCursors (browser: typeof import('@interactjs/utils/browser').default) {\n  return browser.isIe9\n    ? {\n      x: 'e-resize',\n      y: 's-resize',\n      xy: 'se-resize',\n\n      top: 'n-resize',\n      left: 'w-resize',\n      bottom: 's-resize',\n      right: 'e-resize',\n      topleft: 'se-resize',\n      bottomright: 'se-resize',\n      topright: 'ne-resize',\n      bottomleft: 'ne-resize',\n    }\n    : {\n      x: 'ew-resize',\n      y: 'ns-resize',\n      xy: 'nwse-resize',\n\n      top: 'ns-resize',\n      left: 'ew-resize',\n      bottom: 'ns-resize',\n      right: 'ew-resize',\n      topleft: 'nwse-resize',\n      bottomright: 'nwse-resize',\n      topright: 'nesw-resize',\n      bottomleft: 'nesw-resize',\n    }\n}\n/* eslint-enable multiline-ternary */\n\nfunction start ({ iEvent, interaction }: { iEvent: InteractEvent<any, any>, interaction: Interaction }) {\n  if (interaction.prepared.name !== 'resize' || !interaction.prepared.edges) {\n    return\n  }\n\n  const resizeEvent = iEvent as ResizeEvent\n  const rect = interaction.rect\n\n  interaction._rects = {\n    start: extend({}, rect),\n    corrected: extend({}, rect),\n    previous: extend({}, rect),\n    delta: {\n      left: 0,\n      right: 0,\n      width: 0,\n      top: 0,\n      bottom: 0,\n      height: 0,\n    },\n  }\n\n  resizeEvent.edges = interaction.prepared.edges\n  resizeEvent.rect = interaction._rects.corrected\n  resizeEvent.deltaRect = interaction._rects.delta\n}\n\nfunction move ({ iEvent, interaction }: { iEvent: InteractEvent<any, any>, interaction: Interaction }) {\n  if (interaction.prepared.name !== 'resize' || !interaction.prepared.edges) return\n\n  const resizeEvent = iEvent as ResizeEvent\n  const resizeOptions = interaction.interactable.options.resize\n  const invert = resizeOptions.invert\n  const invertible = invert === 'reposition' || invert === 'negate'\n\n  const current = interaction.rect\n  const { start: startRect, corrected, delta: deltaRect, previous } = interaction._rects\n\n  extend(previous, corrected)\n\n  if (invertible) {\n    // if invertible, copy the current rect\n    extend(corrected, current)\n\n    if (invert === 'reposition') {\n      // swap edge values if necessary to keep width/height positive\n      if (corrected.top > corrected.bottom) {\n        const swap = corrected.top\n\n        corrected.top = corrected.bottom\n        corrected.bottom = swap\n      }\n      if (corrected.left > corrected.right) {\n        const swap = corrected.left\n\n        corrected.left = corrected.right\n        corrected.right = swap\n      }\n    }\n  } else {\n    // if not invertible, restrict to minimum of 0x0 rect\n    corrected.top = Math.min(current.top, startRect.bottom)\n    corrected.bottom = Math.max(current.bottom, startRect.top)\n    corrected.left = Math.min(current.left, startRect.right)\n    corrected.right = Math.max(current.right, startRect.left)\n  }\n\n  corrected.width = corrected.right - corrected.left\n  corrected.height = corrected.bottom - corrected.top\n\n  for (const edge in corrected) {\n    deltaRect[edge] = corrected[edge] - previous[edge]\n  }\n\n  resizeEvent.edges = interaction.prepared.edges\n  resizeEvent.rect = corrected\n  resizeEvent.deltaRect = deltaRect\n}\n\nfunction end ({ iEvent, interaction }: { iEvent: InteractEvent<any, any>, interaction: Interaction }) {\n  if (interaction.prepared.name !== 'resize' || !interaction.prepared.edges) return\n\n  const resizeEvent = iEvent as ResizeEvent\n\n  resizeEvent.edges = interaction.prepared.edges\n  resizeEvent.rect = interaction._rects.corrected\n  resizeEvent.deltaRect = interaction._rects.delta\n}\n\nfunction updateEventAxes ({\n  iEvent,\n  interaction,\n}: {\n  iEvent: InteractEvent<any, any>\n  interaction: Interaction\n}) {\n  if (interaction.prepared.name !== 'resize' || !interaction.resizeAxes) return\n\n  const options = interaction.interactable.options\n  const resizeEvent = iEvent as ResizeEvent\n\n  if (options.resize.square) {\n    if (interaction.resizeAxes === 'y') {\n      resizeEvent.delta.x = resizeEvent.delta.y\n    } else {\n      resizeEvent.delta.y = resizeEvent.delta.x\n    }\n    resizeEvent.axes = 'xy'\n  } else {\n    resizeEvent.axes = interaction.resizeAxes\n\n    if (interaction.resizeAxes === 'x') {\n      resizeEvent.delta.y = 0\n    } else if (interaction.resizeAxes === 'y') {\n      resizeEvent.delta.x = 0\n    }\n  }\n}\n\nconst resize: Plugin = {\n  id: 'actions/resize',\n  before: ['actions/drag'],\n  install,\n  listeners: {\n    'interactions:new': ({ interaction }) => {\n      interaction.resizeAxes = 'xy'\n    },\n\n    'interactions:action-start': (arg) => {\n      start(arg)\n      updateEventAxes(arg)\n    },\n    'interactions:action-move': (arg) => {\n      move(arg)\n      updateEventAxes(arg)\n    },\n    'interactions:action-end': end,\n    'auto-start:check': resizeChecker,\n  },\n\n  defaults: {\n    square: false,\n    preserveAspectRatio: false,\n    axis: 'xy',\n\n    // use default margin\n    margin: NaN,\n\n    // object with props left, right, top, bottom which are\n    // true/false values to resize when the pointer is over that edge,\n    // CSS selectors to match the handles for each direction\n    // or the Elements for each handle\n    edges: null,\n\n    // a value of 'none' will limit the resize rect to a minimum of 0x0\n    // 'negate' will alow the rect to have negative width/height\n    // 'reposition' will keep the width/height positive by swapping\n    // the top and bottom edges and/or swapping the left and right edges\n    invert: 'none',\n  } as ResizableOptions,\n\n  cursors: null as ReturnType<typeof initCursors>,\n\n  getCursor ({ edges, axis, name }: ActionProps) {\n    const cursors = resize.cursors\n    let result: string = null\n\n    if (axis) {\n      result = cursors[name + axis]\n    } else if (edges) {\n      let cursorKey = ''\n\n      for (const edge of ['top', 'bottom', 'left', 'right']) {\n        if (edges[edge]) {\n          cursorKey += edge\n        }\n      }\n\n      result = cursors[cursorKey]\n    }\n\n    return result\n  },\n\n  defaultMargin: null as number,\n}\n\nexport default resize\n","import type { Scope } from '@interactjs/core/scope'\n\nimport drag from './drag/plugin'\nimport drop from './drop/plugin'\nimport gesture from './gesture/plugin'\nimport resize from './resize/plugin'\n\nexport default {\n  id: 'actions',\n  install (scope: Scope) {\n    scope.usePlugin(gesture)\n    scope.usePlugin(resize)\n    scope.usePlugin(drag)\n    scope.usePlugin(drop)\n  },\n}\n","let lastTime = 0\nlet request: typeof requestAnimationFrame\nlet cancel: typeof cancelAnimationFrame\n\nfunction init (global: Window | typeof globalThis) {\n  request = global.requestAnimationFrame\n  cancel = global.cancelAnimationFrame\n\n  if (!request) {\n    const vendors = ['ms', 'moz', 'webkit', 'o']\n\n    for (const vendor of vendors) {\n      request = global[`${vendor}RequestAnimationFrame` as 'requestAnimationFrame']\n      cancel =\n        global[`${vendor}CancelAnimationFrame` as 'cancelAnimationFrame'] ||\n        global[`${vendor}CancelRequestAnimationFrame` as 'cancelAnimationFrame']\n    }\n  }\n\n  request = request && request.bind(global)\n  cancel = cancel && cancel.bind(global)\n\n  if (!request) {\n    request = (callback) => {\n      const currTime = Date.now()\n      const timeToCall = Math.max(0, 16 - (currTime - lastTime))\n      const token = global.setTimeout(() => {\n        // eslint-disable-next-line node/no-callback-literal\n        callback(currTime + timeToCall)\n      }, timeToCall)\n\n      lastTime = currTime + timeToCall\n      return token as any\n    }\n\n    cancel = (token) => clearTimeout(token)\n  }\n}\n\nexport default {\n  request: (callback: FrameRequestCallback) => request(callback),\n  cancel: (token: number) => cancel(token),\n  init,\n}\n","import type { Interactable } from '@interactjs/core/Interactable'\nimport type Interaction from '@interactjs/core/Interaction'\nimport type { ActionName, Scope, Plugin } from '@interactjs/core/scope'\nimport type { PointerType } from '@interactjs/types/index'\nimport * as domUtils from '@interactjs/utils/domUtils'\nimport is from '@interactjs/utils/is'\nimport raf from '@interactjs/utils/raf'\nimport { getStringOptionResult } from '@interactjs/utils/rect'\nimport { getWindow } from '@interactjs/utils/window'\n\ndeclare module '@interactjs/core/scope' {\n  interface Scope {\n    autoScroll: typeof autoScroll\n  }\n}\n\ndeclare module '@interactjs/core/Interaction' {\n  interface Interaction {\n    autoScroll?: typeof autoScroll\n  }\n}\n\ndeclare module '@interactjs/core/options' {\n  interface PerActionDefaults {\n    autoScroll?: AutoScrollOptions\n  }\n}\n\nexport interface AutoScrollOptions {\n  container?: Window | HTMLElement\n  margin?: number\n  distance?: number\n  interval?: number\n  speed?: number\n  enabled?: boolean\n}\n\nfunction install (scope: Scope) {\n  const { defaults, actions } = scope\n\n  scope.autoScroll = autoScroll\n  autoScroll.now = () => scope.now()\n\n  actions.phaselessTypes.autoscroll = true\n  defaults.perAction.autoScroll = autoScroll.defaults\n}\n\nconst autoScroll = {\n  defaults: {\n    enabled: false,\n    margin: 60,\n\n    // the item that is scrolled (Window or HTMLElement)\n    container: null as AutoScrollOptions['container'],\n\n    // the scroll speed in pixels per second\n    speed: 300,\n  } as AutoScrollOptions,\n\n  now: Date.now,\n\n  interaction: null as Interaction,\n  i: 0, // the handle returned by window.setInterval\n\n  // Direction each pulse is to scroll in\n  x: 0,\n  y: 0,\n\n  isScrolling: false,\n  prevTime: 0,\n  margin: 0,\n  speed: 0,\n\n  start (interaction: Interaction) {\n    autoScroll.isScrolling = true\n    raf.cancel(autoScroll.i)\n\n    interaction.autoScroll = autoScroll\n    autoScroll.interaction = interaction\n    autoScroll.prevTime = autoScroll.now()\n    autoScroll.i = raf.request(autoScroll.scroll)\n  },\n\n  stop () {\n    autoScroll.isScrolling = false\n    if (autoScroll.interaction) {\n      autoScroll.interaction.autoScroll = null\n    }\n    raf.cancel(autoScroll.i)\n  },\n\n  // scroll the window by the values in scroll.x/y\n  scroll () {\n    const { interaction } = autoScroll\n    const { interactable, element } = interaction\n    const actionName = interaction.prepared.name\n    const options = interactable.options[actionName].autoScroll\n    const container = getContainer(options.container, interactable, element)\n    const now = autoScroll.now()\n    // change in time in seconds\n    const dt = (now - autoScroll.prevTime) / 1000\n    // displacement\n    const s = options.speed * dt\n\n    if (s >= 1) {\n      const scrollBy = {\n        x: autoScroll.x * s,\n        y: autoScroll.y * s,\n      }\n\n      if (scrollBy.x || scrollBy.y) {\n        const prevScroll = getScroll(container)\n\n        if (is.window(container)) {\n          container.scrollBy(scrollBy.x, scrollBy.y)\n        } else if (container) {\n          container.scrollLeft += scrollBy.x\n          container.scrollTop += scrollBy.y\n        }\n\n        const curScroll = getScroll(container)\n        const delta = {\n          x: curScroll.x - prevScroll.x,\n          y: curScroll.y - prevScroll.y,\n        }\n\n        if (delta.x || delta.y) {\n          interactable.fire({\n            type: 'autoscroll',\n            target: element,\n            interactable,\n            delta,\n            interaction,\n            container,\n          })\n        }\n      }\n\n      autoScroll.prevTime = now\n    }\n\n    if (autoScroll.isScrolling) {\n      raf.cancel(autoScroll.i)\n      autoScroll.i = raf.request(autoScroll.scroll)\n    }\n  },\n  check (interactable: Interactable, actionName: ActionName) {\n    const options = interactable.options\n\n    return options[actionName].autoScroll?.enabled\n  },\n  onInteractionMove<T extends ActionName> ({\n    interaction,\n    pointer,\n  }: {\n    interaction: Interaction<T>\n    pointer: PointerType\n  }) {\n    if (\n      !(interaction.interacting() && autoScroll.check(interaction.interactable, interaction.prepared.name))\n    ) {\n      return\n    }\n\n    if (interaction.simulation) {\n      autoScroll.x = autoScroll.y = 0\n      return\n    }\n\n    let top: boolean\n    let right: boolean\n    let bottom: boolean\n    let left: boolean\n\n    const { interactable, element } = interaction\n    const actionName = interaction.prepared.name\n    const options = interactable.options[actionName].autoScroll\n    const container = getContainer(options.container, interactable, element)\n\n    if (is.window(container)) {\n      left = pointer.clientX < autoScroll.margin\n      top = pointer.clientY < autoScroll.margin\n      right = pointer.clientX > container.innerWidth - autoScroll.margin\n      bottom = pointer.clientY > container.innerHeight - autoScroll.margin\n    } else {\n      const rect = domUtils.getElementClientRect(container)\n\n      left = pointer.clientX < rect.left + autoScroll.margin\n      top = pointer.clientY < rect.top + autoScroll.margin\n      right = pointer.clientX > rect.right - autoScroll.margin\n      bottom = pointer.clientY > rect.bottom - autoScroll.margin\n    }\n\n    autoScroll.x = right ? 1 : left ? -1 : 0\n    autoScroll.y = bottom ? 1 : top ? -1 : 0\n\n    if (!autoScroll.isScrolling) {\n      // set the autoScroll properties to those of the target\n      autoScroll.margin = options.margin\n      autoScroll.speed = options.speed\n\n      autoScroll.start(interaction)\n    }\n  },\n}\n\nexport function getContainer (value: any, interactable: Interactable, element: Element) {\n  return (\n    (is.string(value) ? getStringOptionResult(value, interactable, element) : value) || getWindow(element)\n  )\n}\n\nexport function getScroll (container: any) {\n  if (is.window(container)) {\n    container = window.document.body\n  }\n\n  return { x: container.scrollLeft, y: container.scrollTop }\n}\n\nexport function getScrollSize (container: any) {\n  if (is.window(container)) {\n    container = window.document.body\n  }\n\n  return { x: container.scrollWidth, y: container.scrollHeight }\n}\n\nexport function getScrollSizeDelta<T extends ActionName> (\n  {\n    interaction,\n    element,\n  }: {\n    interaction: Partial<Interaction<T>>\n    element: Element\n  },\n  func: any,\n) {\n  const scrollOptions = interaction && interaction.interactable.options[interaction.prepared.name].autoScroll\n\n  if (!scrollOptions || !scrollOptions.enabled) {\n    func()\n    return { x: 0, y: 0 }\n  }\n\n  const scrollContainer = getContainer(scrollOptions.container, interaction.interactable, element)\n\n  const prevSize = getScroll(scrollContainer)\n  func()\n  const curSize = getScroll(scrollContainer)\n\n  return {\n    x: curSize.x - prevSize.x,\n    y: curSize.y - prevSize.y,\n  }\n}\n\nconst autoScrollPlugin: Plugin = {\n  id: 'auto-scroll',\n  install,\n  listeners: {\n    'interactions:new': ({ interaction }) => {\n      interaction.autoScroll = null\n    },\n\n    'interactions:destroy': ({ interaction }) => {\n      interaction.autoScroll = null\n      autoScroll.stop()\n      if (autoScroll.interaction) {\n        autoScroll.interaction = null\n      }\n    },\n\n    'interactions:stop': autoScroll.stop,\n\n    'interactions:action-move': (arg: any) => autoScroll.onInteractionMove(arg),\n  },\n}\n\nexport default autoScrollPlugin\n","import type { ActionProps } from '@interactjs/core/Interaction'\nimport type { ActionName } from '@interactjs/core/scope'\n\nimport { window } from './window'\n\nexport function warnOnce<T> (this: T, method: (...args: any[]) => any, message: string) {\n  let warned = false\n\n  return function (this: T) {\n    if (!warned) {\n      ;(window as any).console.warn(message)\n      warned = true\n    }\n\n    return method.apply(this, arguments)\n  }\n}\n\nexport function copyAction<T extends ActionName> (dest: ActionProps<any>, src: ActionProps<T>) {\n  dest.name = src.name\n  dest.axis = src.axis\n  dest.edges = src.edges\n\n  return dest\n}\n\nexport const sign = (n: number) => (n >= 0 ? 1 : -1)\n","import type { Interactable } from '@interactjs/core/Interactable'\nimport type { Interaction, ActionProps } from '@interactjs/core/Interaction'\nimport type { Scope } from '@interactjs/core/scope'\nimport type { PointerType, PointerEventType, Element } from '@interactjs/types/index'\nimport is from '@interactjs/utils/is'\nimport { warnOnce } from '@interactjs/utils/misc'\n\ndeclare module '@interactjs/core/Interactable' {\n  interface Interactable {\n    getAction: (\n      this: Interactable,\n      pointer: PointerType,\n      event: PointerEventType,\n      interaction: Interaction,\n      element: Element,\n    ) => ActionProps | null\n    styleCursor: typeof styleCursor\n    actionChecker: typeof actionChecker\n    ignoreFrom: {\n      (...args: any[]): Interactable\n      (): boolean\n    }\n    allowFrom: {\n      (...args: any[]): Interactable\n      (): boolean\n    }\n  }\n}\n\nfunction install (scope: Scope) {\n  const {\n    /** @lends Interactable */\n    Interactable, // tslint:disable-line no-shadowed-variable\n  } = scope\n\n  Interactable.prototype.getAction = function getAction (\n    this: Interactable,\n    pointer: PointerType,\n    event: PointerEventType,\n    interaction: Interaction,\n    element: Element,\n  ): ActionProps {\n    const action = defaultActionChecker(this, event, interaction, element, scope)\n\n    if (this.options.actionChecker) {\n      return this.options.actionChecker(pointer, event, action, this, element, interaction)\n    }\n\n    return action\n  }\n\n  /**\n   * If the target of the `mousedown`, `pointerdown` or `touchstart` event or any\n   * of it's parents match the given CSS selector or Element, no\n   * drag/resize/gesture is started.\n   *\n   * @deprecated\n   * Don't use this method. Instead set the `ignoreFrom` option for each action\n   * or for `pointerEvents`\n   *\n   * ```js\n   * interact(targett)\n   *   .draggable({\n   *     ignoreFrom: 'input, textarea, a[href]'',\n   *   })\n   *   .pointerEvents({\n   *     ignoreFrom: '[no-pointer]',\n   *   })\n   * ```\n   *\n   * @param {string | Element | null} [newValue] a CSS selector string, an\n   * Element or `null` to not ignore any elements\n   * @return {string | Element | object} The current ignoreFrom value or this\n   * Interactable\n   */\n  Interactable.prototype.ignoreFrom = warnOnce(function (this: Interactable, newValue) {\n    return this._backCompatOption('ignoreFrom', newValue)\n  }, 'Interactable.ignoreFrom() has been deprecated. Use Interactble.draggable({ignoreFrom: newValue}).')\n\n  /**\n   *\n   * A drag/resize/gesture is started only If the target of the `mousedown`,\n   * `pointerdown` or `touchstart` event or any of it's parents match the given\n   * CSS selector or Element.\n   *\n   * @deprecated\n   * Don't use this method. Instead set the `allowFrom` option for each action\n   * or for `pointerEvents`\n   *\n   * ```js\n   * interact(targett)\n   *   .resizable({\n   *     allowFrom: '.resize-handle',\n   *   .pointerEvents({\n   *     allowFrom: '.handle',,\n   *   })\n   * ```\n   *\n   * @param {string | Element | null} [newValue] a CSS selector string, an\n   * Element or `null` to allow from any element\n   * @return {string | Element | object} The current allowFrom value or this\n   * Interactable\n   */\n  Interactable.prototype.allowFrom = warnOnce(function (this: Interactable, newValue) {\n    return this._backCompatOption('allowFrom', newValue)\n  }, 'Interactable.allowFrom() has been deprecated. Use Interactble.draggable({allowFrom: newValue}).')\n\n  /**\n   * ```js\n   * interact('.resize-drag')\n   *   .resizable(true)\n   *   .draggable(true)\n   *   .actionChecker(function (pointer, event, action, interactable, element, interaction) {\n   *\n   *     if (interact.matchesSelector(event.target, '.drag-handle')) {\n   *       // force drag with handle target\n   *       action.name = drag\n   *     }\n   *     else {\n   *       // resize from the top and right edges\n   *       action.name  = 'resize'\n   *       action.edges = { top: true, right: true }\n   *     }\n   *\n   *     return action\n   * })\n   * ```\n   *\n   * Returns or sets the function used to check action to be performed on\n   * pointerDown\n   *\n   * @param {function | null} [checker] A function which takes a pointer event,\n   * defaultAction string, interactable, element and interaction as parameters\n   * and returns an object with name property 'drag' 'resize' or 'gesture' and\n   * optionally an `edges` object with boolean 'top', 'left', 'bottom' and right\n   * props.\n   * @return {Function | Interactable} The checker function or this Interactable\n   */\n  Interactable.prototype.actionChecker = actionChecker\n\n  /**\n   * Returns or sets whether the the cursor should be changed depending on the\n   * action that would be performed if the mouse were pressed and dragged.\n   *\n   * @param {boolean} [newValue]\n   * @return {boolean | Interactable} The current setting or this Interactable\n   */\n  Interactable.prototype.styleCursor = styleCursor\n}\n\nfunction defaultActionChecker (\n  interactable: Interactable,\n  event: PointerEventType,\n  interaction: Interaction,\n  element: Element,\n  scope: Scope,\n) {\n  const rect = interactable.getRect(element)\n  const buttons =\n    (event as MouseEvent).buttons ||\n    {\n      0: 1,\n      1: 4,\n      3: 8,\n      4: 16,\n    }[(event as MouseEvent).button as 0 | 1 | 3 | 4]\n  const arg = {\n    action: null,\n    interactable,\n    interaction,\n    element,\n    rect,\n    buttons,\n  }\n\n  scope.fire('auto-start:check', arg)\n\n  return arg.action\n}\n\nfunction styleCursor(this: Interactable): boolean\nfunction styleCursor(this: Interactable, newValue: boolean): typeof this\nfunction styleCursor (this: Interactable, newValue?: boolean) {\n  if (is.bool(newValue)) {\n    this.options.styleCursor = newValue\n\n    return this\n  }\n\n  if (newValue === null) {\n    delete this.options.styleCursor\n\n    return this\n  }\n\n  return this.options.styleCursor\n}\n\nfunction actionChecker (this: Interactable, checker: any) {\n  if (is.func(checker)) {\n    this.options.actionChecker = checker\n\n    return this\n  }\n\n  if (checker === null) {\n    delete this.options.actionChecker\n\n    return this\n  }\n\n  return this.options.actionChecker\n}\n\nexport default {\n  id: 'auto-start/interactableMethods',\n  install,\n}\n","import type { Interactable } from '@interactjs/core/Interactable'\nimport type { Interaction, ActionProps } from '@interactjs/core/Interaction'\nimport type { Scope, SignalArgs, ActionName, Plugin } from '@interactjs/core/scope'\nimport type { CursorChecker, PointerType, PointerEventType, Element } from '@interactjs/types/index'\nimport * as domUtils from '@interactjs/utils/domUtils'\nimport extend from '@interactjs/utils/extend'\nimport is from '@interactjs/utils/is'\nimport { copyAction } from '@interactjs/utils/misc'\n\nimport InteractableMethods from './InteractableMethods'\n\ndeclare module '@interactjs/core/InteractStatic' {\n  export interface InteractStatic {\n    maxInteractions: (newValue: any) => any\n  }\n}\n\ndeclare module '@interactjs/core/scope' {\n  interface Scope {\n    autoStart: AutoStart\n  }\n\n  interface SignalArgs {\n    'autoStart:before-start': Omit<SignalArgs['interactions:move'], 'interaction'> & {\n      interaction: Interaction<ActionName>\n    }\n    'autoStart:prepared': { interaction: Interaction }\n    'auto-start:check': CheckSignalArg\n  }\n}\n\ndeclare module '@interactjs/core/options' {\n  interface BaseDefaults {\n    actionChecker?: any\n    cursorChecker?: any\n    styleCursor?: any\n  }\n\n  interface PerActionDefaults {\n    manualStart?: boolean\n    max?: number\n    maxPerElement?: number\n    allowFrom?: string | Element\n    ignoreFrom?: string | Element\n    cursorChecker?: CursorChecker\n\n    // only allow left button by default\n    // see https://developer.mozilla.org/en-US/docs/Web/API/MouseEvent/buttons#Return_value\n    // TODO: docst\n    mouseButtons?: 0 | 1 | 2 | 4 | 8 | 16\n  }\n}\n\ninterface CheckSignalArg {\n  interactable: Interactable\n  interaction: Interaction\n  element: Element\n  action: ActionProps<ActionName>\n  buttons: number\n}\n\nexport interface AutoStart {\n  // Allow this many interactions to happen simultaneously\n  maxInteractions: number\n  withinInteractionLimit: typeof withinInteractionLimit\n  cursorElement: Element\n}\n\nfunction install (scope: Scope) {\n  const { interactStatic: interact, defaults } = scope\n\n  scope.usePlugin(InteractableMethods)\n\n  defaults.base.actionChecker = null\n  defaults.base.styleCursor = true\n\n  extend(defaults.perAction, {\n    manualStart: false,\n    max: Infinity,\n    maxPerElement: 1,\n    allowFrom: null,\n    ignoreFrom: null,\n\n    // only allow left button by default\n    // see https://developer.mozilla.org/en-US/docs/Web/API/MouseEvent/buttons#Return_value\n    mouseButtons: 1,\n  })\n\n  /**\n   * Returns or sets the maximum number of concurrent interactions allowed.  By\n   * default only 1 interaction is allowed at a time (for backwards\n   * compatibility). To allow multiple interactions on the same Interactables and\n   * elements, you need to enable it in the draggable, resizable and gesturable\n   * `'max'` and `'maxPerElement'` options.\n   *\n   * @alias module:interact.maxInteractions\n   *\n   * @param {number} [newValue] Any number. newValue <= 0 means no interactions.\n   */\n  interact.maxInteractions = (newValue: number) => maxInteractions(newValue, scope)\n\n  scope.autoStart = {\n    // Allow this many interactions to happen simultaneously\n    maxInteractions: Infinity,\n    withinInteractionLimit,\n    cursorElement: null,\n  }\n}\n\nfunction prepareOnDown (\n  { interaction, pointer, event, eventTarget }: SignalArgs['interactions:down'],\n  scope: Scope,\n) {\n  if (interaction.interacting()) return\n\n  const actionInfo = getActionInfo(interaction, pointer, event, eventTarget, scope)\n  prepare(interaction, actionInfo, scope)\n}\n\nfunction prepareOnMove (\n  { interaction, pointer, event, eventTarget }: SignalArgs['interactions:move'],\n  scope: Scope,\n) {\n  if (interaction.pointerType !== 'mouse' || interaction.pointerIsDown || interaction.interacting()) return\n\n  const actionInfo = getActionInfo(interaction, pointer, event, eventTarget as Element, scope)\n  prepare(interaction, actionInfo, scope)\n}\n\nfunction startOnMove (arg: SignalArgs['interactions:move'], scope: Scope) {\n  const { interaction } = arg\n\n  if (\n    !interaction.pointerIsDown ||\n    interaction.interacting() ||\n    !interaction.pointerWasMoved ||\n    !interaction.prepared.name\n  ) {\n    return\n  }\n\n  scope.fire('autoStart:before-start', arg)\n\n  const { interactable } = interaction\n  const actionName = (interaction as Interaction<ActionName>).prepared.name\n\n  if (actionName && interactable) {\n    // check manualStart and interaction limit\n    if (\n      interactable.options[actionName].manualStart ||\n      !withinInteractionLimit(interactable, interaction.element, interaction.prepared, scope)\n    ) {\n      interaction.stop()\n    } else {\n      interaction.start(interaction.prepared, interactable, interaction.element)\n      setInteractionCursor(interaction, scope)\n    }\n  }\n}\n\nfunction clearCursorOnStop ({ interaction }: { interaction: Interaction }, scope: Scope) {\n  const { interactable } = interaction\n\n  if (interactable && interactable.options.styleCursor) {\n    setCursor(interaction.element, '', scope)\n  }\n}\n\n// Check if the current interactable supports the action.\n// If so, return the validated action. Otherwise, return null\nfunction validateAction<T extends ActionName> (\n  action: ActionProps<T>,\n  interactable: Interactable,\n  element: Element,\n  eventTarget: Node,\n  scope: Scope,\n) {\n  if (\n    interactable.testIgnoreAllow(interactable.options[action.name], element, eventTarget) &&\n    interactable.options[action.name].enabled &&\n    withinInteractionLimit(interactable, element, action, scope)\n  ) {\n    return action\n  }\n\n  return null\n}\n\nfunction validateMatches (\n  interaction: Interaction,\n  pointer: PointerType,\n  event: PointerEventType,\n  matches: Interactable[],\n  matchElements: Element[],\n  eventTarget: Node,\n  scope: Scope,\n) {\n  for (let i = 0, len = matches.length; i < len; i++) {\n    const match = matches[i]\n    const matchElement = matchElements[i]\n    const matchAction = match.getAction(pointer, event, interaction, matchElement)\n\n    if (!matchAction) {\n      continue\n    }\n\n    const action = validateAction<ActionName>(matchAction, match, matchElement, eventTarget, scope)\n\n    if (action) {\n      return {\n        action,\n        interactable: match,\n        element: matchElement,\n      }\n    }\n  }\n\n  return { action: null, interactable: null, element: null }\n}\n\nfunction getActionInfo (\n  interaction: Interaction,\n  pointer: PointerType,\n  event: PointerEventType,\n  eventTarget: Node,\n  scope: Scope,\n) {\n  let matches: Interactable[] = []\n  let matchElements: Element[] = []\n\n  let element = eventTarget as Element\n\n  function pushMatches (interactable: Interactable) {\n    matches.push(interactable)\n    matchElements.push(element)\n  }\n\n  while (is.element(element)) {\n    matches = []\n    matchElements = []\n\n    scope.interactables.forEachMatch(element, pushMatches)\n\n    const actionInfo = validateMatches(\n      interaction,\n      pointer,\n      event,\n      matches,\n      matchElements,\n      eventTarget,\n      scope,\n    )\n\n    if (actionInfo.action && !actionInfo.interactable.options[actionInfo.action.name].manualStart) {\n      return actionInfo\n    }\n\n    element = domUtils.parentNode(element) as Element\n  }\n\n  return { action: null, interactable: null, element: null }\n}\n\nfunction prepare (\n  interaction: Interaction,\n  {\n    action,\n    interactable,\n    element,\n  }: {\n    action: ActionProps<any>\n    interactable: Interactable\n    element: Element\n  },\n  scope: Scope,\n) {\n  action = action || { name: null }\n\n  interaction.interactable = interactable\n  interaction.element = element\n  copyAction(interaction.prepared, action)\n\n  interaction.rect = interactable && action.name ? interactable.getRect(element) : null\n\n  setInteractionCursor(interaction, scope)\n\n  scope.fire('autoStart:prepared', { interaction })\n}\n\nfunction withinInteractionLimit<T extends ActionName> (\n  interactable: Interactable,\n  element: Element,\n  action: ActionProps<T>,\n  scope: Scope,\n) {\n  const options = interactable.options\n  const maxActions = options[action.name].max\n  const maxPerElement = options[action.name].maxPerElement\n  const autoStartMax = scope.autoStart.maxInteractions\n  let activeInteractions = 0\n  let interactableCount = 0\n  let elementCount = 0\n\n  // no actions if any of these values == 0\n  if (!(maxActions && maxPerElement && autoStartMax)) {\n    return false\n  }\n\n  for (const interaction of scope.interactions.list) {\n    const otherAction = interaction.prepared.name\n\n    if (!interaction.interacting()) {\n      continue\n    }\n\n    activeInteractions++\n\n    if (activeInteractions >= autoStartMax) {\n      return false\n    }\n\n    if (interaction.interactable !== interactable) {\n      continue\n    }\n\n    interactableCount += otherAction === action.name ? 1 : 0\n\n    if (interactableCount >= maxActions) {\n      return false\n    }\n\n    if (interaction.element === element) {\n      elementCount++\n\n      if (otherAction === action.name && elementCount >= maxPerElement) {\n        return false\n      }\n    }\n  }\n\n  return autoStartMax > 0\n}\n\nfunction maxInteractions (newValue: any, scope: Scope) {\n  if (is.number(newValue)) {\n    scope.autoStart.maxInteractions = newValue\n\n    return this\n  }\n\n  return scope.autoStart.maxInteractions\n}\n\nfunction setCursor (element: Element, cursor: string, scope: Scope) {\n  const { cursorElement: prevCursorElement } = scope.autoStart\n\n  if (prevCursorElement && prevCursorElement !== element) {\n    prevCursorElement.style.cursor = ''\n  }\n\n  element.ownerDocument.documentElement.style.cursor = cursor\n  element.style.cursor = cursor\n  scope.autoStart.cursorElement = cursor ? element : null\n}\n\nfunction setInteractionCursor<T extends ActionName> (interaction: Interaction<T>, scope: Scope) {\n  const { interactable, element, prepared } = interaction\n\n  if (!(interaction.pointerType === 'mouse' && interactable && interactable.options.styleCursor)) {\n    // clear previous target element cursor\n    if (scope.autoStart.cursorElement) {\n      setCursor(scope.autoStart.cursorElement, '', scope)\n    }\n\n    return\n  }\n\n  let cursor = ''\n\n  if (prepared.name) {\n    const cursorChecker = interactable.options[prepared.name].cursorChecker\n\n    if (is.func(cursorChecker)) {\n      cursor = cursorChecker(prepared, interactable, element, interaction._interacting)\n    } else {\n      cursor = scope.actions.map[prepared.name].getCursor(prepared)\n    }\n  }\n\n  setCursor(interaction.element, cursor || '', scope)\n}\n\nconst autoStart: Plugin = {\n  id: 'auto-start/base',\n  before: ['actions'],\n  install,\n  listeners: {\n    'interactions:down': prepareOnDown,\n    'interactions:move': (arg, scope) => {\n      prepareOnMove(arg, scope)\n      startOnMove(arg, scope)\n    },\n    'interactions:stop': clearCursorOnStop,\n  },\n  maxInteractions,\n  withinInteractionLimit,\n  validateAction,\n}\n\nexport default autoStart\n","import type { Interactable } from '@interactjs/core/Interactable'\nimport type Interaction from '@interactjs/core/Interaction'\nimport type { SignalArgs, Scope, ActionName } from '@interactjs/core/scope'\nimport type { Element } from '@interactjs/types/index'\nimport { parentNode } from '@interactjs/utils/domUtils'\nimport is from '@interactjs/utils/is'\n\nimport autoStart from './base'\n\nfunction beforeStart ({ interaction, eventTarget, dx, dy }: SignalArgs['interactions:move'], scope: Scope) {\n  if (interaction.prepared.name !== 'drag') return\n\n  // check if a drag is in the correct axis\n  const absX = Math.abs(dx)\n  const absY = Math.abs(dy)\n  const targetOptions = interaction.interactable.options.drag\n  const startAxis = targetOptions.startAxis\n  const currentAxis = absX > absY ? 'x' : absX < absY ? 'y' : 'xy'\n\n  interaction.prepared.axis =\n    targetOptions.lockAxis === 'start'\n      ? (currentAxis[0] as 'x' | 'y') // always lock to one axis even if currentAxis === 'xy'\n      : targetOptions.lockAxis\n\n  // if the movement isn't in the startAxis of the interactable\n  if (currentAxis !== 'xy' && startAxis !== 'xy' && startAxis !== currentAxis) {\n    // cancel the prepared action\n    ;(interaction as Interaction<ActionName>).prepared.name = null\n\n    // then try to get a drag from another ineractable\n    let element = eventTarget as Element\n\n    const getDraggable = function (interactable: Interactable): Interactable | void {\n      if (interactable === interaction.interactable) return\n\n      const options = interaction.interactable.options.drag\n\n      if (!options.manualStart && interactable.testIgnoreAllow(options, element, eventTarget)) {\n        const action = interactable.getAction(\n          interaction.downPointer,\n          interaction.downEvent,\n          interaction,\n          element,\n        )\n\n        if (\n          action &&\n          action.name === 'drag' &&\n          checkStartAxis(currentAxis, interactable) &&\n          autoStart.validateAction(action, interactable, element, eventTarget, scope)\n        ) {\n          return interactable\n        }\n      }\n    }\n\n    // check all interactables\n    while (is.element(element)) {\n      const interactable = scope.interactables.forEachMatch(element, getDraggable)\n\n      if (interactable) {\n        ;(interaction as Interaction<ActionName>).prepared.name = 'drag'\n        interaction.interactable = interactable\n        interaction.element = element\n        break\n      }\n\n      element = parentNode(element) as Element\n    }\n  }\n}\n\nfunction checkStartAxis (startAxis: string, interactable: Interactable) {\n  if (!interactable) {\n    return false\n  }\n\n  const thisAxis = interactable.options.drag.startAxis\n\n  return startAxis === 'xy' || thisAxis === 'xy' || thisAxis === startAxis\n}\n\nexport default {\n  id: 'auto-start/dragAxis',\n  listeners: { 'autoStart:before-start': beforeStart },\n}\n","import type Interaction from '@interactjs/core/Interaction'\nimport type { Scope, Plugin } from '@interactjs/core/scope'\n\nimport basePlugin from './base'\n\ndeclare module '@interactjs/core/options' {\n  interface PerActionDefaults {\n    hold?: number\n    delay?: number\n  }\n}\n\ndeclare module '@interactjs/core/Interaction' {\n  interface Interaction {\n    autoStartHoldTimer?: any\n  }\n}\n\nfunction install (scope: Scope) {\n  const { defaults } = scope\n\n  scope.usePlugin(basePlugin)\n\n  defaults.perAction.hold = 0\n  defaults.perAction.delay = 0\n}\n\nfunction getHoldDuration (interaction: Interaction) {\n  const actionName = interaction.prepared && interaction.prepared.name\n\n  if (!actionName) {\n    return null\n  }\n\n  const options = interaction.interactable.options\n\n  return options[actionName].hold || options[actionName].delay\n}\n\nconst hold: Plugin = {\n  id: 'auto-start/hold',\n  install,\n  listeners: {\n    'interactions:new': ({ interaction }) => {\n      interaction.autoStartHoldTimer = null\n    },\n\n    'autoStart:prepared': ({ interaction }) => {\n      const hold = getHoldDuration(interaction)\n\n      if (hold > 0) {\n        interaction.autoStartHoldTimer = setTimeout(() => {\n          interaction.start(interaction.prepared, interaction.interactable, interaction.element)\n        }, hold)\n      }\n    },\n\n    'interactions:move': ({ interaction, duplicate }) => {\n      if (interaction.autoStartHoldTimer && interaction.pointerWasMoved && !duplicate) {\n        clearTimeout(interaction.autoStartHoldTimer)\n        interaction.autoStartHoldTimer = null\n      }\n    },\n\n    // prevent regular down->move autoStart\n    'autoStart:before-start': ({ interaction }) => {\n      const holdDuration = getHoldDuration(interaction)\n\n      if (holdDuration > 0) {\n        interaction.prepared.name = null\n      }\n    },\n  },\n  getHoldDuration,\n}\nexport default hold\n","import type { Scope } from '@interactjs/core/scope'\n\nimport autoStart from './base'\nimport dragAxis from './dragAxis'\nimport hold from './hold'\n\nexport default {\n  id: 'auto-start',\n  install (scope: Scope) {\n    scope.usePlugin(autoStart)\n    scope.usePlugin(hold)\n    scope.usePlugin(dragAxis)\n  },\n}\n","import type { Interactable } from '@interactjs/core/Interactable'\nimport type Interaction from '@interactjs/core/Interaction'\nimport type { Scope } from '@interactjs/core/scope'\nimport type { PointerEventType } from '@interactjs/types/index'\nimport { matchesSelector, nodeContains } from '@interactjs/utils/domUtils'\nimport is from '@interactjs/utils/is'\nimport { getWindow } from '@interactjs/utils/window'\n\ndeclare module '@interactjs/core/Interactable' {\n  interface Interactable {\n    preventDefault: typeof preventDefault\n    checkAndPreventDefault: (event: Event) => void\n  }\n}\n\ntype PreventDefaultValue = 'always' | 'never' | 'auto'\nfunction preventDefault(this: Interactable): PreventDefaultValue\nfunction preventDefault(this: Interactable, newValue: PreventDefaultValue): typeof this\nfunction preventDefault (this: Interactable, newValue?: PreventDefaultValue) {\n  if (/^(always|never|auto)$/.test(newValue)) {\n    this.options.preventDefault = newValue\n    return this\n  }\n\n  if (is.bool(newValue)) {\n    this.options.preventDefault = newValue ? 'always' : 'never'\n    return this\n  }\n\n  return this.options.preventDefault\n}\n\nfunction checkAndPreventDefault (interactable: Interactable, scope: Scope, event: Event) {\n  const setting = interactable.options.preventDefault\n\n  if (setting === 'never') return\n\n  if (setting === 'always') {\n    event.preventDefault()\n    return\n  }\n\n  // setting === 'auto'\n\n  // if the browser supports passive event listeners and isn't running on iOS,\n  // don't preventDefault of touch{start,move} events. CSS touch-action and\n  // user-select should be used instead of calling event.preventDefault().\n  if (scope.events.supportsPassive && /^touch(start|move)$/.test(event.type)) {\n    const doc = getWindow(event.target).document\n    const docOptions = scope.getDocOptions(doc)\n\n    if (!(docOptions && docOptions.events) || docOptions.events.passive !== false) {\n      return\n    }\n  }\n\n  // don't preventDefault of pointerdown events\n  if (/^(mouse|pointer|touch)*(down|start)/i.test(event.type)) {\n    return\n  }\n\n  // don't preventDefault on editable elements\n  if (\n    is.element(event.target) &&\n    matchesSelector(event.target, 'input,select,textarea,[contenteditable=true],[contenteditable=true] *')\n  ) {\n    return\n  }\n\n  event.preventDefault()\n}\n\nfunction onInteractionEvent ({ interaction, event }: { interaction: Interaction, event: PointerEventType }) {\n  if (interaction.interactable) {\n    interaction.interactable.checkAndPreventDefault(event as Event)\n  }\n}\n\nexport function install (scope: Scope) {\n  /** @lends Interactable */\n  const { Interactable } = scope\n\n  /**\n   * Returns or sets whether to prevent the browser's default behaviour in\n   * response to pointer events. Can be set to:\n   *  - `'always'` to always prevent\n   *  - `'never'` to never prevent\n   *  - `'auto'` to let interact.js try to determine what would be best\n   *\n   * @param {string} [newValue] `'always'`, `'never'` or `'auto'`\n   * @return {string | Interactable} The current setting or this Interactable\n   */\n  Interactable.prototype.preventDefault = preventDefault\n\n  Interactable.prototype.checkAndPreventDefault = function (event) {\n    return checkAndPreventDefault(this, scope, event)\n  }\n\n  // prevent native HTML5 drag on interact.js target elements\n  scope.interactions.docEvents.push({\n    type: 'dragstart',\n    listener (event) {\n      for (const interaction of scope.interactions.list) {\n        if (\n          interaction.element &&\n          (interaction.element === event.target || nodeContains(interaction.element, event.target))\n        ) {\n          interaction.interactable.checkAndPreventDefault(event)\n          return\n        }\n      }\n    },\n  })\n}\n\nexport default {\n  id: 'core/interactablePreventDefault',\n  install,\n  listeners: ['down', 'move', 'up', 'cancel'].reduce((acc, eventType) => {\n    acc[`interactions:${eventType}`] = onInteractionEvent\n    return acc\n  }, {} as any),\n}\n","export default {}\n","import type Interaction from '@interactjs/core/Interaction'\nimport type { Scope, Plugin } from '@interactjs/core/scope'\nimport visualizer from '@interactjs/dev-tools/visualizer/plugin'\nimport type { Element, OptionMethod } from '@interactjs/types/index'\nimport domObjects from '@interactjs/utils/domObjects'\nimport { parentNode } from '@interactjs/utils/domUtils'\nimport extend from '@interactjs/utils/extend'\nimport is from '@interactjs/utils/is'\nimport * as win from '@interactjs/utils/window'\n\ndeclare module '@interactjs/core/scope' {\n  interface Scope {\n    logger: Logger\n  }\n}\n\ndeclare module '@interactjs/core/InteractStatic' {\n  export interface InteractStatic {\n    visializer: typeof visualizer\n  }\n}\n\ndeclare module '@interactjs/core/options' {\n  interface BaseDefaults {\n    devTools?: DevToolsOptions\n  }\n}\n\ndeclare module '@interactjs/core/Interactable' {\n  interface Interactable {\n    devTools: OptionMethod<DevToolsOptions>\n  }\n}\n\nexport interface DevToolsOptions {\n  ignore: { [P in keyof typeof CheckName]?: boolean }\n}\n\nexport interface Logger {\n  warn: (...args: any[]) => void\n  error: (...args: any[]) => void\n  log: (...args: any[]) => void\n}\n\nexport interface Check {\n  name: CheckName\n  text: string\n  perform: (interaction: Interaction) => boolean\n  getInfo: (interaction: Interaction) => any[]\n}\n\nenum CheckName {\n  touchAction = 'touchAction',\n  boxSizing = 'boxSizing',\n  noListeners = 'noListeners',\n}\n\nconst prefix = '[interact.js] '\nconst links = {\n  touchAction: 'https://developer.mozilla.org/en-US/docs/Web/CSS/touch-action',\n  boxSizing: 'https://developer.mozilla.org/en-US/docs/Web/CSS/box-sizing',\n}\n\n// eslint-disable-next-line no-undef\nconst isProduction = process.env.NODE_ENV === 'production'\n\nfunction install (scope: Scope, { logger }: { logger?: Logger } = {}) {\n  const { Interactable, defaults } = scope\n\n  scope.logger = logger || console\n\n  defaults.base.devTools = {\n    ignore: {},\n  }\n\n  Interactable.prototype.devTools = function (options?: object) {\n    if (options) {\n      extend(this.options.devTools, options)\n      return this\n    }\n\n    return this.options.devTools\n  }\n\n  scope.usePlugin(visualizer)\n}\n\nconst checks: Check[] = [\n  {\n    name: CheckName.touchAction,\n    perform ({ element }) {\n      return !parentHasStyle(element, 'touchAction', /pan-|pinch|none/)\n    },\n    getInfo ({ element }) {\n      return [element, links.touchAction]\n    },\n    text: 'Consider adding CSS \"touch-action: none\" to this element\\n',\n  },\n\n  {\n    name: CheckName.boxSizing,\n    perform (interaction) {\n      const { element } = interaction\n\n      return (\n        interaction.prepared.name === 'resize' &&\n        element instanceof domObjects.HTMLElement &&\n        !hasStyle(element, 'boxSizing', /border-box/)\n      )\n    },\n    text: 'Consider adding CSS \"box-sizing: border-box\" to this resizable element',\n    getInfo ({ element }) {\n      return [element, links.boxSizing]\n    },\n  },\n\n  {\n    name: CheckName.noListeners,\n    perform (interaction) {\n      const actionName = interaction.prepared.name\n      const moveListeners = interaction.interactable.events.types[`${actionName}move`] || []\n\n      return !moveListeners.length\n    },\n    getInfo (interaction) {\n      return [interaction.prepared.name, interaction.interactable]\n    },\n    text: 'There are no listeners set for this action',\n  },\n]\n\nfunction hasStyle (element: HTMLElement, prop: keyof CSSStyleDeclaration, styleRe: RegExp) {\n  const value = element.style[prop] || win.window.getComputedStyle(element)[prop]\n  return styleRe.test((value || '').toString())\n}\n\nfunction parentHasStyle (element: Element, prop: keyof CSSStyleDeclaration, styleRe: RegExp) {\n  let parent = element as HTMLElement\n\n  while (is.element(parent)) {\n    if (hasStyle(parent, prop, styleRe)) {\n      return true\n    }\n\n    parent = parentNode(parent) as HTMLElement\n  }\n\n  return false\n}\n\nconst id = 'dev-tools'\nconst defaultExport: Plugin = isProduction\n  ? { id, install: () => {} }\n  : {\n    id,\n    install,\n    listeners: {\n      'interactions:action-start': ({ interaction }, scope) => {\n        for (const check of checks) {\n          const options = interaction.interactable && interaction.interactable.options\n\n          if (\n            !(options && options.devTools && options.devTools.ignore[check.name]) &&\n              check.perform(interaction)\n          ) {\n            scope.logger.warn(prefix + check.text, ...check.getInfo(interaction))\n          }\n        }\n      },\n    },\n    checks,\n    CheckName,\n    links,\n    prefix,\n  }\n\nexport default defaultExport\n","import * as arr from './arr'\nimport is from './is'\n\n// tslint:disable-next-line ban-types\nexport default function clone<T extends Object> (source: T): Partial<T> {\n  const dest = {} as Partial<T>\n\n  for (const prop in source) {\n    const value = source[prop]\n\n    if (is.plainObject(value)) {\n      dest[prop] = clone(value) as any\n    } else if (is.array(value)) {\n      dest[prop] = arr.from(value) as typeof value\n    } else {\n      dest[prop] = value\n    }\n  }\n\n  return dest\n}\n","import type { EventPhase } from '@interactjs/core/InteractEvent'\nimport type { Interaction, DoAnyPhaseArg } from '@interactjs/core/Interaction'\nimport type { EdgeOptions, FullRect, Point, Rect } from '@interactjs/types/index'\nimport clone from '@interactjs/utils/clone'\nimport extend from '@interactjs/utils/extend'\nimport * as rectUtils from '@interactjs/utils/rect'\n\nimport type { Modifier, ModifierArg, ModifierState } from './base'\n\nexport interface ModificationResult {\n  delta: Point\n  rectDelta: Rect\n  coords: Point\n  rect: FullRect\n  eventProps: any[]\n  changed: boolean\n}\n\ninterface MethodArg {\n  phase: EventPhase\n  pageCoords: Point\n  rect: FullRect\n  coords: Point\n  preEnd?: boolean\n  skipModifiers?: number\n}\n\nexport default class Modification {\n  states: ModifierState[] = []\n  startOffset: Rect = { left: 0, right: 0, top: 0, bottom: 0 }\n  startDelta!: Point\n  result!: ModificationResult\n  endResult!: Point\n  edges!: EdgeOptions\n  readonly interaction: Readonly<Interaction>\n\n  constructor (interaction: Interaction) {\n    this.interaction = interaction\n    this.result = createResult()\n  }\n\n  start ({ phase }: { phase: EventPhase }, pageCoords: Point) {\n    const { interaction } = this\n    const modifierList = getModifierList(interaction)\n    this.prepareStates(modifierList)\n\n    this.edges = extend({}, interaction.edges)\n    this.startOffset = getRectOffset(interaction.rect, pageCoords)\n    this.startDelta = { x: 0, y: 0 }\n\n    const arg = this.fillArg({\n      phase,\n      pageCoords,\n      preEnd: false,\n    })\n\n    this.result = createResult()\n    this.startAll(arg)\n\n    const result = (this.result = this.setAll(arg))\n\n    return result\n  }\n\n  fillArg (arg: Partial<ModifierArg>) {\n    const { interaction } = this\n\n    arg.interaction = interaction\n    arg.interactable = interaction.interactable\n    arg.element = interaction.element\n    arg.rect = arg.rect || interaction.rect\n    arg.edges = this.edges\n    arg.startOffset = this.startOffset\n\n    return arg as ModifierArg\n  }\n\n  startAll (arg: MethodArg & Partial<ModifierArg>) {\n    for (const state of this.states) {\n      if (state.methods.start) {\n        arg.state = state\n        state.methods.start(arg as ModifierArg)\n      }\n    }\n  }\n\n  setAll (arg: MethodArg & Partial<ModifierArg>): ModificationResult {\n    const { phase, preEnd, skipModifiers, rect: unmodifiedRect } = arg\n\n    arg.coords = extend({}, arg.pageCoords)\n    arg.rect = extend({}, unmodifiedRect)\n\n    const states = skipModifiers ? this.states.slice(skipModifiers) : this.states\n\n    const newResult = createResult(arg.coords, arg.rect)\n\n    for (const state of states) {\n      const { options } = state\n      const lastModifierCoords = extend({}, arg.coords)\n      let returnValue = null\n\n      if (state.methods?.set && this.shouldDo(options, preEnd, phase)) {\n        arg.state = state\n        returnValue = state.methods.set(arg as ModifierArg<never>)\n\n        rectUtils.addEdges(this.interaction.edges, arg.rect, {\n          x: arg.coords.x - lastModifierCoords.x,\n          y: arg.coords.y - lastModifierCoords.y,\n        })\n      }\n\n      newResult.eventProps.push(returnValue)\n    }\n\n    newResult.delta.x = arg.coords.x - arg.pageCoords.x\n    newResult.delta.y = arg.coords.y - arg.pageCoords.y\n\n    newResult.rectDelta.left = arg.rect.left - unmodifiedRect.left\n    newResult.rectDelta.right = arg.rect.right - unmodifiedRect.right\n    newResult.rectDelta.top = arg.rect.top - unmodifiedRect.top\n    newResult.rectDelta.bottom = arg.rect.bottom - unmodifiedRect.bottom\n\n    const prevCoords = this.result.coords\n    const prevRect = this.result.rect\n\n    if (prevCoords && prevRect) {\n      const rectChanged =\n        newResult.rect.left !== prevRect.left ||\n        newResult.rect.right !== prevRect.right ||\n        newResult.rect.top !== prevRect.top ||\n        newResult.rect.bottom !== prevRect.bottom\n\n      newResult.changed =\n        rectChanged || prevCoords.x !== newResult.coords.x || prevCoords.y !== newResult.coords.y\n    }\n\n    return newResult\n  }\n\n  applyToInteraction (arg: { phase: EventPhase, rect?: Rect }) {\n    const { interaction } = this\n    const { phase } = arg\n    const curCoords = interaction.coords.cur\n    const startCoords = interaction.coords.start\n    const { result, startDelta } = this\n    const curDelta = result.delta\n\n    if (phase === 'start') {\n      extend(this.startDelta, result.delta)\n    }\n\n    for (const [coordsSet, delta] of [\n      [startCoords, startDelta],\n      [curCoords, curDelta],\n    ] as const) {\n      coordsSet.page.x += delta.x\n      coordsSet.page.y += delta.y\n      coordsSet.client.x += delta.x\n      coordsSet.client.y += delta.y\n    }\n\n    const { rectDelta } = this.result\n    const rect = arg.rect || interaction.rect\n\n    rect.left += rectDelta.left\n    rect.right += rectDelta.right\n    rect.top += rectDelta.top\n    rect.bottom += rectDelta.bottom\n\n    rect.width = rect.right - rect.left\n    rect.height = rect.bottom - rect.top\n  }\n\n  setAndApply (\n    arg: Partial<DoAnyPhaseArg> & {\n      phase: EventPhase\n      preEnd?: boolean\n      skipModifiers?: number\n      modifiedCoords?: Point\n    },\n  ): void | false {\n    const { interaction } = this\n    const { phase, preEnd, skipModifiers } = arg\n\n    const result = this.setAll(\n      this.fillArg({\n        preEnd,\n        phase,\n        pageCoords: arg.modifiedCoords || interaction.coords.cur.page,\n      }),\n    )\n\n    this.result = result\n\n    // don't fire an action move if a modifier would keep the event in the same\n    // cordinates as before\n    if (\n      !result.changed &&\n      (!skipModifiers || skipModifiers < this.states.length) &&\n      interaction.interacting()\n    ) {\n      return false\n    }\n\n    if (arg.modifiedCoords) {\n      const { page } = interaction.coords.cur\n      const adjustment = {\n        x: arg.modifiedCoords.x - page.x,\n        y: arg.modifiedCoords.y - page.y,\n      }\n\n      result.coords.x += adjustment.x\n      result.coords.y += adjustment.y\n      result.delta.x += adjustment.x\n      result.delta.y += adjustment.y\n    }\n\n    this.applyToInteraction(arg)\n  }\n\n  beforeEnd (arg: Omit<DoAnyPhaseArg, 'iEvent'> & { state?: ModifierState }): void | false {\n    const { interaction, event } = arg\n    const states = this.states\n\n    if (!states || !states.length) {\n      return\n    }\n\n    let doPreend = false\n\n    for (const state of states) {\n      arg.state = state\n      const { options, methods } = state\n\n      const endPosition = methods.beforeEnd && methods.beforeEnd((arg as unknown) as ModifierArg)\n\n      if (endPosition) {\n        this.endResult = endPosition\n        return false\n      }\n\n      doPreend = doPreend || (!doPreend && this.shouldDo(options, true, arg.phase, true))\n    }\n\n    if (doPreend) {\n      // trigger a final modified move before ending\n      interaction.move({ event, preEnd: true })\n    }\n  }\n\n  stop (arg: { interaction: Interaction }) {\n    const { interaction } = arg\n\n    if (!this.states || !this.states.length) {\n      return\n    }\n\n    const modifierArg: Partial<ModifierArg> = extend(\n      {\n        states: this.states,\n        interactable: interaction.interactable,\n        element: interaction.element,\n        rect: null,\n      },\n      arg,\n    )\n\n    this.fillArg(modifierArg)\n\n    for (const state of this.states) {\n      modifierArg.state = state\n\n      if (state.methods.stop) {\n        state.methods.stop(modifierArg as ModifierArg)\n      }\n    }\n\n    this.states = null\n    this.endResult = null\n  }\n\n  prepareStates (modifierList: Modifier[]) {\n    this.states = []\n\n    for (let index = 0; index < modifierList.length; index++) {\n      const { options, methods, name } = modifierList[index]\n\n      this.states.push({\n        options,\n        methods,\n        index,\n        name,\n      })\n    }\n\n    return this.states\n  }\n\n  restoreInteractionCoords ({ interaction: { coords, rect, modification } }: { interaction: Interaction }) {\n    if (!modification.result) return\n\n    const { startDelta } = modification\n    const { delta: curDelta, rectDelta } = modification.result\n\n    const coordsAndDeltas = [\n      [coords.start, startDelta],\n      [coords.cur, curDelta],\n    ]\n\n    for (const [coordsSet, delta] of coordsAndDeltas as any) {\n      coordsSet.page.x -= delta.x\n      coordsSet.page.y -= delta.y\n      coordsSet.client.x -= delta.x\n      coordsSet.client.y -= delta.y\n    }\n\n    rect.left -= rectDelta.left\n    rect.right -= rectDelta.right\n    rect.top -= rectDelta.top\n    rect.bottom -= rectDelta.bottom\n  }\n\n  shouldDo (options, preEnd?: boolean, phase?: string, requireEndOnly?: boolean) {\n    if (\n      // ignore disabled modifiers\n      !options ||\n      options.enabled === false ||\n      // check if we require endOnly option to fire move before end\n      (requireEndOnly && !options.endOnly) ||\n      // don't apply endOnly modifiers when not ending\n      (options.endOnly && !preEnd) ||\n      // check if modifier should run be applied on start\n      (phase === 'start' && !options.setStart)\n    ) {\n      return false\n    }\n\n    return true\n  }\n\n  copyFrom (other: Modification) {\n    this.startOffset = other.startOffset\n    this.startDelta = other.startDelta\n    this.edges = other.edges\n    this.states = other.states.map((s) => clone(s) as ModifierState)\n    this.result = createResult(extend({}, other.result.coords), extend({}, other.result.rect))\n  }\n\n  destroy () {\n    for (const prop in this) {\n      this[prop] = null\n    }\n  }\n}\n\nfunction createResult (coords?: Point, rect?: FullRect): ModificationResult {\n  return {\n    rect,\n    coords,\n    delta: { x: 0, y: 0 },\n    rectDelta: {\n      left: 0,\n      right: 0,\n      top: 0,\n      bottom: 0,\n    },\n    eventProps: [],\n    changed: true,\n  }\n}\n\nfunction getModifierList (interaction) {\n  const actionOptions = interaction.interactable.options[interaction.prepared.name]\n  const actionModifiers = actionOptions.modifiers\n\n  if (actionModifiers && actionModifiers.length) {\n    return actionModifiers\n  }\n\n  return ['snap', 'snapSize', 'snapEdges', 'restrict', 'restrictEdges', 'restrictSize']\n    .map((type) => {\n      const options = actionOptions[type]\n\n      return (\n        options &&\n        options.enabled && {\n          options,\n          methods: options._methods,\n        }\n      )\n    })\n    .filter((m) => !!m)\n}\n\nexport function getRectOffset (rect, coords) {\n  return rect\n    ? {\n      left: coords.x - rect.left,\n      top: coords.y - rect.top,\n      right: rect.right - coords.x,\n      bottom: rect.bottom - coords.y,\n    }\n    : {\n      left: 0,\n      top: 0,\n      right: 0,\n      bottom: 0,\n    }\n}\n","import type { EventPhase, InteractEvent } from '@interactjs/core/InteractEvent'\nimport type { Interactable } from '@interactjs/core/Interactable'\nimport type Interaction from '@interactjs/core/Interaction'\nimport type { Plugin } from '@interactjs/core/scope'\nimport type { EdgeOptions, FullRect, Point, Rect } from '@interactjs/types/index'\n\nimport Modification from './Modification'\n\ndeclare module '@interactjs/core/Interaction' {\n  interface Interaction {\n    modification?: Modification\n  }\n}\n\ndeclare module '@interactjs/core/InteractEvent' {\n  interface InteractEvent {\n    modifiers?: Array<{\n      name: string\n      [key: string]: any\n    }>\n  }\n}\n\ndeclare module '@interactjs/core/options' {\n  interface PerActionDefaults {\n    modifiers?: Modifier[]\n  }\n}\n\nexport interface Modifier<\n  Defaults = any,\n  State extends ModifierState = any,\n  Name extends string = any,\n  Result = any\n> {\n  options: Defaults\n  methods: {\n    start?: (arg: ModifierArg<State>) => void\n    set?: (arg: ModifierArg<State>) => Result\n    beforeEnd?: (arg: ModifierArg<State>) => Point | void\n    stop?: (arg: ModifierArg<State>) => void\n  }\n  name?: Name\n  enable: () => Modifier<Defaults, State, Name, Result>\n  disable: () => Modifier<Defaults, State, Name, Result>\n}\n\nexport type ModifierState<Defaults = unknown, StateProps = unknown, Name extends string = any> = {\n  options: Defaults\n  methods?: Modifier<Defaults>['methods']\n  index?: number\n  name?: Name\n} & StateProps\n\nexport interface ModifierArg<State extends ModifierState = ModifierState> {\n  interaction: Interaction\n  interactable: Interactable\n  phase: EventPhase\n  rect: FullRect\n  edges: EdgeOptions\n  state: State\n  element: Element\n  pageCoords: Point\n  prevCoords: Point\n  prevRect?: FullRect\n  coords: Point\n  startOffset: Rect\n  preEnd?: boolean\n}\n\nexport interface ModifierModule<\n  Defaults extends { enabled?: boolean },\n  State extends ModifierState,\n  Result = unknown\n> {\n  defaults?: Defaults\n  start?(arg: ModifierArg<State>): void\n  set?(arg: ModifierArg<State>): Result\n  beforeEnd?(arg: ModifierArg<State>): Point | void\n  stop?(arg: ModifierArg<State>): void\n}\n\nexport interface ModifierFunction<\n  Defaults extends { enabled?: boolean },\n  State extends ModifierState,\n  Name extends string\n> {\n  (_options?: Partial<Defaults>): Modifier<Defaults, State, Name>\n  _defaults: Defaults\n  _methods: ModifierModule<Defaults, State>\n}\n\nexport function makeModifier<\n  Defaults extends { enabled?: boolean },\n  State extends ModifierState,\n  Name extends string,\n  Result\n> (module: ModifierModule<Defaults, State, Result>, name?: Name) {\n  const { defaults } = module\n  const methods = {\n    start: module.start,\n    set: module.set,\n    beforeEnd: module.beforeEnd,\n    stop: module.stop,\n  }\n\n  const modifier = (_options?: Partial<Defaults>) => {\n    const options = (_options || {}) as Defaults\n\n    options.enabled = options.enabled !== false\n\n    // add missing defaults to options\n    for (const prop in defaults) {\n      if (!(prop in options)) {\n        ;(options as any)[prop] = defaults[prop]\n      }\n    }\n\n    const m: Modifier<Defaults, State, Name, Result> = {\n      options,\n      methods,\n      name,\n      enable: () => {\n        options.enabled = true\n        return m\n      },\n      disable: () => {\n        options.enabled = false\n        return m\n      },\n    }\n\n    return m\n  }\n\n  if (name && typeof name === 'string') {\n    // for backwrads compatibility\n    modifier._defaults = defaults\n    modifier._methods = methods\n  }\n\n  return modifier\n}\n\nexport function addEventModifiers ({\n  iEvent,\n  interaction,\n}: {\n  iEvent: InteractEvent<any>\n  interaction: Interaction<any>\n}) {\n  const result = interaction.modification!.result\n\n  if (result) {\n    iEvent.modifiers = result.eventProps\n  }\n}\n\nconst modifiersBase: Plugin = {\n  id: 'modifiers/base',\n  before: ['actions'],\n  install: (scope) => {\n    scope.defaults.perAction.modifiers = []\n  },\n  listeners: {\n    'interactions:new': ({ interaction }) => {\n      interaction.modification = new Modification(interaction)\n    },\n\n    'interactions:before-action-start': (arg) => {\n      const modification = arg.interaction.modification!\n\n      modification.start(arg, arg.interaction.coords.start.page)\n      arg.interaction.edges = modification.edges\n      modification.applyToInteraction(arg)\n    },\n\n    'interactions:before-action-move': (arg) => arg.interaction.modification.setAndApply(arg),\n\n    'interactions:before-action-end': (arg) => arg.interaction.modification.beforeEnd(arg),\n\n    'interactions:action-start': addEventModifiers,\n    'interactions:action-move': addEventModifiers,\n    'interactions:action-end': addEventModifiers,\n\n    'interactions:after-action-start': (arg) => arg.interaction.modification.restoreInteractionCoords(arg),\n    'interactions:after-action-move': (arg) => arg.interaction.modification.restoreInteractionCoords(arg),\n\n    'interactions:stop': (arg) => arg.interaction.modification.stop(arg),\n  },\n}\n\nexport default modifiersBase\n","import type { Point, Listeners, OrBoolean, Element } from '@interactjs/types/index'\n\nexport interface Defaults {\n  base: BaseDefaults\n  perAction: PerActionDefaults\n  actions: ActionDefaults\n}\n\n// eslint-disable-next-line @typescript-eslint/no-empty-interface\nexport interface ActionDefaults {}\n\nexport interface BaseDefaults {\n  preventDefault?: 'auto' | 'never' | string\n  deltaSource?: 'page' | 'client'\n  context?: Node\n}\n\nexport interface PerActionDefaults {\n  enabled?: boolean\n  origin?: Point | string | Element\n  listeners?: Listeners\n  allowFrom?: string | Element\n  ignoreFrom?: string | Element\n}\n\nexport type Options = Partial<BaseDefaults> &\nPartial<PerActionDefaults> &\n{\n  [P in keyof ActionDefaults]?: Partial<ActionDefaults[P]>\n}\n\n// export interface Options extends BaseDefaults, PerActionDefaults {}\n\nexport interface OptionsArg extends BaseDefaults, OrBoolean<Partial<ActionDefaults>> {}\n\nexport const defaults: Defaults = {\n  base: {\n    preventDefault: 'auto',\n    deltaSource: 'page',\n  },\n\n  perAction: {\n    enabled: false,\n    origin: { x: 0, y: 0 },\n  },\n\n  actions: {} as ActionDefaults,\n}\n","import type { ActionName } from '@interactjs/core/scope'\nimport type { Point, FullRect, PointerEventType, Element } from '@interactjs/types/index'\nimport extend from '@interactjs/utils/extend'\nimport getOriginXY from '@interactjs/utils/getOriginXY'\nimport hypot from '@interactjs/utils/hypot'\n\nimport { BaseEvent } from './BaseEvent'\nimport type { Interaction } from './Interaction'\nimport { defaults } from './options'\n\nexport type EventPhase = keyof PhaseMap\n\nexport interface PhaseMap {\n  start: true\n  move: true\n  end: true\n}\n\n// defined outside of class definition to avoid assignment of undefined during\n// construction\nexport interface InteractEvent {\n  pageX: number\n  pageY: number\n\n  clientX: number\n  clientY: number\n\n  dx: number\n  dy: number\n\n  velocityX: number\n  velocityY: number\n}\n\nexport class InteractEvent<\n  T extends ActionName = never,\n  P extends EventPhase = EventPhase\n> extends BaseEvent<T> {\n  target: Element\n  currentTarget: Element\n  relatedTarget: Element | null = null\n  screenX?: number\n  screenY?: number\n  button: number\n  buttons: number\n  ctrlKey: boolean\n  shiftKey: boolean\n  altKey: boolean\n  metaKey: boolean\n  page: Point\n  client: Point\n  delta: Point\n  rect: FullRect\n  x0: number\n  y0: number\n  t0: number\n  dt: number\n  duration: number\n  clientX0: number\n  clientY0: number\n  velocity: Point\n  speed: number\n  swipe: ReturnType<InteractEvent<T>['getSwipe']>\n  timeStamp: any\n  // resize\n  axes?: 'x' | 'y' | 'xy'\n  preEnd?: boolean\n\n  /** */\n  constructor (\n    interaction: Interaction<T>,\n    event: PointerEventType,\n    actionName: T,\n    phase: P,\n    element: Element,\n    preEnd?: boolean,\n    type?: string,\n  ) {\n    super(interaction)\n\n    element = element || interaction.element\n\n    const target = interaction.interactable\n    const deltaSource = (((target && target.options) || defaults) as any).deltaSource as 'page' | 'client'\n    const origin = getOriginXY(target, element, actionName)\n    const starting = phase === 'start'\n    const ending = phase === 'end'\n    const prevEvent = starting ? this : interaction.prevEvent\n    const coords = starting\n      ? interaction.coords.start\n      : ending\n        ? { page: prevEvent.page, client: prevEvent.client, timeStamp: interaction.coords.cur.timeStamp }\n        : interaction.coords.cur\n\n    this.page = extend({}, coords.page)\n    this.client = extend({}, coords.client)\n    this.rect = extend({}, interaction.rect)\n    this.timeStamp = coords.timeStamp\n\n    if (!ending) {\n      this.page.x -= origin.x\n      this.page.y -= origin.y\n\n      this.client.x -= origin.x\n      this.client.y -= origin.y\n    }\n\n    this.ctrlKey = event.ctrlKey\n    this.altKey = event.altKey\n    this.shiftKey = event.shiftKey\n    this.metaKey = event.metaKey\n    this.button = (event as MouseEvent).button\n    this.buttons = (event as MouseEvent).buttons\n    this.target = element\n    this.currentTarget = element\n    this.preEnd = preEnd\n    this.type = type || actionName + (phase || '')\n    this.interactable = target\n\n    this.t0 = starting ? interaction.pointers[interaction.pointers.length - 1].downTime : prevEvent.t0\n\n    this.x0 = interaction.coords.start.page.x - origin.x\n    this.y0 = interaction.coords.start.page.y - origin.y\n    this.clientX0 = interaction.coords.start.client.x - origin.x\n    this.clientY0 = interaction.coords.start.client.y - origin.y\n\n    if (starting || ending) {\n      this.delta = { x: 0, y: 0 }\n    } else {\n      this.delta = {\n        x: this[deltaSource].x - prevEvent[deltaSource].x,\n        y: this[deltaSource].y - prevEvent[deltaSource].y,\n      }\n    }\n\n    this.dt = interaction.coords.delta.timeStamp\n    this.duration = this.timeStamp - this.t0\n\n    // velocity and speed in pixels per second\n    this.velocity = extend({}, interaction.coords.velocity[deltaSource])\n    this.speed = hypot(this.velocity.x, this.velocity.y)\n\n    this.swipe = ending || phase === 'inertiastart' ? this.getSwipe() : null\n  }\n\n  getSwipe () {\n    const interaction = this._interaction\n\n    if (interaction.prevEvent.speed < 600 || this.timeStamp - interaction.prevEvent.timeStamp > 150) {\n      return null\n    }\n\n    let angle = (180 * Math.atan2(interaction.prevEvent.velocityY, interaction.prevEvent.velocityX)) / Math.PI\n    const overlap = 22.5\n\n    if (angle < 0) {\n      angle += 360\n    }\n\n    const left = 135 - overlap <= angle && angle < 225 + overlap\n    const up = 225 - overlap <= angle && angle < 315 + overlap\n\n    const right = !left && (315 - overlap <= angle || angle < 45 + overlap)\n    const down = !up && 45 - overlap <= angle && angle < 135 + overlap\n\n    return {\n      up,\n      down,\n      left,\n      right,\n      angle,\n      speed: interaction.prevEvent.speed,\n      velocity: {\n        x: interaction.prevEvent.velocityX,\n        y: interaction.prevEvent.velocityY,\n      },\n    }\n  }\n\n  preventDefault () {}\n\n  /**\n   * Don't call listeners on the remaining targets\n   */\n  stopImmediatePropagation () {\n    this.immediatePropagationStopped = this.propagationStopped = true\n  }\n\n  /**\n   * Don't call any other listeners (even on the current target)\n   */\n  stopPropagation () {\n    this.propagationStopped = true\n  }\n}\n\n// getters and setters defined here to support typescript 3.6 and below which\n// don't support getter and setters in .d.ts files\nObject.defineProperties(InteractEvent.prototype, {\n  pageX: {\n    get () {\n      return this.page.x\n    },\n    set (value) {\n      this.page.x = value\n    },\n  },\n  pageY: {\n    get () {\n      return this.page.y\n    },\n    set (value) {\n      this.page.y = value\n    },\n  },\n\n  clientX: {\n    get () {\n      return this.client.x\n    },\n    set (value) {\n      this.client.x = value\n    },\n  },\n  clientY: {\n    get () {\n      return this.client.y\n    },\n    set (value) {\n      this.client.y = value\n    },\n  },\n\n  dx: {\n    get () {\n      return this.delta.x\n    },\n    set (value) {\n      this.delta.x = value\n    },\n  },\n  dy: {\n    get () {\n      return this.delta.y\n    },\n    set (value) {\n      this.delta.y = value\n    },\n  },\n\n  velocityX: {\n    get () {\n      return this.velocity.x\n    },\n    set (value) {\n      this.velocity.x = value\n    },\n  },\n  velocityY: {\n    get () {\n      return this.velocity.y\n    },\n    set (value) {\n      this.velocity.y = value\n    },\n  },\n})\n","import type { PointerEventType, PointerType } from '@interactjs/types/index'\n\nexport class PointerInfo {\n  id: number\n  pointer: PointerType\n  event: PointerEventType\n  downTime: number\n  downTarget: Node\n\n  constructor (id: number, pointer: PointerType, event: PointerEventType, downTime: number, downTarget: Node) {\n    this.id = id\n    this.pointer = pointer\n    this.event = event\n    this.downTime = downTime\n    this.downTarget = downTarget\n  }\n}\n","import type { ActionDefaults } from '@interactjs/core/options'\nimport type {\n  Element,\n  EdgeOptions,\n  PointerEventType,\n  PointerType,\n  FullRect,\n  CoordsSet,\n} from '@interactjs/types/index'\nimport * as arr from '@interactjs/utils/arr'\nimport extend from '@interactjs/utils/extend'\nimport hypot from '@interactjs/utils/hypot'\nimport { warnOnce, copyAction } from '@interactjs/utils/misc'\nimport * as pointerUtils from '@interactjs/utils/pointerUtils'\nimport * as rectUtils from '@interactjs/utils/rect'\n\nimport type { EventPhase } from './InteractEvent'\nimport { InteractEvent } from './InteractEvent'\nimport type { Interactable } from './Interactable'\nimport { PointerInfo } from './PointerInfo'\nimport type { ActionName, Scope } from './scope'\n\nexport interface ActionProps<T extends ActionName | null = never> {\n  name: T\n  axis?: 'x' | 'y' | 'xy' | null\n  edges?: EdgeOptions | null\n}\n\nexport enum _ProxyValues {\n  interactable = '',\n  element = '',\n  prepared = '',\n  pointerIsDown = '',\n  pointerWasMoved = '',\n  _proxy = '',\n}\n\nexport enum _ProxyMethods {\n  start = '',\n  move = '',\n  end = '',\n  stop = '',\n  interacting = '',\n}\n\nexport type PointerArgProps<T extends {} = {}> = {\n  pointer: PointerType\n  event: PointerEventType\n  eventTarget: Node\n  pointerIndex: number\n  pointerInfo: PointerInfo\n  interaction: Interaction<never>\n} & T\n\nexport interface DoPhaseArg<T extends ActionName, P extends EventPhase> {\n  event: PointerEventType\n  phase: EventPhase\n  interaction: Interaction<T>\n  iEvent: InteractEvent<T, P>\n  preEnd?: boolean\n  type?: string\n}\n\nexport type DoAnyPhaseArg = DoPhaseArg<ActionName, EventPhase>\n\ndeclare module '@interactjs/core/scope' {\n  interface SignalArgs {\n    'interactions:new': { interaction: Interaction<ActionName> }\n    'interactions:down': PointerArgProps<{\n      type: 'down'\n    }>\n    'interactions:move': PointerArgProps<{\n      type: 'move'\n      dx: number\n      dy: number\n      duplicate: boolean\n    }>\n    'interactions:up': PointerArgProps<{\n      type: 'up'\n      curEventTarget: EventTarget\n    }>\n    'interactions:cancel': SignalArgs['interactions:up'] & {\n      type: 'cancel'\n      curEventTarget: EventTarget\n    }\n    'interactions:update-pointer': PointerArgProps<{\n      down: boolean\n    }>\n    'interactions:remove-pointer': PointerArgProps\n    'interactions:blur': { interaction: Interaction<never>, event: Event, type: 'blur' }\n    'interactions:before-action-start': Omit<DoAnyPhaseArg, 'iEvent'>\n    'interactions:action-start': DoAnyPhaseArg\n    'interactions:after-action-start': DoAnyPhaseArg\n    'interactions:before-action-move': Omit<DoAnyPhaseArg, 'iEvent'>\n    'interactions:action-move': DoAnyPhaseArg\n    'interactions:after-action-move': DoAnyPhaseArg\n    'interactions:before-action-end': Omit<DoAnyPhaseArg, 'iEvent'>\n    'interactions:action-end': DoAnyPhaseArg\n    'interactions:after-action-end': DoAnyPhaseArg\n    'interactions:stop': { interaction: Interaction }\n  }\n}\n\nexport type InteractionProxy<T extends ActionName | null = never> = Pick<\nInteraction<T>,\nkeyof typeof _ProxyValues | keyof typeof _ProxyMethods\n>\n\nlet idCounter = 0\n\nexport class Interaction<T extends ActionName | null = ActionName> {\n  // current interactable being interacted with\n  interactable: Interactable = null\n\n  // the target element of the interactable\n  element: Element = null\n  rect: FullRect\n  _rects?: {\n    start: FullRect\n    corrected: FullRect\n    previous: FullRect\n    delta: FullRect\n  }\n  edges: EdgeOptions\n\n  _scopeFire: Scope['fire']\n\n  // action that's ready to be fired on next move event\n  prepared: ActionProps<T> = {\n    name: null,\n    axis: null,\n    edges: null,\n  }\n\n  pointerType: string\n\n  // keep track of added pointers\n  pointers: PointerInfo[] = []\n\n  // pointerdown/mousedown/touchstart event\n  downEvent: PointerEventType = null\n\n  downPointer: PointerType = {} as PointerType\n\n  _latestPointer: {\n    pointer: PointerType\n    event: PointerEventType\n    eventTarget: Node\n  } = {\n    pointer: null,\n    event: null,\n    eventTarget: null,\n  }\n\n  // previous action event\n  prevEvent: InteractEvent<T, EventPhase> = null\n\n  pointerIsDown = false\n  pointerWasMoved = false\n  _interacting = false\n  _ending = false\n  _stopped = true\n  _proxy: InteractionProxy<T> = null\n\n  simulation = null\n\n  /** @internal */ get pointerMoveTolerance () {\n    return 1\n  }\n\n  /**\n   * @alias Interaction.prototype.move\n   */\n  doMove = warnOnce(function (this: Interaction, signalArg: any) {\n    this.move(signalArg)\n  }, 'The interaction.doMove() method has been renamed to interaction.move()')\n\n  coords: CoordsSet = {\n    // Starting InteractEvent pointer coordinates\n    start: pointerUtils.newCoords(),\n    // Previous native pointer move event coordinates\n    prev: pointerUtils.newCoords(),\n    // current native pointer move event coordinates\n    cur: pointerUtils.newCoords(),\n    // Change in coordinates and time of the pointer\n    delta: pointerUtils.newCoords(),\n    // pointer velocity\n    velocity: pointerUtils.newCoords(),\n  }\n\n  readonly _id: number = idCounter++\n\n  /** */\n  constructor ({ pointerType, scopeFire }: { pointerType?: string, scopeFire: Scope['fire'] }) {\n    this._scopeFire = scopeFire\n    this.pointerType = pointerType\n\n    const that = this\n\n    this._proxy = {} as InteractionProxy<T>\n\n    for (const key in _ProxyValues) {\n      Object.defineProperty(this._proxy, key, {\n        get () {\n          return that[key]\n        },\n      })\n    }\n\n    for (const key in _ProxyMethods) {\n      Object.defineProperty(this._proxy, key, {\n        value: (...args: any[]) => that[key](...args),\n      })\n    }\n\n    this._scopeFire('interactions:new', { interaction: this })\n  }\n\n  pointerDown (pointer: PointerType, event: PointerEventType, eventTarget: Node) {\n    const pointerIndex = this.updatePointer(pointer, event, eventTarget, true)\n    const pointerInfo = this.pointers[pointerIndex]\n\n    this._scopeFire('interactions:down', {\n      pointer,\n      event,\n      eventTarget,\n      pointerIndex,\n      pointerInfo,\n      type: 'down',\n      interaction: (this as unknown) as Interaction<never>,\n    })\n  }\n\n  /**\n   * ```js\n   * interact(target)\n   *   .draggable({\n   *     // disable the default drag start by down->move\n   *     manualStart: true\n   *   })\n   *   // start dragging after the user holds the pointer down\n   *   .on('hold', function (event) {\n   *     var interaction = event.interaction\n   *\n   *     if (!interaction.interacting()) {\n   *       interaction.start({ name: 'drag' },\n   *                         event.interactable,\n   *                         event.currentTarget)\n   *     }\n   * })\n   * ```\n   *\n   * Start an action with the given Interactable and Element as tartgets. The\n   * action must be enabled for the target Interactable and an appropriate\n   * number of pointers must be held down - 1 for drag/resize, 2 for gesture.\n   *\n   * Use it with `interactable.<action>able({ manualStart: false })` to always\n   * [start actions manually](https://github.com/taye/interact.js/issues/114)\n   *\n   * @param {object} action   The action to be performed - drag, resize, etc.\n   * @param {Interactable} target  The Interactable to target\n   * @param {Element} element The DOM Element to target\n   * @return {Boolean} Whether the interaction was successfully started\n   */\n  start<A extends ActionName> (action: ActionProps<A>, interactable: Interactable, element: Element): boolean {\n    if (\n      this.interacting() ||\n      !this.pointerIsDown ||\n      this.pointers.length < (action.name === 'gesture' ? 2 : 1) ||\n      !interactable.options[action.name as keyof ActionDefaults].enabled\n    ) {\n      return false\n    }\n\n    copyAction(this.prepared, action)\n\n    this.interactable = interactable\n    this.element = element\n    this.rect = interactable.getRect(element)\n    this.edges = this.prepared.edges\n      ? extend({}, this.prepared.edges)\n      : { left: true, right: true, top: true, bottom: true }\n    this._stopped = false\n    this._interacting =\n      this._doPhase({\n        interaction: this,\n        event: this.downEvent,\n        phase: 'start',\n      }) && !this._stopped\n\n    return this._interacting\n  }\n\n  pointerMove (pointer: PointerType, event: PointerEventType, eventTarget: Node) {\n    if (!this.simulation && !(this.modification && this.modification.endResult)) {\n      this.updatePointer(pointer, event, eventTarget, false)\n    }\n\n    const duplicateMove =\n      this.coords.cur.page.x === this.coords.prev.page.x &&\n      this.coords.cur.page.y === this.coords.prev.page.y &&\n      this.coords.cur.client.x === this.coords.prev.client.x &&\n      this.coords.cur.client.y === this.coords.prev.client.y\n\n    let dx: number\n    let dy: number\n\n    // register movement greater than pointerMoveTolerance\n    if (this.pointerIsDown && !this.pointerWasMoved) {\n      dx = this.coords.cur.client.x - this.coords.start.client.x\n      dy = this.coords.cur.client.y - this.coords.start.client.y\n\n      this.pointerWasMoved = hypot(dx, dy) > this.pointerMoveTolerance\n    }\n\n    const pointerIndex = this.getPointerIndex(pointer)\n    const signalArg = {\n      pointer,\n      pointerIndex,\n      pointerInfo: this.pointers[pointerIndex],\n      event,\n      type: 'move' as const,\n      eventTarget,\n      dx,\n      dy,\n      duplicate: duplicateMove,\n      interaction: (this as unknown) as Interaction<never>,\n    }\n\n    if (!duplicateMove) {\n      // set pointer coordinate, time changes and velocity\n      pointerUtils.setCoordVelocity(this.coords.velocity, this.coords.delta)\n    }\n\n    this._scopeFire('interactions:move', signalArg)\n\n    if (!duplicateMove && !this.simulation) {\n      // if interacting, fire an 'action-move' signal etc\n      if (this.interacting()) {\n        signalArg.type = null\n        this.move(signalArg)\n      }\n\n      if (this.pointerWasMoved) {\n        pointerUtils.copyCoords(this.coords.prev, this.coords.cur)\n      }\n    }\n  }\n\n  /**\n   * ```js\n   * interact(target)\n   *   .draggable(true)\n   *   .on('dragmove', function (event) {\n   *     if (someCondition) {\n   *       // change the snap settings\n   *       event.interactable.draggable({ snap: { targets: [] }})\n   *       // fire another move event with re-calculated snap\n   *       event.interaction.move()\n   *     }\n   *   })\n   * ```\n   *\n   * Force a move of the current action at the same coordinates. Useful if\n   * snap/restrict has been changed and you want a movement with the new\n   * settings.\n   */\n  move (signalArg?: any) {\n    if (!signalArg || !signalArg.event) {\n      pointerUtils.setZeroCoords(this.coords.delta)\n    }\n\n    signalArg = extend(\n      {\n        pointer: this._latestPointer.pointer,\n        event: this._latestPointer.event,\n        eventTarget: this._latestPointer.eventTarget,\n        interaction: this,\n      },\n      signalArg || {},\n    )\n\n    signalArg.phase = 'move'\n\n    this._doPhase(signalArg)\n  }\n\n  // End interact move events and stop auto-scroll unless simulation is running\n  pointerUp (pointer: PointerType, event: PointerEventType, eventTarget: Node, curEventTarget: EventTarget) {\n    let pointerIndex = this.getPointerIndex(pointer)\n\n    if (pointerIndex === -1) {\n      pointerIndex = this.updatePointer(pointer, event, eventTarget, false)\n    }\n\n    const type = /cancel$/i.test(event.type) ? 'cancel' : 'up'\n\n    this._scopeFire(`interactions:${type}` as 'interactions:up' | 'interactions:cancel', {\n      pointer,\n      pointerIndex,\n      pointerInfo: this.pointers[pointerIndex],\n      event,\n      eventTarget,\n      type: type as any,\n      curEventTarget,\n      interaction: (this as unknown) as Interaction<never>,\n    })\n\n    if (!this.simulation) {\n      this.end(event)\n    }\n\n    this.removePointer(pointer, event)\n  }\n\n  documentBlur (event: Event) {\n    this.end(event as any)\n    this._scopeFire('interactions:blur', {\n      event,\n      type: 'blur',\n      interaction: (this as unknown) as Interaction<never>,\n    })\n  }\n\n  /**\n   * ```js\n   * interact(target)\n   *   .draggable(true)\n   *   .on('move', function (event) {\n   *     if (event.pageX > 1000) {\n   *       // end the current action\n   *       event.interaction.end()\n   *       // stop all further listeners from being called\n   *       event.stopImmediatePropagation()\n   *     }\n   *   })\n   * ```\n   *\n   * @param {PointerEvent} [event]\n   */\n  end (event?: PointerEventType) {\n    this._ending = true\n    event = event || this._latestPointer.event\n    let endPhaseResult: boolean\n\n    if (this.interacting()) {\n      endPhaseResult = this._doPhase({\n        event,\n        interaction: this,\n        phase: 'end',\n      })\n    }\n\n    this._ending = false\n\n    if (endPhaseResult === true) {\n      this.stop()\n    }\n  }\n\n  currentAction () {\n    return this._interacting ? this.prepared.name : null\n  }\n\n  interacting () {\n    return this._interacting\n  }\n\n  /** */\n  stop () {\n    this._scopeFire('interactions:stop', { interaction: this })\n\n    this.interactable = this.element = null\n\n    this._interacting = false\n    this._stopped = true\n    this.prepared.name = this.prevEvent = null\n  }\n\n  getPointerIndex (pointer: PointerType) {\n    const pointerId = pointerUtils.getPointerId(pointer)\n\n    // mouse and pen interactions may have only one pointer\n    return this.pointerType === 'mouse' || this.pointerType === 'pen'\n      ? this.pointers.length - 1\n      : arr.findIndex(this.pointers, (curPointer) => curPointer.id === pointerId)\n  }\n\n  getPointerInfo (pointer: any) {\n    return this.pointers[this.getPointerIndex(pointer)]\n  }\n\n  updatePointer (pointer: PointerType, event: PointerEventType, eventTarget: Node, down?: boolean) {\n    const id = pointerUtils.getPointerId(pointer)\n    let pointerIndex = this.getPointerIndex(pointer)\n    let pointerInfo = this.pointers[pointerIndex]\n\n    down = down === false ? false : down || /(down|start)$/i.test(event.type)\n\n    if (!pointerInfo) {\n      pointerInfo = new PointerInfo(id, pointer, event, null, null)\n\n      pointerIndex = this.pointers.length\n      this.pointers.push(pointerInfo)\n    } else {\n      pointerInfo.pointer = pointer\n    }\n\n    pointerUtils.setCoords(\n      this.coords.cur,\n      this.pointers.map((p) => p.pointer),\n      this._now(),\n    )\n    pointerUtils.setCoordDeltas(this.coords.delta, this.coords.prev, this.coords.cur)\n\n    if (down) {\n      this.pointerIsDown = true\n\n      pointerInfo.downTime = this.coords.cur.timeStamp\n      pointerInfo.downTarget = eventTarget\n      pointerUtils.pointerExtend(this.downPointer, pointer)\n\n      if (!this.interacting()) {\n        pointerUtils.copyCoords(this.coords.start, this.coords.cur)\n        pointerUtils.copyCoords(this.coords.prev, this.coords.cur)\n\n        this.downEvent = event\n        this.pointerWasMoved = false\n      }\n    }\n\n    this._updateLatestPointer(pointer, event, eventTarget)\n\n    this._scopeFire('interactions:update-pointer', {\n      pointer,\n      event,\n      eventTarget,\n      down,\n      pointerInfo,\n      pointerIndex,\n      interaction: (this as unknown) as Interaction<never>,\n    })\n\n    return pointerIndex\n  }\n\n  removePointer (pointer: PointerType, event: PointerEventType) {\n    const pointerIndex = this.getPointerIndex(pointer)\n\n    if (pointerIndex === -1) return\n\n    const pointerInfo = this.pointers[pointerIndex]\n\n    this._scopeFire('interactions:remove-pointer', {\n      pointer,\n      event,\n      eventTarget: null,\n      pointerIndex,\n      pointerInfo,\n      interaction: (this as unknown) as Interaction<never>,\n    })\n\n    this.pointers.splice(pointerIndex, 1)\n    this.pointerIsDown = false\n  }\n\n  _updateLatestPointer (pointer: PointerType, event: PointerEventType, eventTarget: Node) {\n    this._latestPointer.pointer = pointer\n    this._latestPointer.event = event\n    this._latestPointer.eventTarget = eventTarget\n  }\n\n  destroy () {\n    this._latestPointer.pointer = null\n    this._latestPointer.event = null\n    this._latestPointer.eventTarget = null\n  }\n\n  _createPreparedEvent<P extends EventPhase> (\n    event: PointerEventType,\n    phase: P,\n    preEnd?: boolean,\n    type?: string,\n  ) {\n    return new InteractEvent<T, P>(this, event, this.prepared.name, phase, this.element, preEnd, type)\n  }\n\n  _fireEvent<P extends EventPhase> (iEvent: InteractEvent<T, P>) {\n    this.interactable.fire(iEvent)\n\n    if (!this.prevEvent || iEvent.timeStamp >= this.prevEvent.timeStamp) {\n      this.prevEvent = iEvent\n    }\n  }\n\n  _doPhase<P extends EventPhase> (\n    signalArg: Omit<DoPhaseArg<T, P>, 'iEvent'> & { iEvent?: InteractEvent<T, P> },\n  ) {\n    const { event, phase, preEnd, type } = signalArg\n    const { rect } = this\n\n    if (rect && phase === 'move') {\n      // update the rect changes due to pointer move\n      rectUtils.addEdges(this.edges, rect, this.coords.delta[this.interactable.options.deltaSource])\n\n      rect.width = rect.right - rect.left\n      rect.height = rect.bottom - rect.top\n    }\n\n    const beforeResult = this._scopeFire(`interactions:before-action-${phase}` as any, signalArg)\n\n    if (beforeResult === false) {\n      return false\n    }\n\n    const iEvent = (signalArg.iEvent = this._createPreparedEvent(event, phase, preEnd, type))\n\n    this._scopeFire(`interactions:action-${phase}` as any, signalArg)\n\n    if (phase === 'start') {\n      this.prevEvent = iEvent\n    }\n\n    this._fireEvent(iEvent)\n\n    this._scopeFire(`interactions:after-action-${phase}` as any, signalArg)\n\n    return true\n  }\n\n  _now () {\n    return Date.now()\n  }\n}\n\nexport default Interaction\nexport { PointerInfo }\n","import type Interaction from '@interactjs/core/Interaction'\nimport { _ProxyMethods } from '@interactjs/core/Interaction'\nimport type { Plugin } from '@interactjs/core/scope'\nimport type { Point } from '@interactjs/types/index'\nimport * as rectUtils from '@interactjs/utils/rect'\n\ndeclare module '@interactjs/core/Interaction' {\n  interface Interaction {\n    offsetBy?: typeof offsetBy\n    offset: {\n      total: Point\n      pending: Point\n    }\n  }\n\n  enum _ProxyMethods {\n    offsetBy = '',\n  }\n}\n\n;(_ProxyMethods as any).offsetBy = ''\n\nexport function addTotal (interaction: Interaction) {\n  if (!interaction.pointerIsDown) {\n    return\n  }\n\n  addToCoords(interaction.coords.cur, interaction.offset.total)\n\n  interaction.offset.pending.x = 0\n  interaction.offset.pending.y = 0\n}\n\nfunction beforeAction ({ interaction }: { interaction: Interaction }) {\n  applyPending(interaction)\n}\n\nfunction beforeEnd ({ interaction }: { interaction: Interaction }): boolean | void {\n  const hadPending = applyPending(interaction)\n\n  if (!hadPending) return\n\n  interaction.move({ offset: true })\n  interaction.end()\n\n  return false\n}\n\nfunction end ({ interaction }: { interaction: Interaction }) {\n  interaction.offset.total.x = 0\n  interaction.offset.total.y = 0\n  interaction.offset.pending.x = 0\n  interaction.offset.pending.y = 0\n}\n\nexport function applyPending (interaction: Interaction) {\n  if (!hasPending(interaction)) {\n    return false\n  }\n\n  const { pending } = interaction.offset\n\n  addToCoords(interaction.coords.cur, pending)\n  addToCoords(interaction.coords.delta, pending)\n  rectUtils.addEdges(interaction.edges, interaction.rect, pending)\n\n  pending.x = 0\n  pending.y = 0\n\n  return true\n}\n\nfunction offsetBy (this: Interaction, { x, y }: Point) {\n  this.offset.pending.x += x\n  this.offset.pending.y += y\n\n  this.offset.total.x += x\n  this.offset.total.y += y\n}\n\nfunction addToCoords ({ page, client }, { x, y }: Point) {\n  page.x += x\n  page.y += y\n  client.x += x\n  client.y += y\n}\n\nfunction hasPending (interaction: Interaction) {\n  return !!(interaction.offset.pending.x || interaction.offset.pending.y)\n}\n\nconst offset: Plugin = {\n  id: 'offset',\n  before: ['modifiers', 'pointer-events', 'actions', 'inertia'],\n  install (scope) {\n    scope.Interaction.prototype.offsetBy = offsetBy\n  },\n  listeners: {\n    'interactions:new': ({ interaction }) => {\n      interaction.offset = {\n        total: { x: 0, y: 0 },\n        pending: { x: 0, y: 0 },\n      }\n    },\n    'interactions:update-pointer': ({ interaction }) => addTotal(interaction),\n    'interactions:before-action-start': beforeAction,\n    'interactions:before-action-move': beforeAction,\n    'interactions:before-action-end': beforeEnd,\n    'interactions:stop': end,\n  },\n}\n\nexport default offset\n","import type { Interaction, DoPhaseArg } from '@interactjs/core/Interaction'\nimport type { ActionName, Scope, SignalArgs, Plugin } from '@interactjs/core/scope'\nimport Modification from '@interactjs/modifiers/Modification'\nimport * as modifiers from '@interactjs/modifiers/base'\nimport offset from '@interactjs/offset/plugin'\nimport type { Point, PointerEventType } from '@interactjs/types/index'\nimport * as dom from '@interactjs/utils/domUtils'\nimport hypot from '@interactjs/utils/hypot'\nimport is from '@interactjs/utils/is'\nimport { copyCoords } from '@interactjs/utils/pointerUtils'\nimport raf from '@interactjs/utils/raf'\n\ndeclare module '@interactjs/core/InteractEvent' {\n  interface PhaseMap {\n    resume?: true\n    inertiastart?: true\n  }\n}\n\ndeclare module '@interactjs/core/Interaction' {\n  interface Interaction {\n    inertia?: InertiaState\n  }\n}\n\ndeclare module '@interactjs/core/options' {\n  interface PerActionDefaults {\n    inertia?: {\n      enabled?: boolean\n      resistance?: number // the lambda in exponential decay\n      minSpeed?: number // target speed must be above this for inertia to start\n      endSpeed?: number // the speed at which inertia is slow enough to stop\n      allowResume?: true // allow resuming an action in inertia phase\n      smoothEndDuration?: number // animate to snap/restrict endOnly if there's no inertia\n    }\n  }\n}\n\ndeclare module '@interactjs/core/scope' {\n  interface SignalArgs {\n    'interactions:before-action-inertiastart': Omit<DoPhaseArg<ActionName, 'inertiastart'>, 'iEvent'>\n    'interactions:action-inertiastart': DoPhaseArg<ActionName, 'inertiastart'>\n    'interactions:after-action-inertiastart': DoPhaseArg<ActionName, 'inertiastart'>\n    'interactions:before-action-resume': Omit<DoPhaseArg<ActionName, 'resume'>, 'iEvent'>\n    'interactions:action-resume': DoPhaseArg<ActionName, 'resume'>\n    'interactions:after-action-resume': DoPhaseArg<ActionName, 'resume'>\n  }\n}\n\nfunction install (scope: Scope) {\n  const { defaults } = scope\n\n  scope.usePlugin(offset)\n  scope.usePlugin(modifiers.default)\n  scope.actions.phases.inertiastart = true\n  scope.actions.phases.resume = true\n\n  defaults.perAction.inertia = {\n    enabled: false,\n    resistance: 10, // the lambda in exponential decay\n    minSpeed: 100, // target speed must be above this for inertia to start\n    endSpeed: 10, // the speed at which inertia is slow enough to stop\n    allowResume: true, // allow resuming an action in inertia phase\n    smoothEndDuration: 300, // animate to snap/restrict endOnly if there's no inertia\n  }\n}\n\nexport class InertiaState {\n  active = false\n  isModified = false\n  smoothEnd = false\n  allowResume = false\n\n  modification!: Modification\n  modifierCount = 0\n  modifierArg!: modifiers.ModifierArg\n\n  startCoords!: Point\n  t0 = 0\n  v0 = 0\n\n  te = 0\n  targetOffset!: Point\n  modifiedOffset!: Point\n  currentOffset!: Point\n\n  lambda_v0? = 0 // eslint-disable-line camelcase\n  one_ve_v0? = 0 // eslint-disable-line camelcase\n  timeout!: number\n  readonly interaction: Interaction\n\n  constructor (interaction: Interaction) {\n    this.interaction = interaction\n  }\n\n  start (event: PointerEventType) {\n    const { interaction } = this\n    const options = getOptions(interaction)\n\n    if (!options || !options.enabled) {\n      return false\n    }\n\n    const { client: velocityClient } = interaction.coords.velocity\n    const pointerSpeed = hypot(velocityClient.x, velocityClient.y)\n    const modification = this.modification || (this.modification = new Modification(interaction))\n\n    modification.copyFrom(interaction.modification)\n\n    this.t0 = interaction._now()\n    this.allowResume = options.allowResume\n    this.v0 = pointerSpeed\n    this.currentOffset = { x: 0, y: 0 }\n    this.startCoords = interaction.coords.cur.page\n\n    this.modifierArg = modification.fillArg({\n      pageCoords: this.startCoords,\n      preEnd: true,\n      phase: 'inertiastart',\n    })\n\n    const thrown =\n      this.t0 - interaction.coords.cur.timeStamp < 50 &&\n      pointerSpeed > options.minSpeed &&\n      pointerSpeed > options.endSpeed\n\n    if (thrown) {\n      this.startInertia()\n    } else {\n      modification.result = modification.setAll(this.modifierArg)\n\n      if (!modification.result.changed) {\n        return false\n      }\n\n      this.startSmoothEnd()\n    }\n\n    // force modification change\n    interaction.modification.result.rect = null\n\n    // bring inertiastart event to the target coords\n    interaction.offsetBy(this.targetOffset)\n    interaction._doPhase({\n      interaction,\n      event,\n      phase: 'inertiastart',\n    })\n    interaction.offsetBy({ x: -this.targetOffset.x, y: -this.targetOffset.y })\n    // force modification change\n    interaction.modification.result.rect = null\n\n    this.active = true\n    interaction.simulation = this\n\n    return true\n  }\n\n  startInertia () {\n    const startVelocity = this.interaction.coords.velocity.client\n    const options = getOptions(this.interaction)\n    const lambda = options.resistance\n    const inertiaDur = -Math.log(options.endSpeed / this.v0) / lambda\n\n    this.targetOffset = {\n      x: (startVelocity.x - inertiaDur) / lambda,\n      y: (startVelocity.y - inertiaDur) / lambda,\n    }\n\n    this.te = inertiaDur\n    this.lambda_v0 = lambda / this.v0\n    this.one_ve_v0 = 1 - options.endSpeed / this.v0\n\n    const { modification, modifierArg } = this\n\n    modifierArg.pageCoords = {\n      x: this.startCoords.x + this.targetOffset.x,\n      y: this.startCoords.y + this.targetOffset.y,\n    }\n\n    modification.result = modification.setAll(modifierArg)\n\n    if (modification.result.changed) {\n      this.isModified = true\n      this.modifiedOffset = {\n        x: this.targetOffset.x + modification.result.delta.x,\n        y: this.targetOffset.y + modification.result.delta.y,\n      }\n    }\n\n    this.onNextFrame(() => this.inertiaTick())\n  }\n\n  startSmoothEnd () {\n    this.smoothEnd = true\n    this.isModified = true\n    this.targetOffset = {\n      x: this.modification.result.delta.x,\n      y: this.modification.result.delta.y,\n    }\n\n    this.onNextFrame(() => this.smoothEndTick())\n  }\n\n  onNextFrame (tickFn: () => void) {\n    this.timeout = raf.request(() => {\n      if (this.active) {\n        tickFn()\n      }\n    })\n  }\n\n  inertiaTick () {\n    const { interaction } = this\n    const options = getOptions(interaction)\n    const lambda = options.resistance\n    const t = (interaction._now() - this.t0) / 1000\n\n    if (t < this.te) {\n      const progress = 1 - (Math.exp(-lambda * t) - this.lambda_v0) / this.one_ve_v0\n      let newOffset: Point\n\n      if (this.isModified) {\n        newOffset = getQuadraticCurvePoint(\n          0,\n          0,\n          this.targetOffset.x,\n          this.targetOffset.y,\n          this.modifiedOffset.x,\n          this.modifiedOffset.y,\n          progress,\n        )\n      } else {\n        newOffset = {\n          x: this.targetOffset.x * progress,\n          y: this.targetOffset.y * progress,\n        }\n      }\n\n      const delta = { x: newOffset.x - this.currentOffset.x, y: newOffset.y - this.currentOffset.y }\n\n      this.currentOffset.x += delta.x\n      this.currentOffset.y += delta.y\n\n      interaction.offsetBy(delta)\n      interaction.move()\n\n      this.onNextFrame(() => this.inertiaTick())\n    } else {\n      interaction.offsetBy({\n        x: this.modifiedOffset.x - this.currentOffset.x,\n        y: this.modifiedOffset.y - this.currentOffset.y,\n      })\n\n      this.end()\n    }\n  }\n\n  smoothEndTick () {\n    const { interaction } = this\n    const t = interaction._now() - this.t0\n    const { smoothEndDuration: duration } = getOptions(interaction)\n\n    if (t < duration) {\n      const newOffset = {\n        x: easeOutQuad(t, 0, this.targetOffset.x, duration),\n        y: easeOutQuad(t, 0, this.targetOffset.y, duration),\n      }\n      const delta = {\n        x: newOffset.x - this.currentOffset.x,\n        y: newOffset.y - this.currentOffset.y,\n      }\n\n      this.currentOffset.x += delta.x\n      this.currentOffset.y += delta.y\n\n      interaction.offsetBy(delta)\n      interaction.move({ skipModifiers: this.modifierCount })\n\n      this.onNextFrame(() => this.smoothEndTick())\n    } else {\n      interaction.offsetBy({\n        x: this.targetOffset.x - this.currentOffset.x,\n        y: this.targetOffset.y - this.currentOffset.y,\n      })\n\n      this.end()\n    }\n  }\n\n  resume ({ pointer, event, eventTarget }: SignalArgs['interactions:down']) {\n    const { interaction } = this\n\n    // undo inertia changes to interaction coords\n    interaction.offsetBy({\n      x: -this.currentOffset.x,\n      y: -this.currentOffset.y,\n    })\n\n    // update pointer at pointer down position\n    interaction.updatePointer(pointer, event, eventTarget, true)\n\n    // fire resume signals and event\n    interaction._doPhase({\n      interaction,\n      event,\n      phase: 'resume',\n    })\n    copyCoords(interaction.coords.prev, interaction.coords.cur)\n\n    this.stop()\n  }\n\n  end () {\n    this.interaction.move()\n    this.interaction.end()\n    this.stop()\n  }\n\n  stop () {\n    this.active = this.smoothEnd = false\n    this.interaction.simulation = null\n    raf.cancel(this.timeout)\n  }\n}\n\nfunction start ({ interaction, event }: DoPhaseArg<ActionName, 'end'>) {\n  if (!interaction._interacting || interaction.simulation) {\n    return null\n  }\n\n  const started = interaction.inertia.start(event)\n\n  // prevent action end if inertia or smoothEnd\n  return started ? false : null\n}\n\n// Check if the down event hits the current inertia target\n// control should be return to the user\nfunction resume (arg: SignalArgs['interactions:down']) {\n  const { interaction, eventTarget } = arg\n  const state = interaction.inertia\n\n  if (!state.active) return\n\n  let element = eventTarget as Node\n\n  // climb up the DOM tree from the event target\n  while (is.element(element)) {\n    // if interaction element is the current inertia target element\n    if (element === interaction.element) {\n      state.resume(arg)\n      break\n    }\n\n    element = dom.parentNode(element)\n  }\n}\n\nfunction stop ({ interaction }: { interaction: Interaction }) {\n  const state = interaction.inertia\n\n  if (state.active) {\n    state.stop()\n  }\n}\n\nfunction getOptions ({ interactable, prepared }: Interaction) {\n  return interactable && interactable.options && prepared.name && interactable.options[prepared.name].inertia\n}\n\nconst inertia: Plugin = {\n  id: 'inertia',\n  before: ['modifiers', 'actions'],\n  install,\n  listeners: {\n    'interactions:new': ({ interaction }) => {\n      interaction.inertia = new InertiaState(interaction)\n    },\n\n    'interactions:before-action-end': start,\n    'interactions:down': resume,\n    'interactions:stop': stop,\n\n    'interactions:before-action-resume': (arg) => {\n      const { modification } = arg.interaction\n\n      modification.stop(arg)\n      modification.start(arg, arg.interaction.coords.cur.page)\n      modification.applyToInteraction(arg)\n    },\n\n    'interactions:before-action-inertiastart': (arg) => arg.interaction.modification.setAndApply(arg),\n    'interactions:action-resume': modifiers.addEventModifiers,\n    'interactions:action-inertiastart': modifiers.addEventModifiers,\n    'interactions:after-action-inertiastart': (arg) =>\n      arg.interaction.modification.restoreInteractionCoords(arg),\n    'interactions:after-action-resume': (arg) => arg.interaction.modification.restoreInteractionCoords(arg),\n  },\n}\n\n// http://stackoverflow.com/a/5634528/2280888\nfunction _getQBezierValue (t: number, p1: number, p2: number, p3: number) {\n  const iT = 1 - t\n  return iT * iT * p1 + 2 * iT * t * p2 + t * t * p3\n}\n\nfunction getQuadraticCurvePoint (\n  startX: number,\n  startY: number,\n  cpX: number,\n  cpY: number,\n  endX: number,\n  endY: number,\n  position: number,\n) {\n  return {\n    x: _getQBezierValue(position, startX, cpX, endX),\n    y: _getQBezierValue(position, startY, cpY, endY),\n  }\n}\n\n// http://gizma.com/easing/\nfunction easeOutQuad (t: number, b: number, c: number, d: number) {\n  t /= d\n  return -c * t * (t - 2) + b\n}\n\nexport default inertia\n","import type { Listener, ListenersArg, Rect } from '@interactjs/types/index'\nimport * as arr from '@interactjs/utils/arr'\nimport extend from '@interactjs/utils/extend'\nimport type { NormalizedListeners } from '@interactjs/utils/normalizeListeners'\nimport normalize from '@interactjs/utils/normalizeListeners'\n\nfunction fireUntilImmediateStopped (event: any, listeners: Listener[]) {\n  for (const listener of listeners) {\n    if (event.immediatePropagationStopped) {\n      break\n    }\n\n    listener(event)\n  }\n}\n\nexport class Eventable {\n  options: any\n  types: NormalizedListeners = {}\n  propagationStopped = false\n  immediatePropagationStopped = false\n  global: any\n\n  constructor (options?: { [index: string]: any }) {\n    this.options = extend({}, options || {})\n  }\n\n  fire<T extends { type: string, propagationStopped?: boolean }> (event: T) {\n    let listeners: Listener[]\n    const global = this.global\n\n    // Interactable#on() listeners\n    // tslint:disable no-conditional-assignment\n    if ((listeners = this.types[event.type])) {\n      fireUntilImmediateStopped(event, listeners)\n    }\n\n    // interact.on() listeners\n    if (!event.propagationStopped && global && (listeners = global[event.type])) {\n      fireUntilImmediateStopped(event, listeners)\n    }\n  }\n\n  on (type: string, listener: ListenersArg) {\n    const listeners = normalize(type, listener)\n\n    for (type in listeners) {\n      this.types[type] = arr.merge(this.types[type] || [], listeners[type])\n    }\n  }\n\n  off (type: string, listener: ListenersArg) {\n    const listeners = normalize(type, listener)\n\n    for (type in listeners) {\n      const eventList = this.types[type]\n\n      if (!eventList || !eventList.length) {\n        continue\n      }\n\n      for (const subListener of listeners[type]) {\n        const index = eventList.indexOf(subListener)\n\n        if (index !== -1) {\n          eventList.splice(index, 1)\n        }\n      }\n    }\n  }\n\n  getRect (_element: Element): Rect {\n    return null\n  }\n}\n","import type { Actions } from '@interactjs/core/scope'\n\nexport default function isNonNativeEvent (type: string, actions: Actions) {\n  if (actions.phaselessTypes[type]) {\n    return true\n  }\n\n  for (const name in actions.map) {\n    if (type.indexOf(name) === 0 && type.substr(name.length) in actions.phases) {\n      return true\n    }\n  }\n\n  return false\n}\n","/** @module interact */\nimport type { Scope, Plugin } from '@interactjs/core/scope'\nimport type { Context, EventTypes, Listener, ListenersArg, Target, Element } from '@interactjs/types/index'\nimport browser from '@interactjs/utils/browser'\nimport * as domUtils from '@interactjs/utils/domUtils'\nimport is from '@interactjs/utils/is'\nimport { warnOnce } from '@interactjs/utils/misc'\nimport * as pointerUtils from '@interactjs/utils/pointerUtils'\n\nimport type { Interactable } from './Interactable'\nimport isNonNativeEvent from './isNonNativeEvent'\nimport type { Options } from './options'\n\ndeclare module '@interactjs/core/InteractStatic' {\n  export interface InteractStatic {\n    (target: Target, options?: Options): Interactable\n    getPointerAverage: typeof pointerUtils.pointerAverage\n    getTouchBBox: typeof pointerUtils.touchBBox\n    getTouchDistance: typeof pointerUtils.touchDistance\n    getTouchAngle: typeof pointerUtils.touchAngle\n    getElementRect: typeof domUtils.getElementRect\n    getElementClientRect: typeof domUtils.getElementClientRect\n    matchesSelector: typeof domUtils.matchesSelector\n    closest: typeof domUtils.closest\n    /** @internal */ globalEvents: any\n    version: string\n    /** @internal */ scope: Scope\n    use(\n      plugin: Plugin,\n      options?: {\n        [key: string]: any\n      },\n    ): any\n    isSet(target: Element, options?: any): boolean\n    on(type: string | EventTypes, listener: ListenersArg, options?: object): any\n    off(type: EventTypes, listener: any, options?: object): any\n    debug(): any\n    supportsTouch(): boolean\n    supportsPointerEvent(): boolean\n    stop(): any\n    pointerMoveTolerance(newValue?: number): any\n    addDocument(doc: Document, options?: object): void\n    removeDocument(doc: Document): void\n  }\n}\n\n// eslint-disable-next-line @typescript-eslint/consistent-type-imports\ntype _InteractStatic = import('@interactjs/core/InteractStatic').InteractStatic\n\nexport function createInteractStatic (scope: Scope): _InteractStatic {\n  /**\n   * ```js\n   * interact('#draggable').draggable(true)\n   *\n   * var rectables = interact('rect')\n   * rectables\n   *   .gesturable(true)\n   *   .on('gesturemove', function (event) {\n   *       // ...\n   *   })\n   * ```\n   *\n   * The methods of this variable can be used to set elements as interactables\n   * and also to change various default settings.\n   *\n   * Calling it as a function and passing an element or a valid CSS selector\n   * string returns an Interactable object which has various methods to configure\n   * it.\n   *\n   * @global\n   *\n   * @param {Element | string} target The HTML or SVG Element to interact with\n   * or CSS selector\n   * @return {Interactable}\n   */\n  const interact = ((target: Target, options: Options) => {\n    let interactable = scope.interactables.get(target, options)\n\n    if (!interactable) {\n      interactable = scope.interactables.new(target, options)\n      interactable.events.global = interact.globalEvents\n    }\n\n    return interactable\n  }) as _InteractStatic\n\n  // expose the functions used to calculate multi-touch properties\n  interact.getPointerAverage = pointerUtils.pointerAverage\n  interact.getTouchBBox = pointerUtils.touchBBox\n  interact.getTouchDistance = pointerUtils.touchDistance\n  interact.getTouchAngle = pointerUtils.touchAngle\n\n  interact.getElementRect = domUtils.getElementRect\n  interact.getElementClientRect = domUtils.getElementClientRect\n  interact.matchesSelector = domUtils.matchesSelector\n  interact.closest = domUtils.closest\n\n  interact.globalEvents = {} as any\n\n  // eslint-disable-next-line no-undef\n  interact.version = process.env.npm_package_version\n  interact.scope = scope\n  /**\n   * Use a plugin\n   *\n   * @alias module:interact.use\n   *\n   */\n  interact.use = function (plugin, options) {\n    this.scope.usePlugin(plugin, options)\n\n    return this\n  }\n\n  /**\n   * Check if an element or selector has been set with the {@link interact}\n   * function\n   *\n   * @alias module:interact.isSet\n   *\n   * @param {Target} target The Element or string being searched for\n   * @param {object} options\n   * @return {boolean} Indicates if the element or CSS selector was previously\n   * passed to interact\n   */\n  interact.isSet = function (target: Target, options?: { context?: Context }): boolean {\n    return !!this.scope.interactables.get(target, options && options.context)\n  }\n\n  /**\n   * @deprecated\n   * Add a global listener for an InteractEvent or adds a DOM event to `document`\n   *\n   * @alias module:interact.on\n   *\n   * @param {string | array | object} type The types of events to listen for\n   * @param {function} listener The function event (s)\n   * @param {object | boolean} [options] object or useCapture flag for\n   * addEventListener\n   * @return {object} interact\n   */\n  interact.on = warnOnce(function on (type: string | EventTypes, listener: ListenersArg, options?: object) {\n    if (is.string(type) && type.search(' ') !== -1) {\n      type = type.trim().split(/ +/)\n    }\n\n    if (is.array(type)) {\n      for (const eventType of type as any[]) {\n        this.on(eventType, listener, options)\n      }\n\n      return this\n    }\n\n    if (is.object(type)) {\n      for (const prop in type) {\n        this.on(prop, (type as any)[prop], listener)\n      }\n\n      return this\n    }\n\n    // if it is an InteractEvent type, add listener to globalEvents\n    if (isNonNativeEvent(type, this.scope.actions)) {\n      // if this type of event was never bound\n      if (!this.globalEvents[type]) {\n        this.globalEvents[type] = [listener]\n      } else {\n        this.globalEvents[type].push(listener)\n      }\n    }\n    // If non InteractEvent type, addEventListener to document\n    else {\n      this.scope.events.add(this.scope.document, type, listener as Listener, { options })\n    }\n\n    return this\n  }, 'The interact.on() method is being deprecated')\n\n  /**\n   * @deprecated\n   * Removes a global InteractEvent listener or DOM event from `document`\n   *\n   * @alias module:interact.off\n   *\n   * @param {string | array | object} type The types of events that were listened\n   * for\n   * @param {function} listener The listener function to be removed\n   * @param {object | boolean} options [options] object or useCapture flag for\n   * removeEventListener\n   * @return {object} interact\n   */\n  interact.off = warnOnce(function off (type: EventTypes, listener: any, options?: object) {\n    if (is.string(type) && type.search(' ') !== -1) {\n      type = type.trim().split(/ +/)\n    }\n\n    if (is.array(type)) {\n      for (const eventType of type) {\n        this.off(eventType, listener, options)\n      }\n\n      return this\n    }\n\n    if (is.object(type)) {\n      for (const prop in type) {\n        this.off(prop, type[prop], listener)\n      }\n\n      return this\n    }\n\n    if (isNonNativeEvent(type, this.scope.actions)) {\n      let index: number\n\n      if (type in this.globalEvents && (index = this.globalEvents[type].indexOf(listener)) !== -1) {\n        this.globalEvents[type].splice(index, 1)\n      }\n    } else {\n      this.scope.events.remove(this.scope.document, type, listener, options)\n    }\n\n    return this\n  }, 'The interact.off() method is being deprecated')\n\n  interact.debug = function () {\n    return this.scope\n  }\n\n  /**\n   * @alias module:interact.supportsTouch\n   *\n   * @return {boolean} Whether or not the browser supports touch input\n   */\n  interact.supportsTouch = function () {\n    return browser.supportsTouch\n  }\n\n  /**\n   * @alias module:interact.supportsPointerEvent\n   *\n   * @return {boolean} Whether or not the browser supports PointerEvents\n   */\n  interact.supportsPointerEvent = function () {\n    return browser.supportsPointerEvent\n  }\n\n  /**\n   * Cancels all interactions (end events are not fired)\n   *\n   * @alias module:interact.stop\n   *\n   * @return {object} interact\n   */\n  interact.stop = function () {\n    for (const interaction of this.scope.interactions.list) {\n      interaction.stop()\n    }\n\n    return this\n  }\n\n  /**\n   * Returns or sets the distance the pointer must be moved before an action\n   * sequence occurs. This also affects tolerance for tap events.\n   *\n   * @alias module:interact.pointerMoveTolerance\n   *\n   * @param {number} [newValue] The movement from the start position must be greater than this value\n   * @return {interact | number}\n   */\n  interact.pointerMoveTolerance = function (newValue?: number) {\n    if (is.number(newValue)) {\n      this.scope.interactions.pointerMoveTolerance = newValue\n\n      return this\n    }\n\n    return this.scope.interactions.pointerMoveTolerance\n  }\n\n  interact.addDocument = function (doc: Document, options?: object) {\n    this.scope.addDocument(doc, options)\n  }\n\n  interact.removeDocument = function (doc: Document) {\n    this.scope.removeDocument(doc)\n  }\n\n  return interact\n}\n","/* eslint-disable no-dupe-class-members */\nimport type { ActionMap, ActionName, Actions, Scope } from '@interactjs/core/scope'\nimport type {\n  Context,\n  Element,\n  Target,\n  Listeners,\n  OrBoolean,\n  EventTypes,\n  ListenersArg,\n  ActionMethod,\n} from '@interactjs/types/index'\nimport * as arr from '@interactjs/utils/arr'\nimport browser from '@interactjs/utils/browser'\nimport clone from '@interactjs/utils/clone'\nimport { getElementRect, matchesUpTo, nodeContains, trySelector } from '@interactjs/utils/domUtils'\nimport extend from '@interactjs/utils/extend'\nimport is from '@interactjs/utils/is'\nimport normalizeListeners from '@interactjs/utils/normalizeListeners'\nimport { getWindow } from '@interactjs/utils/window'\n\nimport { Eventable } from './Eventable'\nimport isNonNativeEvent from './isNonNativeEvent'\nimport type { ActionDefaults, Defaults, OptionsArg, PerActionDefaults } from './options'\nimport { Options } from './options'\n\ntype IgnoreValue = string | Element | boolean\ntype DeltaSource = 'page' | 'client'\n\n/** */\nexport class Interactable implements Partial<Eventable> {\n  /** @internal */ get _defaults (): Defaults {\n    return {\n      base: {},\n      perAction: {},\n      actions: {} as ActionDefaults,\n    }\n  }\n\n  readonly options!: Required<Options>\n  readonly _actions: Actions\n  readonly target: Target\n  readonly events = new Eventable()\n  readonly _context: Context\n  readonly _win: Window\n  readonly _doc: Document\n  readonly _scopeEvents: Scope['events']\n\n  /** @internal */ _rectChecker?: typeof Interactable.prototype.getRect\n\n  /** */\n  constructor (\n    target: Target,\n    options: any,\n    defaultContext: Document | Element,\n    scopeEvents: Scope['events'],\n  ) {\n    this._actions = options.actions\n    this.target = target\n    this._context = options.context || defaultContext\n    this._win = getWindow(trySelector(target) ? this._context : target)\n    this._doc = this._win.document\n    this._scopeEvents = scopeEvents\n\n    this.set(options)\n  }\n\n  setOnEvents (actionName: ActionName, phases: NonNullable<any>) {\n    if (is.func(phases.onstart)) {\n      this.on(`${actionName}start`, phases.onstart)\n    }\n    if (is.func(phases.onmove)) {\n      this.on(`${actionName}move`, phases.onmove)\n    }\n    if (is.func(phases.onend)) {\n      this.on(`${actionName}end`, phases.onend)\n    }\n    if (is.func(phases.oninertiastart)) {\n      this.on(`${actionName}inertiastart`, phases.oninertiastart)\n    }\n\n    return this\n  }\n\n  updatePerActionListeners (actionName: ActionName, prev: Listeners, cur: Listeners) {\n    if (is.array(prev) || is.object(prev)) {\n      this.off(actionName, prev)\n    }\n\n    if (is.array(cur) || is.object(cur)) {\n      this.on(actionName, cur)\n    }\n  }\n\n  setPerAction (actionName: ActionName, options: OrBoolean<Options>) {\n    const defaults = this._defaults\n\n    // for all the default per-action options\n    for (const optionName_ in options) {\n      const optionName = optionName_ as keyof PerActionDefaults\n      const actionOptions = this.options[actionName]\n      const optionValue: any = options[optionName]\n\n      // remove old event listeners and add new ones\n      if (optionName === 'listeners') {\n        this.updatePerActionListeners(actionName, actionOptions.listeners, optionValue as Listeners)\n      }\n\n      // if the option value is an array\n      if (is.array(optionValue)) {\n        ;(actionOptions[optionName] as any) = arr.from(optionValue)\n      }\n      // if the option value is an object\n      else if (is.plainObject(optionValue)) {\n        // copy the object\n        ;(actionOptions[optionName] as any) = extend(\n          actionOptions[optionName] || ({} as any),\n          clone(optionValue),\n        )\n\n        // set anabled field to true if it exists in the defaults\n        if (\n          is.object(defaults.perAction[optionName]) &&\n          'enabled' in (defaults.perAction[optionName] as any)\n        ) {\n          ;(actionOptions[optionName] as any).enabled = optionValue.enabled !== false\n        }\n      }\n      // if the option value is a boolean and the default is an object\n      else if (is.bool(optionValue) && is.object(defaults.perAction[optionName])) {\n        ;(actionOptions[optionName] as any).enabled = optionValue\n      }\n      // if it's anything else, do a plain assignment\n      else {\n        ;(actionOptions[optionName] as any) = optionValue\n      }\n    }\n  }\n\n  /**\n   * The default function to get an Interactables bounding rect. Can be\n   * overridden using {@link Interactable.rectChecker}.\n   *\n   * @param {Element} [element] The element to measure.\n   * @return {Rect} The object's bounding rectangle.\n   */\n  getRect (element: Element) {\n    element = element || (is.element(this.target) ? this.target : null)\n\n    if (is.string(this.target)) {\n      element = element || this._context.querySelector(this.target)\n    }\n\n    return getElementRect(element)\n  }\n\n  /**\n   * Returns or sets the function used to calculate the interactable's\n   * element's rectangle\n   *\n   * @param {function} [checker] A function which returns this Interactable's\n   * bounding rectangle. See {@link Interactable.getRect}\n   * @return {function | object} The checker function or this Interactable\n   */\n  rectChecker(): (element: Element) => any | null\n  rectChecker(checker: (element: Element) => any): this\n  rectChecker (checker?: (element: Element) => any) {\n    if (is.func(checker)) {\n      this._rectChecker = checker\n\n      this.getRect = (element) => {\n        const rect = extend({}, this._rectChecker(element))\n\n        if (!(('width' in rect) as unknown)) {\n          rect.width = rect.right - rect.left\n          rect.height = rect.bottom - rect.top\n        }\n\n        return rect\n      }\n\n      return this\n    }\n\n    if (checker === null) {\n      delete this.getRect\n      delete this._rectChecker\n\n      return this\n    }\n\n    return this.getRect\n  }\n\n  _backCompatOption (optionName: keyof Options, newValue: any) {\n    if (trySelector(newValue) || is.object(newValue)) {\n      ;(this.options[optionName] as any) = newValue\n\n      for (const action in this._actions.map) {\n        ;(this.options[action as keyof ActionMap] as any)[optionName] = newValue\n      }\n\n      return this\n    }\n\n    return this.options[optionName]\n  }\n\n  /**\n   * Gets or sets the origin of the Interactable's element.  The x and y\n   * of the origin will be subtracted from action event coordinates.\n   *\n   * @param {Element | object | string} [origin] An HTML or SVG Element whose\n   * rect will be used, an object eg. { x: 0, y: 0 } or string 'parent', 'self'\n   * or any CSS selector\n   *\n   * @return {object} The current origin or this Interactable\n   */\n  origin (newValue: any) {\n    return this._backCompatOption('origin', newValue)\n  }\n\n  /**\n   * Returns or sets the mouse coordinate types used to calculate the\n   * movement of the pointer.\n   *\n   * @param {string} [newValue] Use 'client' if you will be scrolling while\n   * interacting; Use 'page' if you want autoScroll to work\n   * @return {string | object} The current deltaSource or this Interactable\n   */\n  deltaSource(): DeltaSource\n  deltaSource(newValue: DeltaSource): this\n  deltaSource (newValue?: DeltaSource) {\n    if (newValue === 'page' || newValue === 'client') {\n      this.options.deltaSource = newValue\n\n      return this\n    }\n\n    return this.options.deltaSource\n  }\n\n  /**\n   * Gets the selector context Node of the Interactable. The default is\n   * `window.document`.\n   *\n   * @return {Node} The context Node of this Interactable\n   */\n  context () {\n    return this._context\n  }\n\n  inContext (element: Document | Node) {\n    return this._context === element.ownerDocument || nodeContains(this._context, element)\n  }\n\n  testIgnoreAllow (\n    this: Interactable,\n    options: { ignoreFrom?: IgnoreValue, allowFrom?: IgnoreValue },\n    targetNode: Node,\n    eventTarget: Node,\n  ) {\n    return (\n      !this.testIgnore(options.ignoreFrom, targetNode, eventTarget) &&\n      this.testAllow(options.allowFrom, targetNode, eventTarget)\n    )\n  }\n\n  testAllow (this: Interactable, allowFrom: IgnoreValue, targetNode: Node, element: Node) {\n    if (!allowFrom) {\n      return true\n    }\n\n    if (!is.element(element)) {\n      return false\n    }\n\n    if (is.string(allowFrom)) {\n      return matchesUpTo(element, allowFrom, targetNode)\n    } else if (is.element(allowFrom)) {\n      return nodeContains(allowFrom, element)\n    }\n\n    return false\n  }\n\n  testIgnore (this: Interactable, ignoreFrom: IgnoreValue, targetNode: Node, element: Node) {\n    if (!ignoreFrom || !is.element(element)) {\n      return false\n    }\n\n    if (is.string(ignoreFrom)) {\n      return matchesUpTo(element, ignoreFrom, targetNode)\n    } else if (is.element(ignoreFrom)) {\n      return nodeContains(ignoreFrom, element)\n    }\n\n    return false\n  }\n\n  /**\n   * Calls listeners for the given InteractEvent type bound globally\n   * and directly to this Interactable\n   *\n   * @param {InteractEvent} iEvent The InteractEvent object to be fired on this\n   * Interactable\n   * @return {Interactable} this Interactable\n   */\n  fire<E extends { type: string }> (iEvent: E) {\n    this.events.fire(iEvent)\n\n    return this\n  }\n\n  _onOff (method: 'on' | 'off', typeArg: EventTypes, listenerArg?: ListenersArg | null, options?: any) {\n    if (is.object(typeArg) && !is.array(typeArg)) {\n      options = listenerArg\n      listenerArg = null\n    }\n\n    const addRemove = method === 'on' ? 'add' : 'remove'\n    const listeners = normalizeListeners(typeArg, listenerArg)\n\n    for (let type in listeners) {\n      if (type === 'wheel') {\n        type = browser.wheelEvent\n      }\n\n      for (const listener of listeners[type]) {\n        // if it is an action event type\n        if (isNonNativeEvent(type, this._actions)) {\n          this.events[method](type, listener)\n        }\n        // delegated event\n        else if (is.string(this.target)) {\n          this._scopeEvents[`${addRemove}Delegate` as 'addDelegate' | 'removeDelegate'](\n            this.target,\n            this._context,\n            type,\n            listener,\n            options,\n          )\n        }\n        // remove listener from this Interactable's element\n        else {\n          this._scopeEvents[addRemove](this.target, type, listener, options)\n        }\n      }\n    }\n\n    return this\n  }\n\n  /**\n   * Binds a listener for an InteractEvent, pointerEvent or DOM event.\n   *\n   * @param {string | array | object} types The types of events to listen\n   * for\n   * @param {function | array | object} [listener] The event listener function(s)\n   * @param {object | boolean} [options] options object or useCapture flag for\n   * addEventListener\n   * @return {Interactable} This Interactable\n   */\n  on (types: EventTypes, listener?: ListenersArg, options?: any) {\n    return this._onOff('on', types, listener, options)\n  }\n\n  /**\n   * Removes an InteractEvent, pointerEvent or DOM event listener.\n   *\n   * @param {string | array | object} types The types of events that were\n   * listened for\n   * @param {function | array | object} [listener] The event listener function(s)\n   * @param {object | boolean} [options] options object or useCapture flag for\n   * removeEventListener\n   * @return {Interactable} This Interactable\n   */\n  off (types: string | string[] | EventTypes, listener?: ListenersArg, options?: any) {\n    return this._onOff('off', types, listener, options)\n  }\n\n  /**\n   * Reset the options of this Interactable\n   *\n   * @param {object} options The new settings to apply\n   * @return {object} This Interactable\n   */\n  set (options: OptionsArg) {\n    const defaults = this._defaults\n\n    if (!is.object(options)) {\n      options = {}\n    }\n\n    ;(this.options as Required<Options>) = clone(defaults.base) as Required<Options>\n\n    for (const actionName_ in this._actions.methodDict) {\n      const actionName = actionName_ as ActionName\n      const methodName = this._actions.methodDict[actionName]\n\n      this.options[actionName] = {}\n      this.setPerAction(actionName, extend(extend({}, defaults.perAction), defaults.actions[actionName]))\n      ;(this[methodName] as ActionMethod<unknown>)(options[actionName])\n    }\n\n    for (const setting in options) {\n      if (is.func((this as any)[setting])) {\n        ;(this as any)[setting](options[setting as keyof typeof options])\n      }\n    }\n\n    return this\n  }\n\n  /**\n   * Remove this interactable from the list of interactables and remove it's\n   * action capabilities and event listeners\n   */\n  unset () {\n    if (is.string(this.target)) {\n      // remove delegated events\n      for (const type in this._scopeEvents.delegatedEvents) {\n        const delegated = this._scopeEvents.delegatedEvents[type]\n\n        for (let i = delegated.length - 1; i >= 0; i--) {\n          const { selector, context, listeners } = delegated[i]\n\n          if (selector === this.target && context === this._context) {\n            delegated.splice(i, 1)\n          }\n\n          for (let l = listeners.length - 1; l >= 0; l--) {\n            this._scopeEvents.removeDelegate(\n              this.target,\n              this._context,\n              type,\n              listeners[l][0],\n              listeners[l][1],\n            )\n          }\n        }\n      }\n    } else {\n      this._scopeEvents.remove(this.target as Node, 'all')\n    }\n  }\n}\n","import type { Interactable } from '@interactjs/core/Interactable'\nimport type { OptionsArg, Options } from '@interactjs/core/options'\nimport type { Scope } from '@interactjs/core/scope'\nimport type { Target, Context } from '@interactjs/types/index'\nimport * as arr from '@interactjs/utils/arr'\nimport * as domUtils from '@interactjs/utils/domUtils'\nimport extend from '@interactjs/utils/extend'\nimport is from '@interactjs/utils/is'\n\ndeclare module '@interactjs/core/scope' {\n  interface SignalArgs {\n    'interactable:new': {\n      interactable: Interactable\n      target: Target\n      options: OptionsArg\n      win: Window\n    }\n  }\n}\n\ninterface InteractableScopeProp {\n  context: Context\n  interactable: Interactable\n}\n\nexport class InteractableSet {\n  // all set interactables\n  list: Interactable[] = []\n\n  selectorMap: {\n    [selector: string]: InteractableScopeProp[]\n  } = {}\n\n  scope: Scope\n\n  constructor (scope: Scope) {\n    this.scope = scope\n    scope.addListeners({\n      'interactable:unset': ({ interactable }) => {\n        const { target, _context: context } = interactable\n        const targetMappings: InteractableScopeProp[] = is.string(target)\n          ? this.selectorMap[target]\n          : (target as any)[this.scope.id]\n\n        const targetIndex = arr.findIndex(targetMappings, (m) => m.context === context)\n        if (targetMappings[targetIndex]) {\n          // Destroying mappingInfo's context and interactable\n          targetMappings[targetIndex].context = null\n          targetMappings[targetIndex].interactable = null\n        }\n        targetMappings.splice(targetIndex, 1)\n      },\n    })\n  }\n\n  new (target: Target, options?: any): Interactable {\n    options = extend(options || {}, {\n      actions: this.scope.actions,\n    })\n    const interactable = new this.scope.Interactable(target, options, this.scope.document, this.scope.events)\n    const mappingInfo = { context: interactable._context, interactable }\n\n    this.scope.addDocument(interactable._doc)\n    this.list.push(interactable)\n\n    if (is.string(target)) {\n      if (!this.selectorMap[target]) {\n        this.selectorMap[target] = []\n      }\n      this.selectorMap[target].push(mappingInfo)\n    } else {\n      if (!(interactable.target as any)[this.scope.id]) {\n        Object.defineProperty(target, this.scope.id, {\n          value: [],\n          configurable: true,\n        })\n      }\n\n      ;(target as any)[this.scope.id].push(mappingInfo)\n    }\n\n    this.scope.fire('interactable:new', {\n      target,\n      options,\n      interactable,\n      win: this.scope._win,\n    })\n\n    return interactable\n  }\n\n  get (target: Target, options?: Options) {\n    const context = (options && options.context) || this.scope.document\n    const isSelector = is.string(target)\n    const targetMappings: InteractableScopeProp[] = isSelector\n      ? this.selectorMap[target as string]\n      : (target as any)[this.scope.id]\n\n    if (!targetMappings) {\n      return null\n    }\n\n    const found = arr.find(\n      targetMappings,\n      (m) => m.context === context && (isSelector || m.interactable.inContext(target as any)),\n    )\n\n    return found && found.interactable\n  }\n\n  forEachMatch<T> (node: Node, callback: (interactable: Interactable) => T) {\n    for (const interactable of this.list) {\n      let ret: void | T\n\n      if (\n        (is.string(interactable.target)\n          ? // target is a selector and the element matches\n          is.element(node) && domUtils.matchesSelector(node, interactable.target)\n          : // target is the element\n          node === interactable.target) &&\n        // the element is in context\n        interactable.inContext(node)\n      ) {\n        ret = callback(interactable)\n      }\n\n      if (ret !== undefined) {\n        return ret\n      }\n    }\n  }\n}\n","import type { Scope } from '@interactjs/core/scope'\nimport type { Element } from '@interactjs/types/index'\nimport * as arr from '@interactjs/utils/arr'\nimport * as domUtils from '@interactjs/utils/domUtils'\nimport extend from '@interactjs/utils/extend'\nimport is from '@interactjs/utils/is'\nimport pExtend from '@interactjs/utils/pointerExtend'\nimport * as pointerUtils from '@interactjs/utils/pointerUtils'\n\ndeclare module '@interactjs/core/scope' {\n  interface Scope {\n    events: ReturnType<typeof install>\n  }\n}\n\ntype Listener = (event: Event | FakeEvent) => any\n\nfunction install (scope: Scope) {\n  const targets: Array<{\n    eventTarget: EventTarget\n    events: { [type: string]: Listener[] }\n  }> = []\n\n  const delegatedEvents: {\n    [type: string]: Array<{\n      selector: string\n      context: Node\n      listeners: Array<[Listener, { capture: boolean, passive: boolean }]>\n    }>\n  } = {}\n  const documents: Document[] = []\n\n  const eventsMethods = {\n    add,\n    remove,\n\n    addDelegate,\n    removeDelegate,\n\n    delegateListener,\n    delegateUseCapture,\n    delegatedEvents,\n    documents,\n\n    targets,\n\n    supportsOptions: false,\n    supportsPassive: false,\n  }\n\n  // check if browser supports passive events and options arg\n  scope.document?.createElement('div').addEventListener('test', null, {\n    get capture () {\n      return (eventsMethods.supportsOptions = true)\n    },\n    get passive () {\n      return (eventsMethods.supportsPassive = true)\n    },\n  })\n\n  scope.events = eventsMethods\n\n  function add (eventTarget: EventTarget, type: string, listener: Listener, optionalArg?: boolean | any) {\n    const options = getOptions(optionalArg)\n    let target = arr.find(targets, (t) => t.eventTarget === eventTarget)\n\n    if (!target) {\n      target = {\n        eventTarget,\n        events: {},\n      }\n\n      targets.push(target)\n    }\n\n    if (!target.events[type]) {\n      target.events[type] = []\n    }\n\n    if (eventTarget.addEventListener && !arr.contains(target.events[type], listener)) {\n      eventTarget.addEventListener(\n        type,\n        listener as any,\n        eventsMethods.supportsOptions ? options : options.capture,\n      )\n      target.events[type].push(listener)\n    }\n  }\n\n  function remove (\n    eventTarget: EventTarget,\n    type: string,\n    listener?: 'all' | Listener,\n    optionalArg?: boolean | any,\n  ) {\n    const options = getOptions(optionalArg)\n    const targetIndex = arr.findIndex(targets, (t) => t.eventTarget === eventTarget)\n    const target = targets[targetIndex]\n\n    if (!target || !target.events) {\n      return\n    }\n\n    if (type === 'all') {\n      for (type in target.events) {\n        if (target.events.hasOwnProperty(type)) {\n          remove(eventTarget, type, 'all')\n        }\n      }\n      return\n    }\n\n    let typeIsEmpty = false\n    const typeListeners = target.events[type]\n\n    if (typeListeners) {\n      if (listener === 'all') {\n        for (let i = typeListeners.length - 1; i >= 0; i--) {\n          remove(eventTarget, type, typeListeners[i], options)\n        }\n        return\n      } else {\n        for (let i = 0; i < typeListeners.length; i++) {\n          if (typeListeners[i] === listener) {\n            eventTarget.removeEventListener(\n              type,\n              listener as any,\n              eventsMethods.supportsOptions ? options : options.capture,\n            )\n            typeListeners.splice(i, 1)\n\n            if (typeListeners.length === 0) {\n              delete target.events[type]\n              typeIsEmpty = true\n            }\n\n            break\n          }\n        }\n      }\n    }\n\n    if (typeIsEmpty && !Object.keys(target.events).length) {\n      targets.splice(targetIndex, 1)\n    }\n  }\n\n  function addDelegate (selector: string, context: Node, type: string, listener: Listener, optionalArg?: any) {\n    const options = getOptions(optionalArg)\n    if (!delegatedEvents[type]) {\n      delegatedEvents[type] = []\n\n      // add delegate listener functions\n      for (const doc of documents) {\n        add(doc, type, delegateListener)\n        add(doc, type, delegateUseCapture, true)\n      }\n    }\n\n    const delegates = delegatedEvents[type]\n    let delegate = arr.find(delegates, (d) => d.selector === selector && d.context === context)\n\n    if (!delegate) {\n      delegate = { selector, context, listeners: [] }\n      delegates.push(delegate)\n    }\n\n    delegate.listeners.push([listener, options])\n  }\n\n  function removeDelegate (\n    selector: string,\n    context: Document | Element,\n    type: string,\n    listener?: Listener,\n    optionalArg?: any,\n  ) {\n    const options = getOptions(optionalArg)\n    const delegates = delegatedEvents[type]\n    let matchFound = false\n    let index: number\n\n    if (!delegates) return\n\n    // count from last index of delegated to 0\n    for (index = delegates.length - 1; index >= 0; index--) {\n      const cur = delegates[index]\n      // look for matching selector and context Node\n      if (cur.selector === selector && cur.context === context) {\n        const { listeners } = cur\n\n        // each item of the listeners array is an array: [function, capture, passive]\n        for (let i = listeners.length - 1; i >= 0; i--) {\n          const [fn, { capture, passive }] = listeners[i]\n\n          // check if the listener functions and capture and passive flags match\n          if (fn === listener && capture === options.capture && passive === options.passive) {\n            // remove the listener from the array of listeners\n            listeners.splice(i, 1)\n\n            // if all listeners for this target have been removed\n            // remove the target from the delegates array\n            if (!listeners.length) {\n              delegates.splice(index, 1)\n\n              // remove delegate function from context\n              remove(context, type, delegateListener)\n              remove(context, type, delegateUseCapture, true)\n            }\n\n            // only remove one listener\n            matchFound = true\n            break\n          }\n        }\n\n        if (matchFound) {\n          break\n        }\n      }\n    }\n  }\n\n  // bound to the interactable context when a DOM event\n  // listener is added to a selector interactable\n  function delegateListener (event: Event | FakeEvent, optionalArg?: any) {\n    const options = getOptions(optionalArg)\n    const fakeEvent = new FakeEvent(event as Event)\n    const delegates = delegatedEvents[event.type]\n    const [eventTarget] = pointerUtils.getEventTargets(event as Event)\n    let element: Node = eventTarget\n\n    // climb up document tree looking for selector matches\n    while (is.element(element)) {\n      for (let i = 0; i < delegates.length; i++) {\n        const cur = delegates[i]\n        const { selector, context } = cur\n\n        if (\n          domUtils.matchesSelector(element, selector) &&\n          domUtils.nodeContains(context, eventTarget) &&\n          domUtils.nodeContains(context, element)\n        ) {\n          const { listeners } = cur\n\n          fakeEvent.currentTarget = element\n\n          for (const [fn, { capture, passive }] of listeners) {\n            if (capture === options.capture && passive === options.passive) {\n              fn(fakeEvent)\n            }\n          }\n        }\n      }\n\n      element = domUtils.parentNode(element)\n    }\n  }\n\n  function delegateUseCapture (this: Element, event: Event | FakeEvent) {\n    return delegateListener.call(this, event, true)\n  }\n\n  // for type inferrence\n  return eventsMethods\n}\n\nclass FakeEvent implements Partial<Event> {\n  currentTarget: Node\n  originalEvent: Event\n  type: string\n\n  constructor (originalEvent: Event) {\n    this.originalEvent = originalEvent\n    // duplicate the event so that currentTarget can be changed\n    pExtend(this, originalEvent)\n  }\n\n  preventOriginalDefault () {\n    this.originalEvent.preventDefault()\n  }\n\n  stopPropagation () {\n    this.originalEvent.stopPropagation()\n  }\n\n  stopImmediatePropagation () {\n    this.originalEvent.stopImmediatePropagation()\n  }\n}\n\nfunction getOptions (param: { [index: string]: any } | boolean): { capture: boolean, passive: boolean } {\n  if (!is.object(param)) {\n    return { capture: !!param, passive: false }\n  }\n\n  const options = extend({}, param) as any\n\n  options.capture = !!param.capture\n  options.passive = !!param.passive\n\n  return options\n}\n\nexport default {\n  id: 'events',\n  install,\n}\n","import type Interaction from '@interactjs/core/Interaction'\nimport type { Scope } from '@interactjs/core/scope'\nimport type { PointerType } from '@interactjs/types/index'\nimport * as dom from '@interactjs/utils/domUtils'\n\nexport interface SearchDetails {\n  pointer: PointerType\n  pointerId: number\n  pointerType: string\n  eventType: string\n  eventTarget: EventTarget\n  curEventTarget: EventTarget\n  scope: Scope\n}\n\nconst finder = {\n  methodOrder: ['simulationResume', 'mouseOrPen', 'hasPointer', 'idle'] as const,\n\n  search (details: SearchDetails) {\n    for (const method of finder.methodOrder) {\n      const interaction = finder[method](details)\n\n      if (interaction) {\n        return interaction\n      }\n    }\n\n    return null\n  },\n\n  // try to resume simulation with a new pointer\n  simulationResume ({ pointerType, eventType, eventTarget, scope }: SearchDetails) {\n    if (!/down|start/i.test(eventType)) {\n      return null\n    }\n\n    for (const interaction of scope.interactions.list) {\n      let element = eventTarget as Node\n\n      if (\n        interaction.simulation &&\n        interaction.simulation.allowResume &&\n        interaction.pointerType === pointerType\n      ) {\n        while (element) {\n          // if the element is the interaction element\n          if (element === interaction.element) {\n            return interaction\n          }\n          element = dom.parentNode(element)\n        }\n      }\n    }\n\n    return null\n  },\n\n  // if it's a mouse or pen interaction\n  mouseOrPen ({ pointerId, pointerType, eventType, scope }: SearchDetails) {\n    if (pointerType !== 'mouse' && pointerType !== 'pen') {\n      return null\n    }\n\n    let firstNonActive\n\n    for (const interaction of scope.interactions.list) {\n      if (interaction.pointerType === pointerType) {\n        // if it's a down event, skip interactions with running simulations\n        if (interaction.simulation && !hasPointerId(interaction, pointerId)) {\n          continue\n        }\n\n        // if the interaction is active, return it immediately\n        if (interaction.interacting()) {\n          return interaction\n        }\n        // otherwise save it and look for another active interaction\n        else if (!firstNonActive) {\n          firstNonActive = interaction\n        }\n      }\n    }\n\n    // if no active mouse interaction was found use the first inactive mouse\n    // interaction\n    if (firstNonActive) {\n      return firstNonActive\n    }\n\n    // find any mouse or pen interaction.\n    // ignore the interaction if the eventType is a *down, and a simulation\n    // is active\n    for (const interaction of scope.interactions.list) {\n      if (interaction.pointerType === pointerType && !(/down/i.test(eventType) && interaction.simulation)) {\n        return interaction\n      }\n    }\n\n    return null\n  },\n\n  // get interaction that has this pointer\n  hasPointer ({ pointerId, scope }: SearchDetails) {\n    for (const interaction of scope.interactions.list) {\n      if (hasPointerId(interaction, pointerId)) {\n        return interaction\n      }\n    }\n\n    return null\n  },\n\n  // get first idle interaction with a matching pointerType\n  idle ({ pointerType, scope }: SearchDetails) {\n    for (const interaction of scope.interactions.list) {\n      // if there's already a pointer held down\n      if (interaction.pointers.length === 1) {\n        const target = interaction.interactable\n        // don't add this pointer if there is a target interactable and it\n        // isn't gesturable\n        if (target && !(target.options.gesture && target.options.gesture.enabled)) {\n          continue\n        }\n      }\n      // maximum of 2 pointers per interaction\n      else if (interaction.pointers.length >= 2) {\n        continue\n      }\n\n      if (!interaction.interacting() && pointerType === interaction.pointerType) {\n        return interaction\n      }\n    }\n\n    return null\n  },\n}\n\nfunction hasPointerId (interaction: Interaction, pointerId: number) {\n  return interaction.pointers.some(({ id }) => id === pointerId)\n}\n\nexport default finder\n","import type { Scope, ActionName, SignalArgs, Plugin } from '@interactjs/core/scope'\nimport type { Listener } from '@interactjs/types/index'\nimport browser from '@interactjs/utils/browser'\nimport domObjects from '@interactjs/utils/domObjects'\nimport { nodeContains } from '@interactjs/utils/domUtils'\nimport * as pointerUtils from '@interactjs/utils/pointerUtils'\n\nimport InteractionBase from './Interaction'\nimport interactablePreventDefault from './interactablePreventDefault'\nimport type { SearchDetails } from './interactionFinder'\nimport finder from './interactionFinder'\n\ndeclare module '@interactjs/core/scope' {\n  interface Scope {\n    Interaction: typeof InteractionBase\n    interactions: {\n      new: <T extends ActionName>(options: any) => InteractionBase<T>\n      list: Array<InteractionBase<ActionName>>\n      listeners: { [type: string]: Listener }\n      docEvents: Array<{ type: string, listener: Listener }>\n      pointerMoveTolerance: number\n    }\n    prevTouchTime: number\n  }\n}\n\ndeclare module '@interactjs/core/scope' {\n  interface SignalArgs {\n    'interactions:find': {\n      interaction: InteractionBase\n      searchDetails: SearchDetails\n    }\n  }\n}\n\nconst methodNames = [\n  'pointerDown',\n  'pointerMove',\n  'pointerUp',\n  'updatePointer',\n  'removePointer',\n  'windowBlur',\n]\n\nfunction install (scope: Scope) {\n  const listeners = {} as any\n\n  for (const method of methodNames) {\n    listeners[method] = doOnInteractions(method, scope)\n  }\n\n  const pEventTypes = browser.pEventTypes\n  let docEvents: typeof scope.interactions.docEvents\n\n  if (domObjects.PointerEvent) {\n    docEvents = [\n      { type: pEventTypes.down, listener: releasePointersOnRemovedEls },\n      { type: pEventTypes.down, listener: listeners.pointerDown },\n      { type: pEventTypes.move, listener: listeners.pointerMove },\n      { type: pEventTypes.up, listener: listeners.pointerUp },\n      { type: pEventTypes.cancel, listener: listeners.pointerUp },\n    ]\n  } else {\n    docEvents = [\n      { type: 'mousedown', listener: listeners.pointerDown },\n      { type: 'mousemove', listener: listeners.pointerMove },\n      { type: 'mouseup', listener: listeners.pointerUp },\n\n      { type: 'touchstart', listener: releasePointersOnRemovedEls },\n      { type: 'touchstart', listener: listeners.pointerDown },\n      { type: 'touchmove', listener: listeners.pointerMove },\n      { type: 'touchend', listener: listeners.pointerUp },\n      { type: 'touchcancel', listener: listeners.pointerUp },\n    ]\n  }\n\n  docEvents.push({\n    type: 'blur',\n    listener (event) {\n      for (const interaction of scope.interactions.list) {\n        interaction.documentBlur(event)\n      }\n    },\n  })\n\n  // for ignoring browser's simulated mouse events\n  scope.prevTouchTime = 0\n\n  scope.Interaction = class <T extends ActionName> extends InteractionBase<T> {\n    get pointerMoveTolerance () {\n      return scope.interactions.pointerMoveTolerance\n    }\n\n    set pointerMoveTolerance (value) {\n      scope.interactions.pointerMoveTolerance = value\n    }\n\n    _now () {\n      return scope.now()\n    }\n  }\n\n  scope.interactions = {\n    // all active and idle interactions\n    list: [],\n    new<T extends ActionName> (options: { pointerType?: string, scopeFire?: Scope['fire'] }) {\n      options.scopeFire = (name, arg) => scope.fire(name, arg)\n\n      const interaction = new scope.Interaction<T>(options as Required<typeof options>)\n\n      scope.interactions.list.push(interaction)\n      return interaction\n    },\n    listeners,\n    docEvents,\n    pointerMoveTolerance: 1,\n  }\n\n  function releasePointersOnRemovedEls () {\n    // for all inactive touch interactions with pointers down\n    for (const interaction of scope.interactions.list) {\n      if (!interaction.pointerIsDown || interaction.pointerType !== 'touch' || interaction._interacting) {\n        continue\n      }\n\n      // if a pointer is down on an element that is no longer in the DOM tree\n      for (const pointer of interaction.pointers) {\n        if (!scope.documents.some(({ doc }) => nodeContains(doc, pointer.downTarget))) {\n          // remove the pointer from the interaction\n          interaction.removePointer(pointer.pointer, pointer.event)\n        }\n      }\n    }\n  }\n\n  scope.usePlugin(interactablePreventDefault)\n}\n\nfunction doOnInteractions (method: string, scope: Scope) {\n  return function (event: Event) {\n    const interactions = scope.interactions.list\n\n    const pointerType = pointerUtils.getPointerType(event)\n    const [eventTarget, curEventTarget] = pointerUtils.getEventTargets(event)\n    const matches: any[] = [] // [ [pointer, interaction], ...]\n\n    if (/^touch/.test(event.type)) {\n      scope.prevTouchTime = scope.now()\n\n      // @ts-expect-error\n      for (const changedTouch of event.changedTouches) {\n        const pointer = changedTouch\n        const pointerId = pointerUtils.getPointerId(pointer)\n        const searchDetails: SearchDetails = {\n          pointer,\n          pointerId,\n          pointerType,\n          eventType: event.type,\n          eventTarget,\n          curEventTarget,\n          scope,\n        }\n        const interaction = getInteraction(searchDetails)\n\n        matches.push([\n          searchDetails.pointer,\n          searchDetails.eventTarget,\n          searchDetails.curEventTarget,\n          interaction,\n        ])\n      }\n    } else {\n      let invalidPointer = false\n\n      if (!browser.supportsPointerEvent && /mouse/.test(event.type)) {\n        // ignore mouse events while touch interactions are active\n        for (let i = 0; i < interactions.length && !invalidPointer; i++) {\n          invalidPointer = interactions[i].pointerType !== 'mouse' && interactions[i].pointerIsDown\n        }\n\n        // try to ignore mouse events that are simulated by the browser\n        // after a touch event\n        invalidPointer =\n          invalidPointer ||\n          scope.now() - scope.prevTouchTime < 500 ||\n          // on iOS and Firefox Mobile, MouseEvent.timeStamp is zero if simulated\n          event.timeStamp === 0\n      }\n\n      if (!invalidPointer) {\n        const searchDetails = {\n          pointer: event as PointerEvent,\n          pointerId: pointerUtils.getPointerId(event as PointerEvent),\n          pointerType,\n          eventType: event.type,\n          curEventTarget,\n          eventTarget,\n          scope,\n        }\n\n        const interaction = getInteraction(searchDetails)\n\n        matches.push([\n          searchDetails.pointer,\n          searchDetails.eventTarget,\n          searchDetails.curEventTarget,\n          interaction,\n        ])\n      }\n    }\n\n    // eslint-disable-next-line no-shadow\n    for (const [pointer, eventTarget, curEventTarget, interaction] of matches) {\n      interaction[method](pointer, event, eventTarget, curEventTarget)\n    }\n  }\n}\n\nfunction getInteraction (searchDetails: SearchDetails) {\n  const { pointerType, scope } = searchDetails\n\n  const foundInteraction = finder.search(searchDetails)\n  const signalArg = { interaction: foundInteraction, searchDetails }\n\n  scope.fire('interactions:find', signalArg)\n\n  return signalArg.interaction || scope.interactions.new({ pointerType })\n}\n\nfunction onDocSignal<T extends 'scope:add-document' | 'scope:remove-document'> (\n  { doc, scope, options }: SignalArgs[T],\n  eventMethodName: 'add' | 'remove',\n) {\n  const {\n    interactions: { docEvents },\n    events,\n  } = scope\n  const eventMethod = events[eventMethodName]\n\n  if (scope.browser.isIOS && !options.events) {\n    options.events = { passive: false }\n  }\n\n  // delegate event listener\n  for (const eventType in events.delegatedEvents) {\n    eventMethod(doc, eventType, events.delegateListener)\n    eventMethod(doc, eventType, events.delegateUseCapture, true)\n  }\n\n  const eventOptions = options && options.events\n\n  for (const { type, listener } of docEvents) {\n    eventMethod(doc, type, listener, eventOptions)\n  }\n}\n\nconst interactions: Plugin = {\n  id: 'core/interactions',\n  install,\n  listeners: {\n    'scope:add-document': (arg) => onDocSignal(arg, 'add'),\n    'scope:remove-document': (arg) => onDocSignal(arg, 'remove'),\n    'interactable:unset': ({ interactable }, scope) => {\n      // Stop and destroy related interactions when an Interactable is unset\n      for (let i = scope.interactions.list.length - 1; i >= 0; i--) {\n        const interaction = scope.interactions.list[i]\n\n        if (interaction.interactable !== interactable) {\n          continue\n        }\n\n        interaction.stop()\n        scope.fire('interactions:destroy', { interaction })\n        interaction.destroy()\n\n        if (scope.interactions.list.length > 2) {\n          scope.interactions.list.splice(i, 1)\n        }\n      }\n    },\n  },\n  onDocSignal,\n  doOnInteractions,\n  methodNames,\n}\n\nexport default interactions\n","import type Interaction from '@interactjs/core/Interaction'\nimport browser from '@interactjs/utils/browser'\nimport clone from '@interactjs/utils/clone'\nimport domObjects from '@interactjs/utils/domObjects'\nimport extend from '@interactjs/utils/extend'\nimport is from '@interactjs/utils/is'\nimport raf from '@interactjs/utils/raf'\nimport * as win from '@interactjs/utils/window'\n\nimport { Eventable } from './Eventable'\nimport type { PhaseMap } from './InteractEvent'\nimport { InteractEvent } from './InteractEvent'\nimport { createInteractStatic } from './InteractStatic'\nimport type { Interactable } from './Interactable'\nimport { Interactable as InteractableBase } from './Interactable'\nimport { InteractableSet } from './InteractableSet'\nimport events from './events'\nimport interactions from './interactions'\nimport type { OptionsArg } from './options'\nimport { defaults } from './options'\n\nexport interface SignalArgs {\n  'scope:add-document': DocSignalArg\n  'scope:remove-document': DocSignalArg\n  'interactable:unset': { interactable: InteractableBase }\n  'interactable:set': { interactable: InteractableBase, options: OptionsArg }\n  'interactions:destroy': { interaction: Interaction }\n}\n\nexport type ListenerName = keyof SignalArgs\n\nexport type ListenerMap = {\n  [P in ListenerName]?: (arg: SignalArgs[P], scope: Scope, signalName: P) => void | boolean\n}\n\ninterface DocSignalArg {\n  doc: Document\n  window: Window\n  scope: Scope\n  options: Record<string, any>\n}\n\n// eslint-disable-next-line @typescript-eslint/no-empty-interface\nexport interface ActionMap {}\nexport type ActionName = keyof ActionMap\n\nexport interface Actions {\n  map: ActionMap\n  phases: PhaseMap\n  methodDict: { [P in ActionName]?: keyof Interactable }\n  phaselessTypes: { [type: string]: true }\n}\n\nexport interface Plugin {\n  [key: string]: any\n  id?: string\n  listeners?: ListenerMap\n  before?: string[]\n  install?(scope: Scope, options?: any): void\n}\n\nexport class Scope {\n  id = `__interact_scope_${Math.floor(Math.random() * 100)}`\n  isInitialized = false\n  listenerMaps: Array<{\n    map: ListenerMap\n    id: string\n  }> = []\n\n  browser = browser\n  defaults = clone(defaults) as typeof defaults\n  Eventable = Eventable\n  actions: Actions = {\n    map: {},\n    phases: {\n      start: true,\n      move: true,\n      end: true,\n    },\n    methodDict: {},\n    phaselessTypes: {},\n  }\n\n  interactStatic = createInteractStatic(this)\n  InteractEvent = InteractEvent\n  Interactable: typeof InteractableBase\n  interactables = new InteractableSet(this)\n\n  // main window\n  _win!: Window\n\n  // main document\n  document!: Document\n\n  // main window\n  window!: Window\n\n  // all documents being listened to\n  documents: Array<{ doc: Document, options: any }> = []\n\n  _plugins: {\n    list: Plugin[]\n    map: { [id: string]: Plugin }\n  } = {\n    list: [],\n    map: {},\n  }\n\n  constructor () {\n    const scope = this\n\n    this.Interactable = class extends InteractableBase {\n      get _defaults () {\n        return scope.defaults\n      }\n\n      set<T extends InteractableBase> (this: T, options: OptionsArg) {\n        super.set(options)\n\n        scope.fire('interactable:set', {\n          options,\n          interactable: this,\n        })\n\n        return this\n      }\n\n      unset (this: InteractableBase) {\n        super.unset()\n        scope.interactables.list.splice(scope.interactables.list.indexOf(this), 1)\n\n        scope.fire('interactable:unset', { interactable: this })\n      }\n    }\n  }\n\n  addListeners (map: ListenerMap, id?: string) {\n    this.listenerMaps.push({ id, map })\n  }\n\n  fire<T extends ListenerName> (name: T, arg: SignalArgs[T]): void | false {\n    for (const {\n      map: { [name]: listener },\n    } of this.listenerMaps) {\n      if (!!listener && listener(arg as any, this, name as never) === false) {\n        return false\n      }\n    }\n  }\n\n  onWindowUnload = (event: BeforeUnloadEvent) => this.removeDocument(event.target as Document)\n\n  init (window: Window | typeof globalThis) {\n    return this.isInitialized ? this : initScope(this, window)\n  }\n\n  pluginIsInstalled (plugin: Plugin) {\n    return this._plugins.map[plugin.id] || this._plugins.list.indexOf(plugin) !== -1\n  }\n\n  usePlugin (plugin: Plugin, options?: { [key: string]: any }) {\n    if (!this.isInitialized) {\n      return this\n    }\n\n    if (this.pluginIsInstalled(plugin)) {\n      return this\n    }\n\n    if (plugin.id) {\n      this._plugins.map[plugin.id] = plugin\n    }\n    this._plugins.list.push(plugin)\n\n    if (plugin.install) {\n      plugin.install(this, options)\n    }\n\n    if (plugin.listeners && plugin.before) {\n      let index = 0\n      const len = this.listenerMaps.length\n      const before = plugin.before.reduce((acc, id) => {\n        acc[id] = true\n        acc[pluginIdRoot(id)] = true\n        return acc\n      }, {})\n\n      for (; index < len; index++) {\n        const otherId = this.listenerMaps[index].id\n\n        if (before[otherId] || before[pluginIdRoot(otherId)]) {\n          break\n        }\n      }\n\n      this.listenerMaps.splice(index, 0, { id: plugin.id, map: plugin.listeners })\n    } else if (plugin.listeners) {\n      this.listenerMaps.push({ id: plugin.id, map: plugin.listeners })\n    }\n\n    return this\n  }\n\n  addDocument (doc: Document, options?: any): void | false {\n    // do nothing if document is already known\n    if (this.getDocIndex(doc) !== -1) {\n      return false\n    }\n\n    const window = win.getWindow(doc)\n\n    options = options ? extend({}, options) : {}\n\n    this.documents.push({ doc, options })\n    this.events.documents.push(doc)\n\n    // don't add an unload event for the main document\n    // so that the page may be cached in browser history\n    if (doc !== this.document) {\n      this.events.add(window, 'unload', this.onWindowUnload)\n    }\n\n    this.fire('scope:add-document', { doc, window, scope: this, options })\n  }\n\n  removeDocument (doc: Document) {\n    const index = this.getDocIndex(doc)\n\n    const window = win.getWindow(doc)\n    const options = this.documents[index].options\n\n    this.events.remove(window, 'unload', this.onWindowUnload)\n\n    this.documents.splice(index, 1)\n    this.events.documents.splice(index, 1)\n\n    this.fire('scope:remove-document', { doc, window, scope: this, options })\n  }\n\n  getDocIndex (doc: Document) {\n    for (let i = 0; i < this.documents.length; i++) {\n      if (this.documents[i].doc === doc) {\n        return i\n      }\n    }\n\n    return -1\n  }\n\n  getDocOptions (doc: Document) {\n    const docIndex = this.getDocIndex(doc)\n\n    return docIndex === -1 ? null : this.documents[docIndex].options\n  }\n\n  now () {\n    return (((this.window as any).Date as typeof Date) || Date).now()\n  }\n}\n\nexport function initScope (scope: Scope, window: Window | typeof globalThis) {\n  scope.isInitialized = true\n\n  if (is.window(window)) {\n    win.init(window)\n  }\n\n  domObjects.init(window)\n  browser.init(window)\n  raf.init(window)\n\n  // @ts-expect-error\n  scope.window = window\n  scope.document = window.document\n\n  scope.usePlugin(interactions)\n  scope.usePlugin(events)\n\n  return scope\n}\n\nfunction pluginIdRoot (id: string) {\n  return id && id.replace(/\\/.*$/, '')\n}\n","import { Scope } from '@interactjs/core/scope'\n\nconst scope = new Scope()\n\nconst interact = scope.interactStatic\n\nexport default interact\n\nconst _global = typeof globalThis !== 'undefined' ? globalThis : typeof window !== 'undefined' ? window : this\nscope.init(_global)\n","export default () => {}\n","export default () => {}\n","import type { SnapFunction, SnapTarget } from '@interactjs/modifiers/snap/pointer'\nimport type { Rect, Point } from '@interactjs/types/index'\n\nexport type GridOptions = (Partial<Rect> | Point) & {\n  range?: number\n  limits?: Rect\n  offset?: Point\n}\n\nexport default (grid: GridOptions) => {\n  const coordFields = ([\n    ['x', 'y'],\n    ['left', 'top'],\n    ['right', 'bottom'],\n    ['width', 'height'],\n  ] as const).filter(([xField, yField]) => xField in grid || yField in grid)\n\n  const gridFunc: SnapFunction & {\n    grid: typeof grid\n    coordFields: typeof coordFields\n  } = (x, y) => {\n    const {\n      range,\n      limits = {\n        left: -Infinity,\n        right: Infinity,\n        top: -Infinity,\n        bottom: Infinity,\n      },\n      offset = { x: 0, y: 0 },\n    } = grid\n\n    const result: SnapTarget & {\n      grid: typeof grid\n    } = { range, grid, x: null as number, y: null as number }\n\n    for (const [xField, yField] of coordFields) {\n      const gridx = Math.round((x - offset.x) / (grid as any)[xField])\n      const gridy = Math.round((y - offset.y) / (grid as any)[yField])\n\n      result[xField] = Math.max(limits.left, Math.min(limits.right, gridx * (grid as any)[xField] + offset.x))\n      result[yField] = Math.max(limits.top, Math.min(limits.bottom, gridy * (grid as any)[yField] + offset.y))\n    }\n\n    return result\n  }\n\n  gridFunc.grid = grid\n  gridFunc.coordFields = coordFields\n\n  return gridFunc\n}\n","import type { Plugin } from '@interactjs/core/scope'\nimport extend from '@interactjs/utils/extend'\n\nimport * as allSnappers from './all'\n\ndeclare module '@interactjs/core/InteractStatic' {\n  export interface InteractStatic {\n    snappers: typeof allSnappers\n    createSnapGrid: typeof allSnappers.grid\n  }\n}\n\nconst snappersPlugin: Plugin = {\n  id: 'snappers',\n  install (scope) {\n    const { interactStatic: interact } = scope\n\n    interact.snappers = extend(interact.snappers || {}, allSnappers)\n    interact.createSnapGrid = interact.snappers.grid\n  },\n}\n\nexport default snappersPlugin\n","/**\n * @module modifiers/aspectRatio\n *\n * @description\n * This module forces elements to be resized with a specified dx/dy ratio.\n *\n * ```js\n * interact(target).resizable({\n *   modifiers: [\n *     interact.modifiers.snapSize({\n *       targets: [ interact.snappers.grid({ x: 20, y: 20 }) ],\n *     }),\n *     interact.aspectRatio({ ratio: 'preserve' }),\n *   ],\n * });\n * ```\n */\n\nimport type { Point, Rect, EdgeOptions } from '@interactjs/types/index'\nimport extend from '@interactjs/utils/extend'\nimport { addEdges } from '@interactjs/utils/rect'\n\nimport Modification from './Modification'\nimport type { Modifier, ModifierModule, ModifierState } from './base'\nimport { makeModifier } from './base'\n\nexport interface AspectRatioOptions {\n  ratio?: number | 'preserve'\n  equalDelta?: boolean\n  modifiers?: Modifier[]\n  enabled?: boolean\n}\n\nexport type AspectRatioState = ModifierState<\nAspectRatioOptions,\n{\n  startCoords: Point\n  startRect: Rect\n  linkedEdges: EdgeOptions\n  ratio: number\n  equalDelta: boolean\n  xIsPrimaryAxis: boolean\n  edgeSign: 1 | -1\n  subModification: Modification\n}\n>\n\nconst aspectRatio: ModifierModule<AspectRatioOptions, AspectRatioState> = {\n  start (arg) {\n    const { state, rect, edges: originalEdges, pageCoords: coords } = arg\n    let { ratio } = state.options\n    const { equalDelta, modifiers } = state.options\n\n    if (ratio === 'preserve') {\n      ratio = rect.width / rect.height\n    }\n\n    state.startCoords = extend({}, coords)\n    state.startRect = extend({}, rect)\n    state.ratio = ratio\n    state.equalDelta = equalDelta\n\n    const linkedEdges = (state.linkedEdges = {\n      top: originalEdges.top || (originalEdges.left && !originalEdges.bottom),\n      left: originalEdges.left || (originalEdges.top && !originalEdges.right),\n      bottom: originalEdges.bottom || (originalEdges.right && !originalEdges.top),\n      right: originalEdges.right || (originalEdges.bottom && !originalEdges.left),\n    })\n\n    state.xIsPrimaryAxis = !!(originalEdges.left || originalEdges.right)\n\n    if (state.equalDelta) {\n      state.edgeSign = ((linkedEdges.left ? 1 : -1) * (linkedEdges.top ? 1 : -1)) as 1 | -1\n    } else {\n      const negativeSecondaryEdge = state.xIsPrimaryAxis ? linkedEdges.top : linkedEdges.left\n      state.edgeSign = negativeSecondaryEdge ? -1 : 1\n    }\n\n    extend(arg.edges, linkedEdges)\n\n    if (!modifiers || !modifiers.length) return\n\n    const subModification = new Modification(arg.interaction)\n\n    subModification.copyFrom(arg.interaction.modification)\n    subModification.prepareStates(modifiers)\n\n    state.subModification = subModification\n    subModification.startAll({ ...arg })\n  },\n\n  set (arg) {\n    const { state, rect, coords } = arg\n    const initialCoords = extend({}, coords)\n    const aspectMethod = state.equalDelta ? setEqualDelta : setRatio\n\n    aspectMethod(state, state.xIsPrimaryAxis, coords, rect)\n\n    if (!state.subModification) {\n      return null\n    }\n\n    const correctedRect = extend({}, rect)\n\n    addEdges(state.linkedEdges, correctedRect, {\n      x: coords.x - initialCoords.x,\n      y: coords.y - initialCoords.y,\n    })\n\n    const result = state.subModification.setAll({\n      ...arg,\n      rect: correctedRect,\n      edges: state.linkedEdges,\n      pageCoords: coords,\n      prevCoords: coords,\n      prevRect: correctedRect,\n    })\n\n    const { delta } = result\n\n    if (result.changed) {\n      const xIsCriticalAxis = Math.abs(delta.x) > Math.abs(delta.y)\n\n      // do aspect modification again with critical edge axis as primary\n      aspectMethod(state, xIsCriticalAxis, result.coords, result.rect)\n      extend(coords, result.coords)\n    }\n\n    return result.eventProps\n  },\n\n  defaults: {\n    ratio: 'preserve',\n    equalDelta: false,\n    modifiers: [],\n    enabled: false,\n  },\n}\n\nfunction setEqualDelta ({ startCoords, edgeSign }: AspectRatioState, xIsPrimaryAxis: boolean, coords: Point) {\n  if (xIsPrimaryAxis) {\n    coords.y = startCoords.y + (coords.x - startCoords.x) * edgeSign\n  } else {\n    coords.x = startCoords.x + (coords.y - startCoords.y) * edgeSign\n  }\n}\n\nfunction setRatio (\n  { startRect, startCoords, ratio, edgeSign }: AspectRatioState,\n  xIsPrimaryAxis: boolean,\n  coords: Point,\n  rect: Rect,\n) {\n  if (xIsPrimaryAxis) {\n    const newHeight = rect.width / ratio\n\n    coords.y = startCoords.y + (newHeight - startRect.height) * edgeSign\n  } else {\n    const newWidth = rect.height * ratio\n\n    coords.x = startCoords.x + (newWidth - startRect.width) * edgeSign\n  }\n}\n\nexport default makeModifier(aspectRatio, 'aspectRatio')\nexport { aspectRatio }\n","import type { ModifierFunction } from '@interactjs/modifiers/base'\n\nconst noop = ((() => {}) as unknown) as ModifierFunction<any, any, 'noop'>\n\nnoop._defaults = {}\n\nexport default noop\n","import type Interaction from '@interactjs/core/Interaction'\nimport type { RectResolvable, Rect, Point } from '@interactjs/types/index'\nimport extend from '@interactjs/utils/extend'\nimport is from '@interactjs/utils/is'\nimport * as rectUtils from '@interactjs/utils/rect'\n\nimport type { ModifierArg, ModifierModule, ModifierState } from '../base'\nimport { makeModifier } from '../base'\n\nexport interface RestrictOptions {\n  // where to drag over\n  restriction: RectResolvable<[number, number, Interaction]>\n  // what part of self is allowed to drag over\n  elementRect: Rect\n  offset: Rect\n  // restrict just before the end drag\n  endOnly: boolean\n  enabled?: boolean\n}\n\nexport type RestrictState = ModifierState<\nRestrictOptions,\n{\n  offset: Rect\n}\n>\n\nfunction start ({ rect, startOffset, state, interaction, pageCoords }: ModifierArg<RestrictState>) {\n  const { options } = state\n  const { elementRect } = options\n  const offset: Rect = extend(\n    {\n      left: 0,\n      top: 0,\n      right: 0,\n      bottom: 0,\n    },\n    options.offset || {},\n  )\n\n  if (rect && elementRect) {\n    const restriction = getRestrictionRect(options.restriction, interaction, pageCoords)\n\n    if (restriction) {\n      const widthDiff = restriction.right - restriction.left - rect.width\n      const heightDiff = restriction.bottom - restriction.top - rect.height\n\n      if (widthDiff < 0) {\n        offset.left += widthDiff\n        offset.right += widthDiff\n      }\n      if (heightDiff < 0) {\n        offset.top += heightDiff\n        offset.bottom += heightDiff\n      }\n    }\n\n    offset.left += startOffset.left - rect.width * elementRect.left\n    offset.top += startOffset.top - rect.height * elementRect.top\n\n    offset.right += startOffset.right - rect.width * (1 - elementRect.right)\n    offset.bottom += startOffset.bottom - rect.height * (1 - elementRect.bottom)\n  }\n\n  state.offset = offset\n}\n\nfunction set ({ coords, interaction, state }: ModifierArg<RestrictState>) {\n  const { options, offset } = state\n\n  const restriction = getRestrictionRect(options.restriction, interaction, coords)\n\n  if (!restriction) return\n\n  const rect = rectUtils.xywhToTlbr(restriction)\n\n  coords.x = Math.max(Math.min(rect.right - offset.right, coords.x), rect.left + offset.left)\n  coords.y = Math.max(Math.min(rect.bottom - offset.bottom, coords.y), rect.top + offset.top)\n}\n\nexport function getRestrictionRect (\n  value: RectResolvable<[number, number, Interaction]>,\n  interaction: Interaction,\n  coords?: Point,\n) {\n  if (is.func(value)) {\n    return rectUtils.resolveRectLike(value, interaction.interactable, interaction.element, [\n      coords.x,\n      coords.y,\n      interaction,\n    ])\n  } else {\n    return rectUtils.resolveRectLike(value, interaction.interactable, interaction.element)\n  }\n}\n\nconst defaults: RestrictOptions = {\n  restriction: null,\n  elementRect: null,\n  offset: null,\n  endOnly: false,\n  enabled: false,\n}\n\nconst restrict: ModifierModule<RestrictOptions, RestrictState> = {\n  start,\n  set,\n  defaults,\n}\n\nexport default makeModifier(restrict, 'restrict')\nexport { restrict }\n","// This module adds the options.resize.restrictEdges setting which sets min and\n// max for the top, left, bottom and right edges of the target being resized.\n//\n// interact(target).resize({\n//   edges: { top: true, left: true },\n//   restrictEdges: {\n//     inner: { top: 200, left: 200, right: 400, bottom: 400 },\n//     outer: { top:   0, left:   0, right: 600, bottom: 600 },\n//   },\n// })\n\nimport type { Point, Rect } from '@interactjs/types/index'\nimport extend from '@interactjs/utils/extend'\nimport * as rectUtils from '@interactjs/utils/rect'\n\nimport type { ModifierArg, ModifierState } from '../base'\nimport { makeModifier } from '../base'\n\nimport type { RestrictOptions } from './pointer'\nimport { getRestrictionRect } from './pointer'\n\nexport interface RestrictEdgesOptions {\n  inner: RestrictOptions['restriction']\n  outer: RestrictOptions['restriction']\n  offset?: RestrictOptions['offset']\n  endOnly: boolean\n  enabled?: boolean\n}\n\nexport type RestrictEdgesState = ModifierState<\nRestrictEdgesOptions,\n{\n  inner: Rect\n  outer: Rect\n  offset: RestrictEdgesOptions['offset']\n}\n>\n\nconst noInner = { top: +Infinity, left: +Infinity, bottom: -Infinity, right: -Infinity }\nconst noOuter = { top: -Infinity, left: -Infinity, bottom: +Infinity, right: +Infinity }\n\nfunction start ({ interaction, startOffset, state }: ModifierArg<RestrictEdgesState>) {\n  const { options } = state\n  let offset: Point\n\n  if (options) {\n    const offsetRect = getRestrictionRect(options.offset, interaction, interaction.coords.start.page)\n\n    offset = rectUtils.rectToXY(offsetRect)\n  }\n\n  offset = offset || { x: 0, y: 0 }\n\n  state.offset = {\n    top: offset.y + startOffset.top,\n    left: offset.x + startOffset.left,\n    bottom: offset.y - startOffset.bottom,\n    right: offset.x - startOffset.right,\n  }\n}\n\nfunction set ({ coords, edges, interaction, state }: ModifierArg<RestrictEdgesState>) {\n  const { offset, options } = state\n\n  if (!edges) {\n    return\n  }\n\n  const page = extend({}, coords)\n  const inner = getRestrictionRect(options.inner, interaction, page) || ({} as Rect)\n  const outer = getRestrictionRect(options.outer, interaction, page) || ({} as Rect)\n\n  fixRect(inner, noInner)\n  fixRect(outer, noOuter)\n\n  if (edges.top) {\n    coords.y = Math.min(Math.max(outer.top + offset.top, page.y), inner.top + offset.top)\n  } else if (edges.bottom) {\n    coords.y = Math.max(Math.min(outer.bottom + offset.bottom, page.y), inner.bottom + offset.bottom)\n  }\n  if (edges.left) {\n    coords.x = Math.min(Math.max(outer.left + offset.left, page.x), inner.left + offset.left)\n  } else if (edges.right) {\n    coords.x = Math.max(Math.min(outer.right + offset.right, page.x), inner.right + offset.right)\n  }\n}\n\nfunction fixRect (rect: Rect, defaults: Rect) {\n  for (const edge of ['top', 'left', 'bottom', 'right']) {\n    if (!(edge in rect)) {\n      rect[edge] = defaults[edge]\n    }\n  }\n\n  return rect\n}\n\nconst defaults: RestrictEdgesOptions = {\n  inner: null,\n  outer: null,\n  offset: null,\n  endOnly: false,\n  enabled: false,\n}\n\nconst restrictEdges = {\n  noInner,\n  noOuter,\n  start,\n  set,\n  defaults,\n}\n\nexport default makeModifier(restrictEdges, 'restrictEdges')\nexport { restrictEdges }\n","import extend from '@interactjs/utils/extend'\n\nimport { makeModifier } from '../base'\n\nimport { restrict } from './pointer'\n\nconst defaults = extend(\n  {\n    get elementRect () {\n      return { top: 0, left: 0, bottom: 1, right: 1 }\n    },\n    set elementRect (_) {},\n  },\n  restrict.defaults,\n)\n\nconst restrictRect = {\n  start: restrict.start,\n  set: restrict.set,\n  defaults,\n}\n\nexport default makeModifier(restrictRect, 'restrictRect')\nexport { restrictRect }\n","import type { Point, Rect, Size } from '@interactjs/types/index'\nimport extend from '@interactjs/utils/extend'\nimport * as rectUtils from '@interactjs/utils/rect'\n\nimport type { ModifierArg, ModifierState } from '../base'\nimport { makeModifier } from '../base'\n\nimport type { RestrictEdgesState } from './edges'\nimport { restrictEdges } from './edges'\nimport type { RestrictOptions } from './pointer'\nimport { getRestrictionRect } from './pointer'\n\nconst noMin = { width: -Infinity, height: -Infinity }\nconst noMax = { width: +Infinity, height: +Infinity }\n\nexport interface RestrictSizeOptions {\n  min?: Size | Point | RestrictOptions['restriction']\n  max?: Size | Point | RestrictOptions['restriction']\n  endOnly: boolean\n  enabled?: boolean\n}\n\nfunction start (arg: ModifierArg<RestrictEdgesState>) {\n  return restrictEdges.start(arg)\n}\n\nexport type RestrictSizeState = RestrictEdgesState &\nModifierState<\nRestrictSizeOptions & { inner: Rect, outer: Rect },\n{\n  min: Rect\n  max: Rect\n}\n>\n\nfunction set (arg: ModifierArg<RestrictSizeState>) {\n  const { interaction, state, rect, edges } = arg\n  const { options } = state\n\n  if (!edges) {\n    return\n  }\n\n  const minSize =\n    rectUtils.tlbrToXywh(getRestrictionRect(options.min as any, interaction, arg.coords)) || noMin\n  const maxSize =\n    rectUtils.tlbrToXywh(getRestrictionRect(options.max as any, interaction, arg.coords)) || noMax\n\n  state.options = {\n    endOnly: options.endOnly,\n    inner: extend({}, restrictEdges.noInner),\n    outer: extend({}, restrictEdges.noOuter),\n  }\n\n  if (edges.top) {\n    state.options.inner.top = rect.bottom - minSize.height\n    state.options.outer.top = rect.bottom - maxSize.height\n  } else if (edges.bottom) {\n    state.options.inner.bottom = rect.top + minSize.height\n    state.options.outer.bottom = rect.top + maxSize.height\n  }\n  if (edges.left) {\n    state.options.inner.left = rect.right - minSize.width\n    state.options.outer.left = rect.right - maxSize.width\n  } else if (edges.right) {\n    state.options.inner.right = rect.left + minSize.width\n    state.options.outer.right = rect.left + maxSize.width\n  }\n\n  restrictEdges.set(arg)\n\n  state.options = options\n}\n\nconst defaults: RestrictSizeOptions = {\n  min: null,\n  max: null,\n  endOnly: false,\n  enabled: false,\n}\n\nconst restrictSize = {\n  start,\n  set,\n  defaults,\n}\n\nexport default makeModifier(restrictSize, 'restrictSize')\nexport { restrictSize }\n","import type { Interaction, InteractionProxy } from '@interactjs/core/Interaction'\nimport type { ActionName } from '@interactjs/core/scope'\nimport type { Point, RectResolvable, Element } from '@interactjs/types/index'\nimport extend from '@interactjs/utils/extend'\nimport getOriginXY from '@interactjs/utils/getOriginXY'\nimport hypot from '@interactjs/utils/hypot'\nimport is from '@interactjs/utils/is'\nimport { resolveRectLike, rectToXY } from '@interactjs/utils/rect'\n\nimport type { ModifierArg, ModifierState } from '../base'\nimport { makeModifier } from '../base'\n\nexport interface Offset {\n  x: number\n  y: number\n  index: number\n  relativePoint?: Point | null\n}\n\nexport interface SnapPosition {\n  x?: number\n  y?: number\n  range?: number\n  offset?: Offset\n  [index: string]: any\n}\n\nexport type SnapFunction = (\n  x: number,\n  y: number,\n  interaction: InteractionProxy<ActionName>,\n  offset: Offset,\n  index: number,\n) => SnapPosition\nexport type SnapTarget = SnapPosition | SnapFunction\nexport interface SnapOptions {\n  targets: SnapTarget[] | null\n  // target range\n  range: number\n  // self points for snapping. [0,0] = top left, [1,1] = bottom right\n  relativePoints: Point[] | null\n  // startCoords = offset snapping from drag start page position\n  offset: Point | RectResolvable<[Interaction]> | 'startCoords' | null\n  offsetWithOrigin?: boolean\n  origin: RectResolvable<[Element]> | Point | null\n  endOnly?: boolean\n  enabled?: boolean\n}\n\nexport type SnapState = ModifierState<\nSnapOptions,\n{\n  offsets?: Offset[]\n  closest?: any\n  targetFields?: string[][]\n}\n>\n\nfunction start (arg: ModifierArg<SnapState>) {\n  const { interaction, interactable, element, rect, state, startOffset } = arg\n  const { options } = state\n  const origin = options.offsetWithOrigin ? getOrigin(arg) : { x: 0, y: 0 }\n\n  let snapOffset: Point\n\n  if (options.offset === 'startCoords') {\n    snapOffset = {\n      x: interaction.coords.start.page.x,\n      y: interaction.coords.start.page.y,\n    }\n  } else {\n    const offsetRect = resolveRectLike(options.offset as any, interactable, element, [interaction])\n\n    snapOffset = rectToXY(offsetRect) || { x: 0, y: 0 }\n    snapOffset.x += origin.x\n    snapOffset.y += origin.y\n  }\n\n  const { relativePoints } = options\n\n  state.offsets =\n    rect && relativePoints && relativePoints.length\n      ? relativePoints.map((relativePoint, index) => ({\n        index,\n        relativePoint,\n        x: startOffset.left - rect.width * relativePoint.x + snapOffset.x,\n        y: startOffset.top - rect.height * relativePoint.y + snapOffset.y,\n      }))\n      : [\n        {\n          index: 0,\n          relativePoint: null,\n          x: snapOffset.x,\n          y: snapOffset.y,\n        },\n      ]\n}\n\nfunction set (arg: ModifierArg<SnapState>) {\n  const { interaction, coords, state } = arg\n  const { options, offsets } = state\n\n  const origin = getOriginXY(interaction.interactable, interaction.element, interaction.prepared.name)\n  const page = extend({}, coords)\n  const targets = []\n\n  if (!options.offsetWithOrigin) {\n    page.x -= origin.x\n    page.y -= origin.y\n  }\n\n  for (const offset of offsets) {\n    const relativeX = page.x - offset.x\n    const relativeY = page.y - offset.y\n\n    for (let index = 0, len = options.targets.length; index < len; index++) {\n      const snapTarget = options.targets[index]\n      let target: SnapPosition\n\n      if (is.func(snapTarget)) {\n        target = snapTarget(relativeX, relativeY, interaction._proxy, offset, index)\n      } else {\n        target = snapTarget\n      }\n\n      if (!target) {\n        continue\n      }\n\n      targets.push({\n        x: (is.number(target.x) ? target.x : relativeX) + offset.x,\n        y: (is.number(target.y) ? target.y : relativeY) + offset.y,\n\n        range: is.number(target.range) ? target.range : options.range,\n        source: snapTarget,\n        index,\n        offset,\n      })\n    }\n  }\n\n  const closest = {\n    target: null,\n    inRange: false,\n    distance: 0,\n    range: 0,\n    delta: { x: 0, y: 0 },\n  }\n\n  for (const target of targets) {\n    const range = target.range\n    const dx = target.x - page.x\n    const dy = target.y - page.y\n    const distance = hypot(dx, dy)\n    let inRange = distance <= range\n\n    // Infinite targets count as being out of range\n    // compared to non infinite ones that are in range\n    if (range === Infinity && closest.inRange && closest.range !== Infinity) {\n      inRange = false\n    }\n\n    if (\n      !closest.target ||\n      (inRange\n        ? // is the closest target in range?\n        closest.inRange && range !== Infinity\n          ? // the pointer is relatively deeper in this target\n          distance / range < closest.distance / closest.range\n          : // this target has Infinite range and the closest doesn't\n          (range === Infinity && closest.range !== Infinity) ||\n            // OR this target is closer that the previous closest\n            distance < closest.distance\n        : // The other is not in range and the pointer is closer to this target\n        !closest.inRange && distance < closest.distance)\n    ) {\n      closest.target = target\n      closest.distance = distance\n      closest.range = range\n      closest.inRange = inRange\n      closest.delta.x = dx\n      closest.delta.y = dy\n    }\n  }\n\n  if (closest.inRange) {\n    coords.x = closest.target.x\n    coords.y = closest.target.y\n  }\n\n  state.closest = closest\n  return closest\n}\n\nfunction getOrigin (arg: Partial<ModifierArg<SnapState>>) {\n  const { element } = arg.interaction\n  const optionsOrigin = rectToXY(resolveRectLike(arg.state.options.origin as any, null, null, [element]))\n  const origin = optionsOrigin || getOriginXY(arg.interactable, element, arg.interaction.prepared.name)\n\n  return origin\n}\n\nconst defaults: SnapOptions = {\n  range: Infinity,\n  targets: null,\n  offset: null,\n  offsetWithOrigin: true,\n  origin: null,\n  relativePoints: null,\n  endOnly: false,\n  enabled: false,\n}\nconst snap = {\n  start,\n  set,\n  defaults,\n}\n\nexport default makeModifier(snap, 'snap')\nexport { snap }\n","// This module allows snapping of the size of targets during resize\n// interactions.\n\nimport extend from '@interactjs/utils/extend'\nimport is from '@interactjs/utils/is'\n\nimport type { ModifierArg } from '../base'\nimport { makeModifier } from '../base'\n\nimport type { SnapOptions, SnapState } from './pointer'\nimport { snap } from './pointer'\n\nexport type SnapSizeOptions = Pick<SnapOptions, 'targets' | 'offset' | 'endOnly' | 'range' | 'enabled'>\n\nfunction start (arg: ModifierArg<SnapState>) {\n  const { state, edges } = arg\n  const { options } = state\n\n  if (!edges) {\n    return null\n  }\n\n  arg.state = {\n    options: {\n      targets: null,\n      relativePoints: [\n        {\n          x: edges.left ? 0 : 1,\n          y: edges.top ? 0 : 1,\n        },\n      ],\n      offset: options.offset || 'self',\n      origin: { x: 0, y: 0 },\n      range: options.range,\n    },\n  }\n\n  state.targetFields = state.targetFields || [\n    ['width', 'height'],\n    ['x', 'y'],\n  ]\n\n  snap.start(arg)\n  state.offsets = arg.state.offsets\n\n  arg.state = state\n}\n\nfunction set (arg) {\n  const { interaction, state, coords } = arg\n  const { options, offsets } = state\n  const relative = {\n    x: coords.x - offsets[0].x,\n    y: coords.y - offsets[0].y,\n  }\n\n  state.options = extend({}, options)\n  state.options.targets = []\n\n  for (const snapTarget of options.targets || []) {\n    let target\n\n    if (is.func(snapTarget)) {\n      target = snapTarget(relative.x, relative.y, interaction)\n    } else {\n      target = snapTarget\n    }\n\n    if (!target) {\n      continue\n    }\n\n    for (const [xField, yField] of state.targetFields) {\n      if (xField in target || yField in target) {\n        target.x = target[xField]\n        target.y = target[yField]\n\n        break\n      }\n    }\n\n    state.options.targets.push(target)\n  }\n\n  const returnValue = snap.set(arg)\n\n  state.options = options\n\n  return returnValue\n}\n\nconst defaults: SnapSizeOptions = {\n  range: Infinity,\n  targets: null,\n  offset: null,\n  endOnly: false,\n  enabled: false,\n}\n\nconst snapSize = {\n  start,\n  set,\n  defaults,\n}\n\nexport default makeModifier(snapSize, 'snapSize')\nexport { snapSize }\n","/**\n * @module modifiers/snapEdges\n *\n * @description\n * WOW> This module allows snapping of the edges of targets during resize\n * interactions.\n *\n * ```js\n * interact(target).resizable({\n *   snapEdges: {\n *     targets: [interact.snappers.grid({ x: 100, y: 50 })],\n *   },\n * })\n *\n * interact(target).resizable({\n *   snapEdges: {\n *     targets: [\n *       interact.snappers.grid({\n *        top: 50,\n *        left: 50,\n *        bottom: 100,\n *        right: 100,\n *       }),\n *     ],\n *   },\n * })\n * ```\n */\n\nimport clone from '@interactjs/utils/clone'\nimport extend from '@interactjs/utils/extend'\n\nimport type { ModifierArg, ModifierModule } from '../base'\nimport { makeModifier } from '../base'\n\nimport type { SnapOptions, SnapState } from './pointer'\nimport { snapSize } from './size'\n\nexport type SnapEdgesOptions = Pick<SnapOptions, 'targets' | 'range' | 'offset' | 'endOnly' | 'enabled'>\n\nfunction start (arg: ModifierArg<SnapState>) {\n  const { edges } = arg\n\n  if (!edges) {\n    return null\n  }\n\n  arg.state.targetFields = arg.state.targetFields || [\n    [edges.left ? 'left' : 'right', edges.top ? 'top' : 'bottom'],\n  ]\n\n  return snapSize.start(arg)\n}\n\nconst snapEdges: ModifierModule<SnapEdgesOptions, SnapState, ReturnType<typeof snapSize.set>> = {\n  start,\n  set: snapSize.set,\n  defaults: extend(clone(snapSize.defaults), {\n    targets: null,\n    range: null,\n    offset: { x: 0, y: 0 },\n  } as const),\n}\n\nexport default makeModifier(snapEdges, 'snapEdges')\nexport { snapEdges }\n","/* eslint-disable node/no-extraneous-import, import/no-unresolved */\nimport aspectRatio from './aspectRatio'\nimport avoid from './avoid/avoid'\nimport restrictEdges from './restrict/edges'\nimport restrict from './restrict/pointer'\nimport restrictRect from './restrict/rect'\nimport restrictSize from './restrict/size'\nimport rubberband from './rubberband/rubberband'\nimport snapEdges from './snap/edges'\nimport snap from './snap/pointer'\nimport snapSize from './snap/size'\nimport spring from './spring/spring'\nimport transform from './transform/transform'\n\nexport default {\n  aspectRatio,\n  restrictEdges,\n  restrict,\n  restrictRect,\n  restrictSize,\n  snapEdges,\n  snap,\n  snapSize,\n\n  spring,\n  avoid,\n  transform,\n  rubberband,\n}\n","import type { Plugin } from '@interactjs/core/scope'\nimport snappers from '@interactjs/snappers/plugin'\n\nimport all from './all'\nimport base from './base'\n\ndeclare module '@interactjs/core/InteractStatic' {\n  export interface InteractStatic {\n    modifiers: typeof all\n  }\n}\n\nconst modifiers: Plugin = {\n  id: 'modifiers',\n  install (scope) {\n    const { interactStatic: interact } = scope\n\n    scope.usePlugin(base)\n    scope.usePlugin(snappers)\n\n    interact.modifiers = all\n\n    // for backwrads compatibility\n    for (const type in all) {\n      const { _defaults, _methods } = all[type as keyof typeof all]\n\n      ;(_defaults as any)._methods = _methods\n      ;(scope.defaults.perAction as any)[type] = _defaults\n    }\n  },\n}\n\nexport default modifiers\n","import { BaseEvent } from '@interactjs/core/BaseEvent'\nimport type Interaction from '@interactjs/core/Interaction'\nimport type { PointerEventType, PointerType, Point } from '@interactjs/types/index'\nimport * as pointerUtils from '@interactjs/utils/pointerUtils'\n\nexport default class PointerEvent<T extends string = any> extends BaseEvent<never> {\n  type: T\n  originalEvent: PointerEventType\n  pointerId: number\n  pointerType: string\n  double: boolean\n  pageX: number\n  pageY: number\n  clientX: number\n  clientY: number\n  dt: number\n  eventable: any;\n  [key: string]: any\n\n  /** */\n  constructor (\n    type: T,\n    pointer: PointerType | PointerEvent<any>,\n    event: PointerEventType,\n    eventTarget: Node,\n    interaction: Interaction<never>,\n    timeStamp: number,\n  ) {\n    super(interaction)\n    pointerUtils.pointerExtend(this, event)\n\n    if (event !== pointer) {\n      pointerUtils.pointerExtend(this, pointer)\n    }\n\n    this.timeStamp = timeStamp\n    this.originalEvent = event\n    this.type = type\n    this.pointerId = pointerUtils.getPointerId(pointer)\n    this.pointerType = pointerUtils.getPointerType(pointer)\n    this.target = eventTarget\n    this.currentTarget = null\n\n    if (type === 'tap') {\n      const pointerIndex = interaction.getPointerIndex(pointer)\n      this.dt = this.timeStamp - interaction.pointers[pointerIndex].downTime\n\n      const interval = this.timeStamp - interaction.tapTime\n\n      this.double = !!(\n        interaction.prevTap &&\n        interaction.prevTap.type !== 'doubletap' &&\n        interaction.prevTap.target === this.target &&\n        interval < 500\n      )\n    } else if (type === 'doubletap') {\n      this.dt = (pointer as PointerEvent<'tap'>).timeStamp - interaction.tapTime\n    }\n  }\n\n  _subtractOrigin ({ x: originX, y: originY }: Point) {\n    this.pageX -= originX\n    this.pageY -= originY\n    this.clientX -= originX\n    this.clientY -= originY\n\n    return this\n  }\n\n  _addOrigin ({ x: originX, y: originY }: Point) {\n    this.pageX += originX\n    this.pageY += originY\n    this.clientX += originX\n    this.clientY += originY\n\n    return this\n  }\n\n  /**\n   * Prevent the default behaviour of the original Event\n   */\n  preventDefault () {\n    this.originalEvent.preventDefault()\n  }\n}\n\nexport { PointerEvent }\n","import type { Eventable } from '@interactjs/core/Eventable'\nimport type { Interaction } from '@interactjs/core/Interaction'\nimport type { PerActionDefaults } from '@interactjs/core/options'\nimport type { Scope, SignalArgs, Plugin } from '@interactjs/core/scope'\nimport type { Point, PointerType, PointerEventType, Element } from '@interactjs/types'\nimport * as domUtils from '@interactjs/utils/domUtils'\nimport extend from '@interactjs/utils/extend'\nimport getOriginXY from '@interactjs/utils/getOriginXY'\n\nimport { PointerEvent } from './PointerEvent'\n\nexport type EventTargetList = Array<{\n  node: Node\n  eventable: Eventable\n  props: { [key: string]: any }\n}>\n\nexport interface PointerEventOptions extends PerActionDefaults {\n  enabled?: undefined // not used\n  holdDuration?: number\n  ignoreFrom?: any\n  allowFrom?: any\n  origin?: Point | string | Element\n}\n\ndeclare module '@interactjs/core/scope' {\n  interface Scope {\n    pointerEvents: typeof pointerEvents\n  }\n}\n\ndeclare module '@interactjs/core/Interaction' {\n  interface Interaction {\n    prevTap?: PointerEvent<string>\n    tapTime?: number\n  }\n}\n\ndeclare module '@interactjs/core/PointerInfo' {\n  interface PointerInfo {\n    hold?: {\n      duration: number\n      timeout: any\n    }\n  }\n}\n\ndeclare module '@interactjs/core/options' {\n  interface ActionDefaults {\n    pointerEvents: Options\n  }\n}\n\ndeclare module '@interactjs/core/scope' {\n  interface SignalArgs {\n    'pointerEvents:new': { pointerEvent: PointerEvent<any> }\n    'pointerEvents:fired': {\n      interaction: Interaction<null>\n      pointer: PointerType | PointerEvent<any>\n      event: PointerEventType | PointerEvent<any>\n      eventTarget: Node\n      pointerEvent: PointerEvent<any>\n      targets?: EventTargetList\n      type: string\n    }\n    'pointerEvents:collect-targets': {\n      interaction: Interaction<any>\n      pointer: PointerType | PointerEvent<any>\n      event: PointerEventType | PointerEvent<any>\n      eventTarget: Node\n      targets?: EventTargetList\n      type: string\n      path: Node[]\n      node: null\n    }\n  }\n}\n\nconst defaults: PointerEventOptions = {\n  holdDuration: 600,\n  ignoreFrom: null,\n  allowFrom: null,\n  origin: { x: 0, y: 0 },\n}\n\nconst pointerEvents: Plugin = {\n  id: 'pointer-events/base',\n  before: ['inertia', 'modifiers', 'auto-start', 'actions'],\n  install,\n  listeners: {\n    'interactions:new': addInteractionProps,\n    'interactions:update-pointer': addHoldInfo,\n    'interactions:move': moveAndClearHold,\n    'interactions:down': (arg, scope) => {\n      downAndStartHold(arg, scope)\n      fire(arg, scope)\n    },\n    'interactions:up': (arg, scope) => {\n      clearHold(arg)\n      fire(arg, scope)\n      tapAfterUp(arg, scope)\n    },\n    'interactions:cancel': (arg, scope) => {\n      clearHold(arg)\n      fire(arg, scope)\n    },\n  },\n  PointerEvent,\n  fire,\n  collectEventTargets,\n  defaults,\n  types: {\n    down: true,\n    move: true,\n    up: true,\n    cancel: true,\n    tap: true,\n    doubletap: true,\n    hold: true,\n  } as { [type: string]: true },\n}\n\nfunction fire<T extends string> (\n  arg: {\n    pointer: PointerType | PointerEvent<any>\n    event: PointerEventType | PointerEvent<any>\n    eventTarget: Node\n    interaction: Interaction<never>\n    type: T\n    targets?: EventTargetList\n  },\n  scope: Scope,\n) {\n  const { interaction, pointer, event, eventTarget, type, targets = collectEventTargets(arg, scope) } = arg\n\n  const pointerEvent = new PointerEvent(type, pointer, event, eventTarget, interaction, scope.now())\n\n  scope.fire('pointerEvents:new', { pointerEvent })\n\n  const signalArg = {\n    interaction,\n    pointer,\n    event,\n    eventTarget,\n    targets,\n    type,\n    pointerEvent,\n  }\n\n  for (let i = 0; i < targets.length; i++) {\n    const target = targets[i]\n\n    for (const prop in target.props || {}) {\n      ;(pointerEvent as any)[prop] = target.props[prop]\n    }\n\n    const origin = getOriginXY(target.eventable, target.node)\n\n    pointerEvent._subtractOrigin(origin)\n    pointerEvent.eventable = target.eventable\n    pointerEvent.currentTarget = target.node\n\n    target.eventable.fire(pointerEvent)\n\n    pointerEvent._addOrigin(origin)\n\n    if (\n      pointerEvent.immediatePropagationStopped ||\n      (pointerEvent.propagationStopped &&\n        i + 1 < targets.length &&\n        targets[i + 1].node !== pointerEvent.currentTarget)\n    ) {\n      break\n    }\n  }\n\n  scope.fire('pointerEvents:fired', signalArg)\n\n  if (type === 'tap') {\n    // if pointerEvent should make a double tap, create and fire a doubletap\n    // PointerEvent and use that as the prevTap\n    const prevTap = pointerEvent.double\n      ? fire(\n        {\n          interaction,\n          pointer,\n          event,\n          eventTarget,\n          type: 'doubletap',\n        },\n        scope,\n      )\n      : pointerEvent\n\n    interaction.prevTap = prevTap\n    interaction.tapTime = prevTap.timeStamp\n  }\n\n  return pointerEvent\n}\n\nfunction collectEventTargets<T extends string> (\n  {\n    interaction,\n    pointer,\n    event,\n    eventTarget,\n    type,\n  }: {\n    interaction: Interaction<any>\n    pointer: PointerType | PointerEvent<any>\n    event: PointerEventType | PointerEvent<any>\n    eventTarget: Node\n    type: T\n  },\n  scope: Scope,\n) {\n  const pointerIndex = interaction.getPointerIndex(pointer)\n  const pointerInfo = interaction.pointers[pointerIndex]\n\n  // do not fire a tap event if the pointer was moved before being lifted\n  if (\n    type === 'tap' &&\n    (interaction.pointerWasMoved ||\n      // or if the pointerup target is different to the pointerdown target\n      !(pointerInfo && pointerInfo.downTarget === eventTarget))\n  ) {\n    return []\n  }\n\n  const path = domUtils.getPath(eventTarget as Element | Document)\n  const signalArg = {\n    interaction,\n    pointer,\n    event,\n    eventTarget,\n    type,\n    path,\n    targets: [] as EventTargetList,\n    node: null,\n  }\n\n  for (const node of path) {\n    signalArg.node = node\n\n    scope.fire('pointerEvents:collect-targets', signalArg)\n  }\n\n  if (type === 'hold') {\n    signalArg.targets = signalArg.targets.filter(\n      (target) => target.eventable.options.holdDuration === interaction.pointers[pointerIndex]?.hold.duration,\n    )\n  }\n\n  return signalArg.targets\n}\n\nfunction addInteractionProps ({ interaction }) {\n  interaction.prevTap = null // the most recent tap event on this interaction\n  interaction.tapTime = 0 // time of the most recent tap event\n}\n\nfunction addHoldInfo ({ down, pointerInfo }: SignalArgs['interactions:update-pointer']) {\n  if (!down && pointerInfo.hold) {\n    return\n  }\n\n  pointerInfo.hold = { duration: Infinity, timeout: null }\n}\n\nfunction clearHold ({ interaction, pointerIndex }) {\n  const hold = interaction.pointers[pointerIndex].hold\n\n  if (hold && hold.timeout) {\n    clearTimeout(hold.timeout)\n    hold.timeout = null\n  }\n}\n\nfunction moveAndClearHold (arg: SignalArgs['interactions:move'], scope: Scope) {\n  const { interaction, pointer, event, eventTarget, duplicate } = arg\n\n  if (!duplicate && (!interaction.pointerIsDown || interaction.pointerWasMoved)) {\n    if (interaction.pointerIsDown) {\n      clearHold(arg)\n    }\n\n    fire(\n      {\n        interaction,\n        pointer,\n        event,\n        eventTarget: eventTarget as Element,\n        type: 'move',\n      },\n      scope,\n    )\n  }\n}\n\nfunction downAndStartHold (\n  { interaction, pointer, event, eventTarget, pointerIndex }: SignalArgs['interactions:down'],\n  scope: Scope,\n) {\n  const timer = interaction.pointers[pointerIndex].hold\n  const path = domUtils.getPath(eventTarget as Element | Document)\n  const signalArg = {\n    interaction,\n    pointer,\n    event,\n    eventTarget,\n    type: 'hold',\n    targets: [] as EventTargetList,\n    path,\n    node: null,\n  }\n\n  for (const node of path) {\n    signalArg.node = node\n\n    scope.fire('pointerEvents:collect-targets', signalArg)\n  }\n\n  if (!signalArg.targets.length) return\n\n  let minDuration = Infinity\n\n  for (const target of signalArg.targets) {\n    const holdDuration = target.eventable.options.holdDuration\n\n    if (holdDuration < minDuration) {\n      minDuration = holdDuration\n    }\n  }\n\n  timer.duration = minDuration\n  timer.timeout = setTimeout(() => {\n    fire(\n      {\n        interaction,\n        eventTarget,\n        pointer,\n        event,\n        type: 'hold',\n      },\n      scope,\n    )\n  }, minDuration)\n}\n\nfunction tapAfterUp (\n  { interaction, pointer, event, eventTarget }: SignalArgs['interactions:up'],\n  scope: Scope,\n) {\n  if (!interaction.pointerWasMoved) {\n    fire({ interaction, eventTarget, pointer, event, type: 'tap' }, scope)\n  }\n}\n\nfunction install (scope: Scope) {\n  scope.pointerEvents = pointerEvents\n  scope.defaults.actions.pointerEvents = pointerEvents.defaults\n  extend(scope.actions.phaselessTypes, pointerEvents.types)\n}\n\nexport default pointerEvents\n","import type Interaction from '@interactjs/core/Interaction'\nimport type { ListenerMap, Scope, SignalArgs, Plugin } from '@interactjs/core/scope'\n\nimport type PointerEvent from './PointerEvent'\nimport basePlugin from './base'\n\ndeclare module '@interactjs/core/Interaction' {\n  interface Interaction {\n    holdIntervalHandle?: any\n  }\n}\n\ndeclare module '@interactjs/pointer-events/PointerEvent' {\n  interface PointerEvent<T extends string = any> {\n    count?: number\n  }\n}\n\ndeclare module '@interactjs/pointer-events/base' {\n  interface PointerEventOptions {\n    holdRepeatInterval?: number\n  }\n}\n\nfunction install (scope: Scope) {\n  scope.usePlugin(basePlugin)\n\n  const { pointerEvents } = scope\n\n  // don't repeat by default\n  pointerEvents.defaults.holdRepeatInterval = 0\n  pointerEvents.types.holdrepeat = scope.actions.phaselessTypes.holdrepeat = true\n}\n\nfunction onNew ({ pointerEvent }: { pointerEvent: PointerEvent<any> }) {\n  if (pointerEvent.type !== 'hold') return\n\n  pointerEvent.count = (pointerEvent.count || 0) + 1\n}\n\nfunction onFired (\n  { interaction, pointerEvent, eventTarget, targets }: SignalArgs['pointerEvents:fired'],\n  scope: Scope,\n) {\n  if (pointerEvent.type !== 'hold' || !targets.length) return\n\n  // get the repeat interval from the first eventable\n  const interval = targets[0].eventable.options.holdRepeatInterval\n\n  // don't repeat if the interval is 0 or less\n  if (interval <= 0) return\n\n  // set a timeout to fire the holdrepeat event\n  interaction.holdIntervalHandle = setTimeout(() => {\n    scope.pointerEvents.fire(\n      {\n        interaction,\n        eventTarget,\n        type: 'hold',\n        pointer: pointerEvent,\n        event: pointerEvent,\n      },\n      scope,\n    )\n  }, interval)\n}\n\nfunction endHoldRepeat ({ interaction }: { interaction: Interaction }) {\n  // set the interaction's holdStopTime property\n  // to stop further holdRepeat events\n  if (interaction.holdIntervalHandle) {\n    clearInterval(interaction.holdIntervalHandle)\n    interaction.holdIntervalHandle = null\n  }\n}\n\nconst holdRepeat: Plugin = {\n  id: 'pointer-events/holdRepeat',\n  install,\n  listeners: ['move', 'up', 'cancel', 'endall'].reduce(\n    (acc, enderTypes) => {\n      ;(acc as any)[`pointerEvents:${enderTypes}`] = endHoldRepeat\n      return acc\n    },\n    {\n      'pointerEvents:new': onNew,\n      'pointerEvents:fired': onFired,\n    } as ListenerMap,\n  ),\n}\n\nexport default holdRepeat\n","import type { Interactable } from '@interactjs/core/Interactable'\nimport type { Scope, Plugin } from '@interactjs/core/scope'\nimport type { Element } from '@interactjs/types/index'\nimport extend from '@interactjs/utils/extend'\n\ndeclare module '@interactjs/core/Interactable' {\n  interface Interactable {\n    pointerEvents: typeof pointerEventsMethod\n    __backCompatOption: (optionName: string, newValue: any) => any\n  }\n}\n\nfunction install (scope: Scope) {\n  const { Interactable } = scope\n\n  Interactable.prototype.pointerEvents = pointerEventsMethod\n\n  const __backCompatOption = Interactable.prototype._backCompatOption\n\n  Interactable.prototype._backCompatOption = function (optionName, newValue) {\n    const ret = __backCompatOption.call(this, optionName, newValue)\n\n    if (ret === this) {\n      this.events.options[optionName] = newValue\n    }\n\n    return ret\n  }\n}\n\nfunction pointerEventsMethod (this: Interactable, options: any) {\n  extend(this.events.options, options)\n\n  return this\n}\n\nconst plugin: Plugin = {\n  id: 'pointer-events/interactableTargets',\n  install,\n  listeners: {\n    'pointerEvents:collect-targets': ({ targets, node, type, eventTarget }, scope) => {\n      scope.interactables.forEachMatch(node, (interactable: Interactable) => {\n        const eventable = interactable.events\n        const options = eventable.options\n\n        if (\n          eventable.types[type] &&\n          eventable.types[type].length &&\n          interactable.testIgnoreAllow(options, node, eventTarget)\n        ) {\n          targets.push({\n            node,\n            eventable,\n            props: { interactable },\n          })\n        }\n      })\n    },\n\n    'interactable:new': ({ interactable }) => {\n      interactable.events.getRect = function (element: Element) {\n        return interactable.getRect(element)\n      }\n    },\n\n    'interactable:set': ({ interactable, options }, scope) => {\n      extend(interactable.events.options, scope.pointerEvents.defaults)\n      extend(interactable.events.options, options.pointerEvents || {})\n    },\n  },\n}\n\nexport default plugin\n","import type { Plugin } from '@interactjs/core/scope'\n\nimport * as pointerEvents from './base'\nimport holdRepeat from './holdRepeat'\nimport interactableTargets from './interactableTargets'\n\nconst plugin: Plugin = {\n  id: 'pointer-events',\n  install (scope) {\n    scope.usePlugin(pointerEvents)\n    scope.usePlugin(holdRepeat)\n    scope.usePlugin(interactableTargets)\n  },\n}\n\nexport default plugin\n","import type { Interactable } from '@interactjs/core/Interactable'\nimport type { ActionProps, DoAnyPhaseArg, Interaction } from '@interactjs/core/Interaction'\nimport type { ActionName, Scope, Plugin } from '@interactjs/core/scope'\nimport type { Element } from '@interactjs/types/index'\nimport * as arr from '@interactjs/utils/arr'\nimport is from '@interactjs/utils/is'\nimport { copyAction } from '@interactjs/utils/misc'\nimport * as pointerUtils from '@interactjs/utils/pointerUtils'\nimport { tlbrToXywh } from '@interactjs/utils/rect'\n\ndeclare module '@interactjs/core/scope' {\n  interface SignalArgs {\n    'interactions:before-action-reflow': Omit<DoAnyPhaseArg, 'iEvent'>\n    'interactions:action-reflow': DoAnyPhaseArg\n    'interactions:after-action-reflow': DoAnyPhaseArg\n  }\n}\n\ndeclare module '@interactjs/core/Interactable' {\n  interface Interactable {\n    reflow: <T extends ActionName>(action: ActionProps<T>) => ReturnType<typeof doReflow>\n  }\n}\n\ndeclare module '@interactjs/core/Interaction' {\n  interface Interaction {\n    _reflowPromise: Promise<void>\n    _reflowResolve: (...args: unknown[]) => void\n  }\n}\n\ndeclare module '@interactjs/core/InteractEvent' {\n  interface PhaseMap {\n    reflow?: true\n  }\n}\n\nexport function install (scope: Scope) {\n  const {\n    /** @lends Interactable */\n    Interactable,\n  } = scope\n\n  scope.actions.phases.reflow = true\n\n  /**\n   * ```js\n   * const interactable = interact(target)\n   * const drag = { name: drag, axis: 'x' }\n   * const resize = { name: resize, edges: { left: true, bottom: true }\n   *\n   * interactable.reflow(drag)\n   * interactable.reflow(resize)\n   * ```\n   *\n   * Start an action sequence to re-apply modifiers, check drops, etc.\n   *\n   * @param { Object } action The action to begin\n   * @param { string } action.name The name of the action\n   * @returns { Promise } A promise that resolves to the `Interactable` when actions on all targets have ended\n   */\n  Interactable.prototype.reflow = function (action: ActionProps) {\n    return doReflow(this, action, scope)\n  }\n}\n\nfunction doReflow<T extends ActionName> (\n  interactable: Interactable,\n  action: ActionProps<T>,\n  scope: Scope,\n): Promise<Interactable> {\n  const elements = (is.string(interactable.target)\n    ? arr.from(interactable._context.querySelectorAll(interactable.target))\n    : [interactable.target]) as Element[]\n\n  // tslint:disable-next-line variable-name\n  const Promise = (scope.window as any).Promise\n  const promises: Array<Promise<null>> | null = Promise ? [] : null\n\n  for (const element of elements) {\n    const rect = interactable.getRect(element as HTMLElement | SVGElement)\n\n    if (!rect) {\n      break\n    }\n\n    const runningInteraction = arr.find(scope.interactions.list, (interaction: Interaction) => {\n      return (\n        interaction.interacting() &&\n        interaction.interactable === interactable &&\n        interaction.element === element &&\n        interaction.prepared.name === action.name\n      )\n    })\n    let reflowPromise: Promise<null>\n\n    if (runningInteraction) {\n      runningInteraction.move()\n\n      if (promises) {\n        reflowPromise =\n          runningInteraction._reflowPromise ||\n          new Promise((resolve: any) => {\n            runningInteraction._reflowResolve = resolve\n          })\n      }\n    } else {\n      const xywh = tlbrToXywh(rect)\n      const coords = {\n        page: { x: xywh.x, y: xywh.y },\n        client: { x: xywh.x, y: xywh.y },\n        timeStamp: scope.now(),\n      }\n\n      const event = pointerUtils.coordsToEvent(coords)\n      reflowPromise = startReflow<T>(scope, interactable, element, action, event)\n    }\n\n    if (promises) {\n      promises.push(reflowPromise)\n    }\n  }\n\n  return promises && Promise.all(promises).then(() => interactable)\n}\n\nfunction startReflow<T extends ActionName> (\n  scope: Scope,\n  interactable: Interactable,\n  element: Element,\n  action: ActionProps<T>,\n  event: any,\n) {\n  const interaction = scope.interactions.new({ pointerType: 'reflow' })\n  const signalArg = {\n    interaction,\n    event,\n    pointer: event,\n    eventTarget: element,\n    phase: 'reflow',\n  } as const\n\n  interaction.interactable = interactable\n  interaction.element = element\n  interaction.prevEvent = event\n  interaction.updatePointer(event, event, element, true)\n  pointerUtils.setZeroCoords(interaction.coords.delta)\n\n  copyAction(interaction.prepared, action)\n  interaction._doPhase(signalArg)\n\n  const { Promise } = (scope.window as unknown) as { Promise: PromiseConstructor }\n  const reflowPromise = Promise\n    ? new Promise<undefined>((resolve) => {\n      interaction._reflowResolve = resolve\n    })\n    : undefined\n\n  interaction._reflowPromise = reflowPromise\n  interaction.start(action, interactable, element)\n\n  if (interaction._interacting) {\n    interaction.move(signalArg)\n    interaction.end(event)\n  } else {\n    interaction.stop()\n    interaction._reflowResolve()\n  }\n\n  interaction.removePointer(event, event)\n\n  return reflowPromise\n}\n\nconst reflow: Plugin = {\n  id: 'reflow',\n  install,\n  listeners: {\n    // remove completed reflow interactions\n    'interactions:stop': ({ interaction }, scope) => {\n      if (interaction.pointerType === 'reflow') {\n        if (interaction._reflowResolve) {\n          interaction._reflowResolve()\n        }\n\n        arr.remove(scope.interactions.list, interaction)\n      }\n    },\n  },\n}\n\nexport default reflow\n","import actions from '@interactjs/actions/plugin'\nimport autoScroll from '@interactjs/auto-scroll/plugin'\nimport autoStart from '@interactjs/auto-start/plugin'\nimport interactablePreventDefault from '@interactjs/core/interactablePreventDefault'\nimport devTools from '@interactjs/dev-tools/plugin'\nimport inertia from '@interactjs/inertia/plugin'\nimport interact from '@interactjs/interact'\nimport modifiers from '@interactjs/modifiers/plugin'\nimport offset from '@interactjs/offset/plugin'\nimport pointerEvents from '@interactjs/pointer-events/plugin'\nimport reflow from '@interactjs/reflow/plugin'\n\ninteract.use(interactablePreventDefault)\n\ninteract.use(offset)\n\n// pointerEvents\ninteract.use(pointerEvents)\n\n// inertia\ninteract.use(inertia)\n\n// snap, resize, etc.\ninteract.use(modifiers)\n\n// autoStart, hold\ninteract.use(autoStart)\n\n// drag and drop, resize, gesture\ninteract.use(actions)\n\n// autoScroll\ninteract.use(autoScroll)\n\n// reflow\ninteract.use(reflow)\n\n// eslint-disable-next-line no-undef\nif (process.env.NODE_ENV !== 'production') {\n  interact.use(devTools)\n}\n\nexport default interact\n\nif (typeof module === 'object' && !!module) {\n  try {\n    module.exports = interact\n  } catch {}\n}\n\n;(interact as any).default = interact\n","// eslint-disable-next-line import/no-extraneous-dependencies\nimport interact from '@interactjs/interactjs/index'\n\nexport default interact\n\nif (typeof module === 'object' && !!module) {\n  try {\n    module.exports = interact\n  } catch {}\n}\n\n;(interact as any).default = interact\n","\nreturn _$index_79;\n\n});\n","import interact from 'interactjs';\nimport { Fireworks } from 'fireworks-js';\nimport Game from './game';\n\nlet deckFront, deckBack, body;\n\nconst CARD_MARGIN = 45;\n\nconst dropZones = {};\nconst interactListeners = [];\nlet fireworks;\n\nexport function printer(game) {\n  body = document.getElementById('body');\n  resetInteractListeners();\n  initBody();\n  deckFront = document.querySelector('.deck .front');\n  deckBack = document.querySelector('.deck .back');\n  for (let i = 1; i <= 4; i++) {\n    const pillId = `pill${i}`;\n    const container = document.getElementById(pillId);\n    dropZones[pillId] = {\n      startX: container.offsetLeft,\n      startY: container.offsetTop,\n      endX: container.offsetLeft + container.offsetWidth,\n      endY: container.offsetTop + container.offsetHeight\n    };\n    const card = printPill(game[pillId].column, container);\n    if (card) {\n      makeDrawnCardDraggable(game, card, pillId)\n    }\n  }\n\n  for (let i = 1; i <= 7; i++) {\n    const columnId = `column${i}`;\n    const container = document.getElementById(columnId);\n    printColumn(game[columnId], container, game, columnId);\n  }\n\n  printDeck(game);\n  if (game.isEndGame()) {\n    printEndButton(game);\n  }\n  if(game.isFinish()){\n    launchFireworks();\n  }\n  printRestartButton();\n}\n\nfunction launchFireworks() {\n  body.classList.add('finish');\n  const bravo = document.createElement('p');\n  bravo.textContent = 'Bravos !!';\n  bravo.classList.add('bravo');\n  body.appendChild(bravo);\n  fireworks = new Fireworks(body, {\n    particles: 120,\n    trace: 9,\n    boundaries: {\n      x: 50,\n      y: 50,\n      width: body.clientWidth,\n      height: body.clientHeight\n    }\n  });\n  fireworks.start()\n}\n\nfunction printEndButton(game) {\n  const button = document.createElement('button');\n  button.textContent = 'Terminer la partie';\n  button.classList.add('finish');\n  button.addEventListener('click', () => {\n    smartFinish(game)\n  });\n  body.appendChild(button);\n}\n\nfunction printRestartButton() {\n  const button = document.createElement('button');\n  button.textContent = 'Nouvelle partie';\n  button.classList.add('restart');\n  button.addEventListener('click', () => {\n    resetInteractListeners()\n    if(fireworks){\n      fireworks.stop();\n    }\n    new Game();\n  });\n  body.appendChild(button);\n}\n\nfunction printColumn(column, container, game, columnId) {\n  resetContainers([container]);\n  printPill(column.pill, container, true);\n  printListCard(column.column, container, game, columnId, column.pill.length);\n}\n\nfunction printDeck(game) {\n  resetContainers([deckBack, deckFront]);\n  let deckCardIdTurn = false;\n  let deckCard = printPill(game.deck, deckBack, true);\n  if (!deckCard) {\n    deckBack.addEventListener('click', () => {\n      if (!deckCardIdTurn) {\n        game.returnDeck();\n        deckCardIdTurn = true;\n        printer(game);\n      }\n    })\n  } else {\n    deckCard.addEventListener('click', () => {\n      if (!deckCardIdTurn) {\n        game.drawCardFromDeck();\n        deckCardIdTurn = true;\n        printer(game);\n      }\n    })\n  }\n\n  const drawCard = printPill(game.drawnCards.column, deckFront, false);\n  if (drawCard) {\n    makeDrawnCardDraggable(game, drawCard, 'drawnCards');\n    smartActionOnDblClick(game, drawCard, 'drawnCards');\n  }\n}\n\nfunction printPill(cards, container, inverted) {\n  let lastElement;\n  cards.forEach((card, index) => {\n    const el = document.createElement('div');\n    el.classList.add('card');\n    if (inverted) {\n      el.style.left = `${-10 + index}px`\n      el.style.top = `${-10 - index}px`\n      el.classList.add('inverted');\n    }\n    el.id = card.id;\n    container.appendChild(el);\n    lastElement = el;\n  });\n  return lastElement;\n}\n\nfunction printListCard(cards, container, game, columnId, size) {\n  let containerCache = container;\n  cards.forEach((card, index) => {\n    const el = document.createElement('div');\n    el.classList.add('card', 'list', `list__${index}`);\n    el.id = card.id;\n\n    if (index > 0) {\n      el.style.left = '0';\n    } else {\n      el.style.left = `${-10 + size}px`\n    }\n\n    el.style.top = index === 0 ? `${-10 - size}px` : `${CARD_MARGIN - 10}px`;\n    containerCache.appendChild(el);\n    containerCache = el;\n    makeDrawnCardDraggable(game, el, columnId);\n\n    if (index === cards.length - 1) {\n      smartActionOnDblClick(game, el, columnId)\n    }\n  });\n  dropZones[container.id] = {\n    startX: container.offsetLeft,\n    startY: container.offsetTop,\n    endX: container.offsetLeft + container.offsetWidth,\n    endY: container.offsetTop + container.offsetHeight + (cards.length * CARD_MARGIN)\n  }\n}\n\nfunction resetContainers(containers) {\n  containers.forEach(container => {\n    container.innerHTML = '';\n  })\n}\n\nfunction makeDrawnCardDraggable(game, card, dragZone) {\n  interactListeners.push(`#${card.id}`);\n  interact(`#${card.id}`).draggable({\n    inertia: true,\n    autoScroll: true,\n    listeners: {\n      start(evt) {\n        card.classList.add('dragged');\n        if (card.classList.contains('list')) {\n          updateDraggableClassToParent(card);\n        }\n      },\n\n      move: dragMoveListener,\n\n      end(evt) {\n        const target = evt.target;\n        const dropZone = isInDropZone(evt.pageX, evt.pageY);\n        if (card.classList.contains('list')) {\n          updateDraggableClassToParent(card);\n        }\n        if (!dropZone) {\n          resetDragElement(target);\n        }\n        const targetIds = getTargetListId(target);\n        const isDropped = game.resultDrop(targetIds, dropZone, dragZone);\n        if (isDropped) {\n          printer(game);\n        }\n\n        resetDragElement(target);\n      }\n    }\n  });\n}\n\nfunction smartActionOnDblClick(game, card, fromZone) {\n  const target = document.getElementById(card.id);\n  target.addEventListener('dblclick', () => {\n    const isSmartPlaced = game.smartAction(card.id, fromZone);\n    if (isSmartPlaced) {\n      printer(game);\n    }\n  });\n}\n\nfunction getTargetListId(target) {\n  let targetIds = [target.id]\n  if (target.classList.contains('list')) {\n    const nodes = target.querySelectorAll('.list');\n    for (let i = 0; i < nodes.length; i++) {\n      targetIds.push(nodes[i].id)\n    }\n  }\n  return targetIds;\n}\n\nfunction updateDraggableClassToParent(node) {\n  const parent = node.parentNode;\n  if (parent.classList.contains('list')) {\n    if (parent.classList.contains('dragged')) {\n      parent.classList.remove('dragged');\n    } else {\n      parent.classList.add('dragged');\n    }\n    updateDraggableClassToParent(parent)\n  }\n}\n\nfunction resetDragElement(target) {\n  target.style.transform = 'translate(0,0)';\n  target.setAttribute('data-x', '0');\n  target.setAttribute('data-y', '0');\n  target.classList.remove('dragged');\n}\n\nfunction dragMoveListener(event) {\n  const target = event.target;\n\n  let x = (parseFloat(target.getAttribute('data-x')) || 0) + event.dx;\n  let y = (parseFloat(target.getAttribute('data-y')) || 0) + event.dy;\n\n  if (!(event.rect.right >= body.offsetWidth || event.rect.bottom >= body.offsetHeight)) {\n    target.style.transform = 'translate(' + x + 'px, ' + y + 'px)';\n    target.setAttribute('data-x', x);\n    target.setAttribute('data-y', y);\n  }\n}\n\nfunction isInDropZone(positionX, positionY) {\n  const limit = 20;\n  let isDroppedInDropZone = null;\n  for (const key in dropZones) {\n    if (positionX - limit > dropZones[key].startX - limit\n      && positionX + limit < dropZones[key].endX + limit\n      && positionY - limit > dropZones[key].startY - limit\n      && positionY + limit < dropZones[key].endY + limit\n    ) {\n      isDroppedInDropZone = key;\n    }\n  }\n  return isDroppedInDropZone;\n}\n\nfunction initBody() {\n  body.innerHTML = `\n  <div class=\"top-row\">\n      <div class=\"final-pills\">\n        <div id=\"pill1\" class=\"pill\"></div>\n        <div id=\"pill2\" class=\"pill\"></div>\n        <div id=\"pill3\" class=\"pill\"></div>\n        <div id=\"pill4\" class=\"pill\"></div>\n      </div>\n      <div class=\"deck\">\n        <div class=\"pill front\"></div>\n        <div class=\"pill back\"></div>\n      </div>\n    </div>\n    <div class=\"bottom-row\">\n      <div id=\"column1\" class=\"pill column1\"></div>\n      <div id=\"column2\" class=\"pill column2\"></div>\n      <div id=\"column3\" class=\"pill column3\"></div>\n      <div id=\"column4\" class=\"pill column4\"></div>\n      <div id=\"column5\" class=\"pill column5\"></div>\n      <div id=\"column6\" class=\"pill column6\"></div>\n      <div id=\"column7\" class=\"pill column7\"></div>\n    </div>`;\n}\n\nfunction resetInteractListeners() {\n  interactListeners.forEach(nodeId => {\n    interact(nodeId).unset();\n  });\n  interactListeners.length = 0;\n}\n\nfunction smartFinish(game) {\n  if (game.isFinish()) {\n    launchFireworks();\n    return\n  }\n  const matchedCard = findCardMatch(game)\n  const target = document.getElementById(matchedCard.card.id);\n  magicMooveCard(game, target, matchedCard.dropZoneId, matchedCard.dragZoneId, matchedCard.index)\n}\n\nfunction findCardMatch(game) {\n  const pillsCardWithZone = game.pills.map((pill, index) => {\n    return {\n      card: pill.lastCard,\n      zone: `pill${index + 1}`\n    };\n  });\n  const columnsCardWithZone = game.columns.map((column, index) => {\n    return {\n      ...column.latsCardOfColumnWithPosition,\n      zone: `column${index + 1}`\n    };\n  });\n  const matchedCards = [];\n  pillsCardWithZone.forEach(pillCardWithZone => {\n    const pillCard = pillCardWithZone.card\n    columnsCardWithZone.forEach(columnCardWithZone => {\n      const columnCard = columnCardWithZone.card\n      if (!columnCard) {\n        return\n      }\n      if ((!pillCard && columnCard.value === 1)\n        || (pillCard && columnCard.color === pillCard.color && columnCard.value - 1 === pillCard.value)) {\n        matchedCards.push({\n          dropZoneId: pillCardWithZone.zone,\n          dragZoneId: columnCardWithZone.zone,\n          card: columnCard,\n          index: columnCardWithZone.index\n        });\n      }\n    });\n  });\n\n  matchedCards.sort((a, b) => {\n    return a.card.value - b.card.value;\n  })\n  return matchedCards[0];\n}\n\nfunction magicMooveCard(game, target, dropZoneId, dragZoneId, index) {\n  const dropZone = dropZones[dropZoneId];\n  const dragZone = dropZones[dragZoneId];\n  const translateX = dropZone.startX - dragZone.startX;\n  const targetTranslateY = index === 1 ? 0 : target.offsetTop * (index - 1);\n  const translateY = dropZone.startY - dragZone.startY - targetTranslateY;\n  target.style.transition = 'all .8s'\n  target.style.transform = `translate(${translateX}px, ${translateY}px)`;\n  target.classList.add('dragged');\n  target.addEventListener('transitionend', () => {\n    target.classList.remove('dragged');\n    game.resultDrop([target.id], dropZoneId, dragZoneId);\n    printPill(game[dropZoneId].column, document.getElementById(dropZoneId));\n    printColumn(game[dragZoneId], document.getElementById(dragZoneId), game, dragZoneId);\n    smartFinish(game);\n  });\n}\n","/*!\n * fireworks-js 1.3.5 by Vitalij Ryndin (https://crashmax.ru)\n * https://fireworks.js.org\n * License MIT\n */\n!function(t,i){if(\"object\"==typeof exports&&\"object\"==typeof module)module.exports=i();else if(\"function\"==typeof define&&define.amd)define([],i);else{var s=i();for(var e in s)(\"object\"==typeof exports?exports:t)[e]=s[e]}}(this,(function(){return(()=>{\"use strict\";var t={511:(t,i,s)=>{Object.defineProperty(i,\"__esModule\",{value:!0}),i.Explosion=void 0;var e=s(909);i.Explosion=class{constructor(t){var{x:i,y:s,ctx:h,hue:n,exp:o,gravity:a,friction:r,brightness:c,explosionLength:_}=t;for(this._coordinates=[],this._alpha=1,this._x=i,this._y=s,this._exp=o,this._ctx=h,this._gravity=a,this._friction=r,this._explosionLength=_;this._explosionLength--;)this._coordinates.push([i,s]);this._angle=(0,e.randomFloat)(0,2*Math.PI),this._speed=(0,e.randomInt)(1,10),this._hue=(0,e.randomInt)(n-20,n+20),this._brightness=(0,e.randomInt)(c.min,c.max),this._decay=(0,e.randomFloat)(c.decay.min,c.decay.max)}update(t){this._coordinates.pop(),this._coordinates.unshift([this._x,this._y]),this._speed*=this._friction,this._x+=Math.cos(this._angle)*this._speed,this._y+=Math.sin(this._angle)*this._speed+this._gravity,this._alpha-=this._decay,this._alpha<=this._decay&&t()}draw(){var t=this._coordinates.length-1;this._ctx.beginPath(),this._exp&&(this._ctx.arc(this._x,this._y,(0,e.randomFloat)(.5,1.5),0,2*Math.PI),this._ctx.fill()),this._ctx.fillStyle=(0,e.hsla)(this._hue,this._brightness,this._alpha),this._ctx.moveTo(this._coordinates[t][0],this._coordinates[t][1]),this._ctx.lineTo(this._x,this._y),this._ctx.strokeStyle=(0,e.hsla)(this._hue,this._brightness,this._alpha),this._ctx.stroke()}}},909:(t,i)=>{Object.defineProperty(i,\"__esModule\",{value:!0}),i.hsla=i.getDistance=i.randomInt=i.randomFloat=void 0,i.randomFloat=function(t,i){return Math.random()*(i-t)+t},i.randomInt=function(t,i){return Math.floor(t+Math.random()*(i+1-t))},i.getDistance=function(t,i,s,e){var h=Math.pow;return Math.sqrt(h(t-s,2)+h(i-e,2))},i.hsla=function(t,i){var s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return\"hsla(\".concat(t,\", 100%, \").concat(i,\"%, \").concat(s,\")\")}},449:function(t,i,s){var e=this&&this.__awaiter||function(t,i,s,e){return new(s||(s=Promise))((function(h,n){function o(t){try{r(e.next(t))}catch(t){n(t)}}function a(t){try{r(e.throw(t))}catch(t){n(t)}}function r(t){var i;t.done?h(t.value):(i=t.value,i instanceof s?i:new s((function(t){t(i)}))).then(o,a)}r((e=e.apply(t,i||[])).next())}))};Object.defineProperty(i,\"__esModule\",{value:!0}),i.Sound=void 0;var h=s(909);i.Sound=class{constructor(t){this._buffer=[],this.onInit=!0,this._audioContext=new(window.AudioContext||window.webkitAudioContext),this.options=Object.assign({enabled:!1,files:[\"explosion0.mp3\",\"explosion1.mp3\",\"explosion2.mp3\"],volume:{min:4,max:8}},t),this.init()}init(){this.onInit&&this.options.enabled&&(this.onInit=!1,this.load())}load(){return e(this,void 0,void 0,(function*(){for(var t of this.options.files){var i=yield(yield fetch(t)).arrayBuffer();this._audioContext.decodeAudioData(i).then((t=>{this._buffer.push(t)})).catch((t=>{throw t}))}}))}play(){if(this.options.enabled&&this._buffer.length){var t=this._audioContext.createBufferSource(),i=this._buffer[(0,h.randomInt)(0,this._buffer.length-1)],s=this._audioContext.createGain();t.buffer=i,s.gain.value=(0,h.randomFloat)(this.options.volume.min/100,this.options.volume.max/100),s.connect(this._audioContext.destination),t.connect(s),t.start(0)}else this.init()}}},668:(t,i,s)=>{Object.defineProperty(i,\"__esModule\",{value:!0}),i.Trace=void 0;var e=s(909);i.Trace=class{constructor(t){var{x:i,y:s,dx:h,dy:n,ctx:o,hue:a,speed:r,traceLength:c,acceleration:_}=t;for(this._coordinates=[],this._currentDistance=0,this._x=i,this._y=s,this._sx=i,this._sy=s,this._dx=h,this._dy=n,this._ctx=o,this._hue=a,this._speed=r,this._traceLength=c,this._acceleration=_,this._totalDistance=(0,e.getDistance)(i,s,h,n);this._traceLength--;)this._coordinates.push([i,s]);this._angle=Math.atan2(n-s,h-i),this._brightness=(0,e.randomInt)(50,70)}update(t){this._coordinates.pop(),this._coordinates.unshift([this._x,this._y]),this._speed*=this._acceleration;var i=Math.cos(this._angle)*this._speed,s=Math.sin(this._angle)*this._speed;this._currentDistance=(0,e.getDistance)(this._sx,this._sy,this._x+i,this._y+s),this._currentDistance>=this._totalDistance?t(this._dx,this._dy,this._hue):(this._x+=i,this._y+=s)}draw(){var t=this._coordinates.length-1;this._ctx.beginPath(),this._ctx.moveTo(this._coordinates[t][0],this._coordinates[t][1]),this._ctx.lineTo(this._x,this._y),this._ctx.strokeStyle=(0,e.hsla)(this._hue,this._brightness),this._ctx.stroke()}}}},i={};function s(e){var h=i[e];if(void 0!==h)return h.exports;var n=i[e]={exports:{}};return t[e].call(n.exports,n,n.exports,s),n.exports}var e={};return(()=>{var t=e;Object.defineProperty(t,\"__esModule\",{value:!0}),t.Fireworks=void 0;var i=s(668),h=s(449),n=s(511),o=s(909);t.Fireworks=class{constructor(t){var{autoresize:i=!0,boundaries:s,brightness:e,delay:n,hue:o,mouse:a,sound:r,trace:c=3,speed:_=2,explosion:d=5,gravity:u=1.5,opacity:l=.5,particles:p=50,friction:x=.95,rocketsPoint:m=50,acceleration:v=1.05}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._tick=0,this._version=\"1.3.5\",this._running=!1,this._randomRocketsPoint=!1,this._experimentals=!1,this._m=!1,this._container=t,this._canvas=document.createElement(\"canvas\"),this._ctx=this._canvas.getContext(\"2d\"),this._container.appendChild(this._canvas),this._sound=new h.Sound(r),this.setSize(),this.setBoundaries(Object.assign({visible:!1,x:50,y:50},s)),this.autoresize=i,this.trace=c,this.speed=_,this.explosion=d,this.gravity=u,this.opacity=l,this.particles=p,this.friction=x,this.rocketsPoint=m,this.acceleration=v,this.hue=Object.assign({min:0,max:360},o),this.mouse=Object.assign({click:!1,move:!1,max:1},a),this.delay=Object.assign({min:15,max:30},n),this.brightness=Object.assign({min:50,max:80,decay:{min:.015,max:.03}},e),this.autoresize&&window.addEventListener(\"resize\",(()=>this.windowResize())),this._canvas.addEventListener(\"mousedown\",(t=>this.mouseDown(t))),this._canvas.addEventListener(\"mouseup\",(t=>this.mouseUp(t))),this._canvas.addEventListener(\"mousemove\",(t=>this.mouseMove(t)))}get isRunning(){return this._running}get version(){return this._version}start(){this._running||(this._running=!0,this.clear(),this.render())}stop(){this._running&&(this._running=!1,this.clear())}unmount(){window.removeEventListener(\"resize\",this.windowResize),this._canvas.addEventListener(\"mousedown\",this.mouseDown),this._canvas.addEventListener(\"mouseup\",this.mouseUp),this._canvas.addEventListener(\"mousemove\",this.mouseMove)}pause(){this._running=!this._running}clear(){this._ctx&&(this._traces=[],this._explosions=[],this._ctx.clearRect(0,0,this._width,this._height))}setOptions(t){for(var[i,s]of Object.entries(t)){var e=Object.prototype.hasOwnProperty.call(this,i);if(\"function\"==typeof this[i])throw new Error(\"You cannot change the methods of the class!\");e&&(\"object\"==typeof this[i]?Object.assign(this[i],s):this[i]=s),\"sound\"===i&&Object.assign(this._sound.options,s)}}setSize(){var{width:t=this._container.clientWidth,height:i=this._container.clientHeight}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._width=t,this._height=i,this._canvas.width=t,this._canvas.height=i,this.setBoundaries({width:t,height:i})}setBoundaries(t){this.boundaries=Object.assign(Object.assign({},this.boundaries),t)}useMouse(t,i){(this.mouse.click||this.mouse.move)&&(this._mx=t.pageX-this._canvas.offsetLeft,this._my=t.pageY-this._canvas.offsetTop,this._m=i)}windowResize(){this.setSize()}mouseDown(t){this.useMouse(t,this.mouse.click)}mouseUp(t){this.useMouse(t,!1)}mouseMove(t){this.useMouse(t,this._m)}render(){this._ctx&&this._running&&(requestAnimationFrame((()=>this.render())),this._ctx.globalCompositeOperation=\"destination-out\",this._ctx.fillStyle=\"rgba(0, 0, 0, \".concat(this.opacity,\")\"),this._ctx.fillRect(0,0,this._width,this._height),this._ctx.globalCompositeOperation=\"lighter\",this.drawBoundaries(),this.initTrace(),this.drawTrace(),this.drawExplosion(),this._tick++)}drawBoundaries(){this.boundaries.visible&&(this._ctx.beginPath(),this._ctx.strokeStyle=\"red\",this._ctx.rect(this.boundaries.x,this.boundaries.y,this.boundaries.width-2*this.boundaries.x,.5*this.boundaries.height),this._ctx.stroke())}initTrace(){this._ds=(0,o.randomInt)(this.delay.min,this.delay.max),(2*this._ds<this._tick||this._m&&this.mouse.max>this._traces.length)&&(this._traces.push(new i.Trace({x:this._width*(this._randomRocketsPoint?(0,o.randomInt)(0,100):this.rocketsPoint)/100,y:this._height,dx:this._mx&&this.mouse.move||this._m?this._mx:(0,o.randomInt)(this.boundaries.x,this.boundaries.width-2*this.boundaries.x),dy:this._my&&this.mouse.move||this._m?this._my:(0,o.randomInt)(this.boundaries.y,.5*this.boundaries.height),ctx:this._ctx,hue:(0,o.randomInt)(this.hue.min,this.hue.max),speed:this.speed,acceleration:this.acceleration,traceLength:this.trace})),this._tick=0)}drawTrace(){for(var t=this._traces.length;t--;)this._traces[t].draw(),this._traces[t].update(((i,s,e)=>{this.initExplosion(i,s,e),this._sound.play(),this._traces.splice(t,1)}))}initExplosion(t,i,s){for(var e=this.particles;e--;)this._explosions.push(new n.Explosion({x:t,y:i,ctx:this._ctx,hue:s,friction:this.friction,gravity:this.gravity,explosionLength:this.explosion,brightness:this.brightness,exp:this._experimentals}))}drawExplosion(){for(var t=this._explosions.length;t--;)this._explosions[t].draw(),this._explosions[t].update((()=>{this._explosions.splice(t,1)}))}}})(),e})()}));","export default class CardsPile {\n  constructor() {\n    this.column = [];\n  }\n\n  get lastCard() {\n    if (this.column.length === 0) {\n      return null;\n    }\n    return this.column[this.column.length - 1];\n  }\n\n  addCards([card]) {\n    this.column.push(card);\n  }\n\n  removeCards([cardId]) {\n    this.column = this.column.filter(card => cardId !== card.id);\n  }\n\n  isEmpty() {\n    return this.column.length === 0;\n  }\n}\n","const STATE = ['back', 'front']\n\nexport default class Card {\n  constructor(color, value) {\n    this.id = `${color}_${value}`;\n    this.color = color;\n    this.value = value;\n    this.state = STATE[0];\n  }\n\n  turnToFront() {\n    this.state = STATE[1];\n  }\n\n  turnToBack() {\n    this.state = STATE[0];\n  }\n\n}\n","import Card from './card';\n\nconst BLACK_COLOR = ['club', 'spade'];\nconst RED_COLOR = ['heart', 'diamond'];\n\nexport function createCards() {\n  const cards = [];\n  [...BLACK_COLOR, ...RED_COLOR].forEach(color => {\n    for (let i = 1; i <= 13; i++) {\n      cards.push(new Card(color, i));\n    }\n  });\n  return cards;\n}\n\nexport function shuffleArray(array) {\n  const newArray = [...array];\n\n  for (let i = newArray.length - 1; i > 0; i--) {\n    const j = Math.floor(Math.random() * (i + 1));\n    const temp = newArray[i];\n    newArray[i] = newArray[j];\n    newArray[j] = temp;\n  }\n  return newArray;\n}\n\nexport function getColorSide(color) {\n  if(BLACK_COLOR.includes(color)){\n    return 'black';\n  }\n  return 'red';\n}\n","import CardsPile from './cardsPile';\nimport {getColorSide} from './utils';\n\n\nexport default class Column extends CardsPile{\n  constructor() {\n    super()\n    this.pill = [];\n  }\n\n  fill(cards) {\n    this.pill = [...cards];\n    this.turnCardToFront();\n  }\n\n  turnCardToFront() {\n    const firstCard = this.pill.shift();\n    firstCard.turnToFront();\n    this.column.push(firstCard);\n  }\n\n  get color() {\n    return getColorSide(this.lastCard.color);\n  }\n\n  addCards(cards) {\n    const card = cards[0];\n    if (this.column.length === 0) {\n      if (card.value === 13) {\n        this.column = [...this.column, ...cards];\n        return true;\n      }\n      return false;\n    }\n    if (this.color !== getColorSide(card.color)\n      && this.lastCard.value - 1 === card.value) {\n      this.column = [...this.column, ...cards];\n      return true;\n    }\n    return false;\n  }\n\n  removeCards(cardIds) {\n    this.column = this.column.filter(card => !cardIds.includes(card.id));\n    if(this.column.length === 0 && this.pill.length > 0){\n      this.turnCardToFront();\n    }\n  }\n\n  get latsCardOfColumnWithPosition() {\n\n    if(this.column.length == 0) {\n      return null;\n    }\n    return {\n        card: this.column[this.column.length -1],\n        index: this.column.length\n      };\n  }\n\n  isEmpty() {\n    return this.pill.length === 0;\n  }\n\n}\n","import CardsPile from './cardsPile';\n\nexport default class Pill extends CardsPile{\n  constructor() {\n    super();\n  }\n\n  addCards(cards) {\n    if(cards.length > 1) {\n      return false;\n    }\n    const card = cards[0];\n    if (this.column.length === 0) {\n      if (card.value === 1) {\n        this.column.push(card);\n        return true;\n      }\n      return false;\n    }\n    if (this.lastCard.color === card.color\n      && this.lastCard.value + 1 === card.value) {\n      this.column.push(card);\n      return true;\n    }\n    return false;\n  }\n\n  isFullFilled() {\n    return this.column.length === 13;\n  }\n}\n","import {printer} from './printer';\nimport CardsPile from './cardsPile';\nimport Column from './column';\nimport Pill from './pill';\nimport {createCards, shuffleArray} from './utils';\n\nexport default class Game {\n  constructor() {\n    this.cards = [];\n    this.deck = [];\n    this.drawnCards = new CardsPile();\n    this.column1 = new Column();\n    this.column2 = new Column();\n    this.column3 = new Column();\n    this.column4 = new Column();\n    this.column5 = new Column();\n    this.column6 = new Column();\n    this.column7 = new Column();\n\n    this.pill1 = new Pill();\n    this.pill2 = new Pill();\n    this.pill3 = new Pill();\n    this.pill4 = new Pill();\n\n    this._init();\n  }\n\n  get pills() {\n    return [this.pill1, this.pill2, this.pill3, this.pill4];\n  }\n\n  get columns() {\n    return [this.column1, this.column2, this.column3, this.column4, this.column5, this.column6, this.column7];\n  }\n\n  _init() {\n    const cards = createCards();\n    this.cards = cards;\n    this.deck = shuffleArray(cards);\n    this.column1.fill(this.initColumnPill(1));\n    this.column2.fill(this.initColumnPill(2));\n    this.column3.fill(this.initColumnPill(3));\n    this.column4.fill(this.initColumnPill(4));\n    this.column5.fill(this.initColumnPill(5));\n    this.column6.fill(this.initColumnPill(6));\n    this.column7.fill(this.initColumnPill(7));\n    printer(this);\n  }\n\n  initColumnPill(number) {\n    const cards = this.deck.slice(0, number);\n    const cardsId = cards.map(card => card.id);\n    this.deck = this.deck.filter(card => {\n      return !cardsId.includes(card.id);\n    });\n    return cards;\n  }\n\n  drawCardFromDeck() {\n    const card = this.deck.shift();\n    card.turnToFront();\n    this.drawnCards.addCards([card]);\n  }\n\n  returnDeck() {\n    this.deck = [...this.drawnCards.column];\n    this.deck.forEach(card => card.turnToBack());\n    this.drawnCards.column = [];\n  }\n\n  resultDrop(cardIds, dropZone, dragZone) {\n    const cards = this.getCardsFromIds(cardIds);\n    const isDropped = this[dropZone]?.addCards(cards);\n    if (isDropped) {\n      this[dragZone].removeCards(cardIds);\n      return true;\n    }\n    return false;\n  }\n\n  smartAction(cardId, fromZone) {\n    const cards = this.getCardsFromIds([cardId]);\n    let isSmartPlaced = false;\n    this.pills.forEach((pill)=> {\n      if(!isSmartPlaced) {\n        isSmartPlaced = pill.addCards(cards);\n      }\n    });\n    if(isSmartPlaced) {\n      this[fromZone].removeCards([cardId]);\n      return true;\n    } \n    return false;\n  } \n\n  getCardsFromIds(ids) {\n    return this.cards\n      .filter(card => ids.includes(card.id))\n      .sort((a, b) => {\n        return b.value - a.value;\n      });\n  }\n\n  isEndGame() {\n    return this.deck.length === 0\n    && this.drawnCards.isEmpty()\n    && this.column1.isEmpty()\n    && this.column2.isEmpty()\n    && this.column3.isEmpty()\n    && this.column4.isEmpty()\n    && this.column5.isEmpty()\n    && this.column6.isEmpty()\n    && this.column7.isEmpty();\n  }\n\n  isFinish() {\n    return this.pill1.isFullFilled()\n    && this.pill2.isFullFilled()\n    && this.pill3.isFullFilled()\n    && this.pill4.isFullFilled();\n  }\n}\n","import Game from './game';\n\ndocument.addEventListener('DOMContentLoaded', () => {\n  new Game();\n});\n"],"names":["t","$9ae05d95af282c4f$exports","define","amd","window","$parcel$global","self","this","interact","t1","Object","defineProperty","value","default","Window","e1","init","o1","getWindow","e","ownerDocument","defaultView","r1","realWindow","n1","o","document","createTextNode","wrap","i1","a1","t2","Symbol","iterator","constructor","prototype","s1","l1","u1","n","docFrag","nodeType","object","func","number","bool","string","element","test","Element","nodeName","plainObject","toString","array","length","splice","c1","f1","interaction","prepared","name","axis","coords","cur","page","y","start","client","velocity","x","d1","iEvent","r","delta","p1","id","install","actions","Interactable","defaults","draggable","map","drag","methodDict","listeners","interactable","buttons","options","enabled","pointerIsDown","pointerType","mouseButtons","action","lockAxis","startAxis","setPerAction","setOnEvents","beforeMove","move","getCursor","v1","h1","g1","DocumentFragment","y1","SVGElement","SVGSVGElement","SVGElementInstance","HTMLElement","Event","Touch","PointerEvent","MSPointerEvent","m1","b1","x1","navigator","supportsTouch","DocumentTouch","supportsPointerEvent","pointerEnabled","isIOS","platform","isIOS7","appVersion","isIe9","userAgent","isOperaMobile","appName","prefixedMatchesSelector","pEventTypes","up","down","over","out","cancel","wheelEvent","w1","_1","P1","parentNode","host","O1","replace","nodeContains","contains","closest","matchesSelector","indexOfDeepestElement","i","a","s","S1","l","E","u","ownerSVGElement","c","f","d","p","lastChild","previousSibling","v","g","parseInt","getComputedStyle","zIndex","matchesUpTo","getActualElement","correspondingUseElement","getScrollXY","T","getElementClientRect","M","getElementRect","left","right","top","bottom","getPath","push","trySelector","querySelector","unshift","scrollX","documentElement","scrollLeft","scrollY","scrollTop","getBoundingClientRect","getClientRects","width","height","j","k","I","Array","D","getRect","getStringOptionResult","resolveRectLike","t3","e2","n2","apply","isArray","from","call","slice","TypeError","rectToXY","xywhToTlbr","tlbrToXywh","addEdges","A","origin","R","z","trim","split","t4","e3","search","reduce","o2","concat","C","Math","sqrt","F","X","prefixedPropREs","indexOf","webkit","moz","Y","B","W","L","U","V","N","type","touches","changedTouches","q","pageX","pageY","clientX","clientY","screenX","screenY","copyCoords","timeStamp","setCoordDeltas","setCoordVelocity","max","setZeroCoords","isNativePointer","getXY","getPageXY","getClientXY","getPointerId","pointerId","identifier","setCoords","getTouchPair","pointerAverage","touchBBox","min","touchDistance","touchAngle","atan2","PI","getPointerType","getEventTargets","composedPath","path","target","currentTarget","newCoords","coordsToEvent","preventDefault","enumerable","get","$","H","configurable","writable","BaseEvent","K","t5","e5","_interaction","key","propagationStopped","immediatePropagationStopped","G","_proxy","set","Z","find","findIndex","merge","remove","J","Q","tt","et","t6","rt","t7","e6","setPrototypeOf","__proto__","ot","it","ReferenceError","at","t8","getPrototypeOf","st","DropEvent","lt","t9","create","n3","r2","o3","Reflect","construct","sham","Proxy","Boolean","valueOf","arguments","t10","e8","prev","dropzone","dragEvent","relatedTarget","e9","dropState","rejected","events","enter","stopImmediatePropagation","n4","activeDrops","r3","fire","nt","ut","ct","ft","t11","e10","n7","interactables","list","drop","accept","draggableElement","_context","querySelectorAll","rect","r6","o4","dt","dropCheck","pt","leave","activate","deactivate","dragLeave","prevDropzone","dragEnter","dragmove","vt","ht","event","dynamicDrop","gt","t12","e11","n8","interactStatic","r7","o5","usePlugin","t13","t14","keys","off","on","ondrop","ondropactivate","ondropdeactivate","ondragenter","ondragleave","ondropmove","overlap","checker","t15","e12","n9","r8","o6","a2","h","phaselessTypes","dragenter","dragleave","dropactivate","dropdeactivate","dropmove","getActiveDrops","getDrop","getDropEvents","fireDropEvents","yt","mt","bt","t16","phase","pointers","pointer","deltaSource","distance","box","scale","ds","angle","da","gesture","startDistance","startAngle","prevEvent","isNaN","xt","before","t17","gesturable","wt","_t","Pt","abs","Ot","resizeAxes","resize","square","axes","St","t18","e13","n10","browser","cursors","xy","topleft","bottomright","topright","bottomleft","defaultMargin","resizable","e14","preserveAspectRatio","t19","edges","_rects","corrected","previous","deltaRect","t20","invert","_latestPointer","eventTarget","margin","NaN","Et","Tt","Mt","jt","kt","It","Dt","At","request","t21","requestAnimationFrame","cancelAnimationFrame","e15","n11","bind","Date","now","setTimeout","clearTimeout","Rt","getContainer","Ct","getScroll","Ft","getScrollSize","body","scrollWidth","scrollHeight","getScrollSizeDelta","autoScroll","container","zt","speed","isScrolling","prevTime","scroll","stop","scrollBy","check","onInteractionMove","interacting","simulation","innerWidth","innerHeight","Xt","autoscroll","perAction","Yt","warnOnce","console","warn","copyAction","sign","Bt","Wt","styleCursor","Lt","actionChecker","Ut","t22","e16","getAction","e17","n12","r9","o7","i2","button","ignoreFrom","_backCompatOption","allowFrom","Vt","Nt","testIgnoreAllow","Ht","qt","$t","t23","forEachMatch","manualStart","Gt","Jt","maxPerElement","autoStart","maxInteractions","interactions","Kt","Zt","cursorElement","style","cursor","cursorChecker","_interacting","Qt","e18","base","withinInteractionLimit","t24","e19","pointerWasMoved","validateAction","te","ee","t25","e20","n13","o8","dx","dy","t26","downPointer","downEvent","ne","re","hold","delay","oe","autoStartHoldTimer","duplicate","getHoldDuration","ie","ae","se","le","ue","checkAndPreventDefault","ce","t27","n14","n15","supportsPassive","getDocOptions","passive","docEvents","listener","fe","de","pe","ve","touchAction","boxSizing","noListeners","ge","ye","me","t28","e21","next","done","return","be","we","getRectOffset","Oe","_e","t29","e23","result","Pe","n16","t30","e24","t31","n18","n17","modifiers","methods","_methods","filter","prepareStates","startOffset","startDelta","fillArg","pageCoords","preEnd","startAll","setAll","states","state","skipModifiers","shouldDo","eventProps","rectDelta","changed","modifiedCoords","applyToInteraction","beforeEnd","endResult","index","modification","endOnly","setStart","t32","xe","Se","Ee","makeModifier","t33","o9","enable","disable","_defaults","addEventModifiers","Te","setAndApply","restoreInteractionCoords","Me","je","ke","t34","De","t35","e25","Ae","Re","ze","t36","Ce","InteractEvent","Fe","t37","n19","r10","o10","t38","e27","ctrlKey","altKey","shiftKey","metaKey","t0","downTime","x0","y0","clientX0","clientY0","duration","swipe","getSwipe","velocityY","velocityX","Ie","defineProperties","Xe","Ye","PointerInfo","t39","e28","downTarget","Be","We","Le","Ve","Interaction","_ProxyMethods","_ProxyValues","end","Ne","qe","t40","e30","scopeFire","_scopeFire","n20","updatePointer","pointerIndex","pointerInfo","_stopped","_doPhase","pointerMoveTolerance","getPointerIndex","curEventTarget","removePointer","_ending","t41","t42","_now","pointerExtend","_updateLatestPointer","_createPreparedEvent","_fireEvent","Ue","$e","Ge","He","Qe","offset","total","pending","Ke","Ze","t43","Je","addTotal","applyPending","offsetBy","tn","en","rn","InertiaState","t44","e32","n21","an","copyFrom","allowResume","v0","currentOffset","startCoords","modifierArg","minSpeed","endSpeed","startInertia","startSmoothEnd","targetOffset","active","resistance","log","lambda_v0","one_ve_v0","isModified","modifiedOffset","onNextFrame","inertiaTick","smoothEnd","smoothEndTick","timeout","exp","sn","smoothEndDuration","ln","modifierCount","nn","inertia","un","phases","inertiastart","resume","cn","dn","pn","Eventable","vn","t45","e34","n22","global","types","fn","hn","substr","gn","createInteractStatic","t46","e35","new","globalEvents","getPointerAverage","getTouchBBox","getTouchDistance","getTouchAngle","version","scope","use","isSet","context","add","debug","addDocument","removeDocument","yn","bn","xn","t47","_actions","_win","_doc","_scopeEvents","r11","onstart","onmove","onend","oninertiastart","updatePerActionListeners","t48","_rectChecker","testIgnore","testAllow","_onOff","delegatedEvents","selector","removeDelegate","mn","wn","Pn","InteractableSet","On","t49","e37","addListeners","t50","selectorMap","n24","win","e38","inContext","_n","Sn","Tn","Mn","t51","e39","jn","kn","t52","e41","originalEvent","stopPropagation","En","In","capture","Dn","t53","e42","n25","r12","o11","a3","s2","l2","addDelegate","n26","u2","c2","m","b","delegateListener","delegateUseCapture","documents","targets","supportsOptions","e43","addEventListener","e44","removeEventListener","hasOwnProperty","createElement","An","Rn","methodOrder","simulationResume","eventType","mouseOrPen","zn","hasPointer","idle","t54","some","Cn","Fn","Xn","t55","Yn","t56","e45","Bn","Wn","Un","t57","e46","Vn","t58","Nn","t59","qn","$n","prevTouchTime","Gn","w","_","searchDetails","Hn","doc","Kn","t60","e47","n27","o12","i3","a4","e48","n28","pointerDown","pointerMove","pointerUp","documentBlur","e49","Ln","e50","n31","destroy","onDocSignal","doOnInteractions","methodNames","Zn","Jn","t61","Qn","t62","e51","n32","t63","e52","nr","getOwnPropertyDescriptor","tr","t64","e53","er","t65","t66","rr","or","ir","ar","initScope","lr","Scope","sr","t67","e54","floor","random","n33","t68","e55","o13","listenerMaps","isInitialized","_plugins","t69","pluginIsInstalled","ur","getDocIndex","onWindowUnload","cr","fr","dr","pr","globalThis","vr","hr","gr","yr","t70","e56","mr","e57","n34","range","limits","grid","round","coordFields","br","xr","wr","snappers","createSnapGrid","_r","Pr","e58","getOwnPropertySymbols","Or","e59","forEach","Sr","getOwnPropertyDescriptors","aspectRatio","Er","ratio","equalDelta","startRect","linkedEdges","xIsPrimaryAxis","edgeSign","subModification","Tr","Mr","prevCoords","prevRect","jr","kr","Ir","Dr","Ar","Rr","zr","getRestrictionRect","restrict","Cr","elementRect","restriction","Fr","Xr","restrictEdges","Yr","Br","Wr","Lr","noInner","noOuter","inner","outer","Ur","Vr","restrictRect","Nr","qr","$r","Gr","restrictSize","Hr","Kr","Zr","Jr","Qr","to","snap","eo","t71","e60","n35","offsetWithOrigin","relativePoints","offsets","relativePoint","source","inRange","P","O","S","no","ro","oo","snapSize","io","targetFields","t72","e61","r13","o14","a5","s3","n36","ao","so","snapEdges","lo","uo","co","fo","po","vo","spring","avoid","transform","rubberband","ho","go","yo","mo","t73","xo","t74","e62","wo","_o","Po","t75","Oo","So","t76","n37","r14","o15","t77","e64","tapTime","double","prevTap","bo","Eo","To","pointerEvents","ko","Mo","t78","e65","node","eventable","holdDuration","t79","e66","collectEventTargets","jo","tap","doubletap","pointerEvent","props","_subtractOrigin","_addOrigin","t80","e67","Io","Do","Ao","holdIntervalHandle","clearInterval","Ro","holdRepeatInterval","holdrepeat","count","zo","Co","Fo","t81","e68","t82","e69","t83","Xo","Yo","Bo","Wo","t84","e70","reflow","e71","t85","e72","n38","r15","o16","Promise","a6","s4","i4","l3","s5","_reflowPromise","_reflowResolve","t86","all","then","Lo","Uo","exports","Vo","t87","No","t88","qo","$o","t89","Go","$14c8f6b839e62eed$var$deckFront","$14c8f6b839e62eed$var$deckBack","$14c8f6b839e62eed$var$body","$7904bb1689ed6fb6$exports","Explosion","ctx","hue","gravity","friction","brightness","explosionLength","_coordinates","_alpha","_x","_y","_exp","_ctx","_gravity","_friction","_explosionLength","_angle","randomFloat","_speed","randomInt","_hue","_brightness","_decay","decay","update","pop","cos","sin","draw","beginPath","arc","fill","fillStyle","hsla","moveTo","lineTo","strokeStyle","stroke","getDistance","pow","__awaiter","i5","throw","Sound","_buffer","onInit","_audioContext","AudioContext","webkitAudioContext","assign","files","volume","load","fetch","arrayBuffer","decodeAudioData","catch","play","createBufferSource","createGain","buffer","gain","connect","destination","i6","Trace","traceLength","acceleration","_currentDistance","_sx","_sy","_dx","_dy","_traceLength","_acceleration","_totalDistance","Fireworks","i7","autoresize","boundaries","mouse","sound","trace","explosion","opacity","particles","rocketsPoint","_tick","_version","_running","_randomRocketsPoint","_experimentals","_m","_container","_canvas","getContext","appendChild","_sound","setSize","setBoundaries","visible","click","windowResize","mouseDown","mouseUp","mouseMove","isRunning","clear","render","unmount","pause","_traces","_explosions","clearRect","_width","_height","setOptions","entries","Error","clientWidth","clientHeight","useMouse","_mx","offsetLeft","_my","offsetTop","globalCompositeOperation","fillRect","drawBoundaries","initTrace","drawTrace","drawExplosion","_ds","initExplosion","$14c8f6b839e62eed$var$dropZones","$14c8f6b839e62eed$var$interactListeners","$14c8f6b839e62eed$var$fireworks","$14c8f6b839e62eed$export$d320c7d7423bc862","game","getElementById","$14c8f6b839e62eed$var$resetInteractListeners","innerHTML","pillId","startX","startY","endX","offsetWidth","endY","offsetHeight","card","$14c8f6b839e62eed$var$printPill","column","$14c8f6b839e62eed$var$makeDrawnCardDraggable","columnId","$14c8f6b839e62eed$var$printColumn","$14c8f6b839e62eed$var$resetContainers","deckCardIdTurn","deckCard","deck","drawCardFromDeck","returnDeck","drawCard","drawnCards","$14c8f6b839e62eed$var$smartActionOnDblClick","$14c8f6b839e62eed$var$printDeck","isEndGame","textContent","classList","$14c8f6b839e62eed$var$smartFinish","$14c8f6b839e62eed$var$printEndButton","isFinish","$14c8f6b839e62eed$var$launchFireworks","$241ec86e036420b1$export$2e2bcd8739ae039","$14c8f6b839e62eed$var$printRestartButton","bravo","pill","cards","size","containerCache","el","$14c8f6b839e62eed$var$printListCard","inverted","lastElement","containers","dragZone","$parcel$interopDefault","evt","$14c8f6b839e62eed$var$updateDraggableClassToParent","$14c8f6b839e62eed$var$dragMoveListener","dropZone","positionX","positionY","limit","isDroppedInDropZone","$14c8f6b839e62eed$var$isInDropZone","$14c8f6b839e62eed$var$resetDragElement","targetIds","nodes","$14c8f6b839e62eed$var$getTargetListId","resultDrop","fromZone","smartAction","parent","setAttribute","parseFloat","getAttribute","nodeId","unset","matchedCard","pillsCardWithZone","pills","lastCard","zone","columnsCardWithZone","columns","latsCardOfColumnWithPosition","matchedCards","pillCardWithZone","pillCard","columnCardWithZone","columnCard","color","dropZoneId","dragZoneId","sort","$14c8f6b839e62eed$var$findCardMatch","translateX","targetTranslateY","translateY","transition","$14c8f6b839e62eed$var$magicMooveCard","addCards","removeCards","cardId","isEmpty","$8062789b7750103c$var$STATE","turnToFront","turnToBack","$ecc12be1d12049e8$var$BLACK_COLOR","$ecc12be1d12049e8$var$RED_COLOR","$ecc12be1d12049e8$export$e3ce649b37a3ba92","includes","$8ebba3c8e5bf84e4$export$2e2bcd8739ae039","super","turnCardToFront","firstCard","shift","cardIds","isFullFilled","column1","$0414fa96935f9491$export$2e2bcd8739ae039","column2","column3","column4","column5","column6","column7","pill1","$74f2883b16352540$export$2e2bcd8739ae039","pill2","pill3","pill4","_init","$8062789b7750103c$export$2e2bcd8739ae039","$ecc12be1d12049e8$export$659b6b545718ce73","newArray","temp","$ecc12be1d12049e8$export$7ac3a88d34a76e7","initColumnPill","cardsId","getCardsFromIds","isDropped","isSmartPlaced","ids"],"version":3,"file":"index.982a6a68.js.map"}